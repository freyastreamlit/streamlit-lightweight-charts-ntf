/*! For license information please see main.4a74a611.js.LICENSE.txt */
(()=>{"use strict";var t={110:(t,e,i)=>{var n=i(441),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(t){return n.isMemo(t)?o:a[t.$$typeof]||r}a[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[n.Memo]=o;var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;t.exports=function t(e,i,n){if("string"!==typeof i){if(p){var r=f(i);r&&r!==p&&t(e,r,n)}var o=c(i);h&&(o=o.concat(h(i)));for(var a=l(e),y=l(i),m=0;m<o.length;++m){var v=o[m];if(!s[v]&&(!n||!n[v])&&(!y||!y[v])&&(!a||!a[v])){var b=d(i,v);try{u(e,v,b)}catch(g){}}}}return e}},725:t=>{var e=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(r){return!1}}()?Object.assign:function(t,r){for(var s,o,a=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),l=1;l<arguments.length;l++){for(var u in s=Object(arguments[l]))i.call(s,u)&&(a[u]=s[u]);if(e){o=e(s);for(var c=0;c<o.length;c++)n.call(s,o[c])&&(a[o[c]]=s[o[c]])}}return a}},463:(t,e,i)=>{var n=i(791),r=i(725),s=i(296);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(o(227));function a(t,e,i,n,r,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(i,u)}catch(c){this.onError(c)}}var l=!1,u=null,c=!1,h=null,d={onError:function(t){l=!0,u=t}};function f(t,e,i,n,r,s,o,c,h){l=!1,u=null,a.apply(d,arguments)}var p=null,y=null,m=null;function v(t,e,i){var n=t.type||"unknown-event";t.currentTarget=m(i),function(t,e,i,n,r,s,a,d,p){if(f.apply(this,arguments),l){if(!l)throw Error(o(198));var y=u;l=!1,u=null,c||(c=!0,h=y)}}(n,e,void 0,t),t.currentTarget=null}var b=null,g={};function w(){if(b)for(var t in g){var e=g[t],i=b.indexOf(t);if(!(-1<i))throw Error(o(96,t));if(!S[i]){if(!e.extractEvents)throw Error(o(97,t));for(var n in S[i]=e,i=e.eventTypes){var r=void 0,s=i[n],a=e,l=n;if(T.hasOwnProperty(l))throw Error(o(99,l));T[l]=s;var u=s.phasedRegistrationNames;if(u){for(r in u)u.hasOwnProperty(r)&&_(u[r],a,l);r=!0}else s.registrationName?(_(s.registrationName,a,l),r=!0):r=!1;if(!r)throw Error(o(98,n,t))}}}}function _(t,e,i){if(I[t])throw Error(o(100,t));I[t]=e,x[t]=e.eventTypes[i].dependencies}var S=[],T={},I={},x={};function M(t){var e,i=!1;for(e in t)if(t.hasOwnProperty(e)){var n=t[e];if(!g.hasOwnProperty(e)||g[e]!==n){if(g[e])throw Error(o(102,e));g[e]=n,i=!0}}i&&w()}var E=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),N=null,C=null,D=null;function k(t){if(t=y(t)){if("function"!==typeof N)throw Error(o(280));var e=t.stateNode;e&&(e=p(e),N(t.stateNode,t.type,e))}}function O(t){C?D?D.push(t):D=[t]:C=t}function A(){if(C){var t=C,e=D;if(D=C=null,k(t),e)for(t=0;t<e.length;t++)k(e[t])}}function B(t,e){return t(e)}function F(t,e,i,n,r){return t(e,i,n,r)}function L(){}var P=B,U=!1,R=!1;function V(){null===C&&null===D||(L(),A())}function z(t,e,i){if(R)return t(e,i);R=!0;try{return P(t,e,i)}finally{R=!1,V()}}var j=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$=Object.prototype.hasOwnProperty,W={},Y={};function H(t,e,i,n,r,s){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=s}var Z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){Z[t]=new H(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];Z[e]=new H(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){Z[t]=new H(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){Z[t]=new H(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){Z[t]=new H(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){Z[t]=new H(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){Z[t]=new H(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){Z[t]=new H(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){Z[t]=new H(t,5,!1,t.toLowerCase(),null,!1)}));var K=/[\-:]([a-z])/g;function J(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(K,J);Z[e]=new H(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(K,J);Z[e]=new H(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(K,J);Z[e]=new H(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){Z[t]=new H(t,1,!1,t.toLowerCase(),null,!1)})),Z.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){Z[t]=new H(t,1,!1,t.toLowerCase(),null,!0)}));var G=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function q(t,e,i,n){var r=Z.hasOwnProperty(e)?Z[e]:null;(null!==r?0===r.type:!n&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,i,n){if(null===e||"undefined"===typeof e||function(t,e,i,n){if(null!==i&&0===i.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==i?!i.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,i,n))return!0;if(n)return!1;if(null!==i)switch(i.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,i,r,n)&&(i=null),n||null===r?function(t){return!!$.call(Y,t)||!$.call(W,t)&&(j.test(t)?Y[t]=!0:(W[t]=!0,!1))}(e)&&(null===i?t.removeAttribute(e):t.setAttribute(e,""+i)):r.mustUseProperty?t[r.propertyName]=null===i?3!==r.type&&"":i:(e=r.attributeName,n=r.attributeNamespace,null===i?t.removeAttribute(e):(i=3===(r=r.type)||4===r&&!0===i?"":""+i,n?t.setAttributeNS(n,e,i):t.setAttribute(e,i))))}G.hasOwnProperty("ReactCurrentDispatcher")||(G.ReactCurrentDispatcher={current:null}),G.hasOwnProperty("ReactCurrentBatchConfig")||(G.ReactCurrentBatchConfig={suspense:null});var X=/^(.*)[\\\/]/,Q="function"===typeof Symbol&&Symbol.for,tt=Q?Symbol.for("react.element"):60103,et=Q?Symbol.for("react.portal"):60106,it=Q?Symbol.for("react.fragment"):60107,nt=Q?Symbol.for("react.strict_mode"):60108,rt=Q?Symbol.for("react.profiler"):60114,st=Q?Symbol.for("react.provider"):60109,ot=Q?Symbol.for("react.context"):60110,at=Q?Symbol.for("react.concurrent_mode"):60111,lt=Q?Symbol.for("react.forward_ref"):60112,ut=Q?Symbol.for("react.suspense"):60113,ct=Q?Symbol.for("react.suspense_list"):60120,ht=Q?Symbol.for("react.memo"):60115,dt=Q?Symbol.for("react.lazy"):60116,ft=Q?Symbol.for("react.block"):60121,pt="function"===typeof Symbol&&Symbol.iterator;function yt(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=pt&&t[pt]||t["@@iterator"])?t:null}function mt(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case it:return"Fragment";case et:return"Portal";case rt:return"Profiler";case nt:return"StrictMode";case ut:return"Suspense";case ct:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case ot:return"Context.Consumer";case st:return"Context.Provider";case lt:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case ht:return mt(t.type);case ft:return mt(t.render);case dt:if(t=1===t._status?t._result:null)return mt(t)}return null}function vt(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var i="";break t;default:var n=t._debugOwner,r=t._debugSource,s=mt(t.type);i=null,n&&(i=mt(n.type)),n=s,s="",r?s=" (at "+r.fileName.replace(X,"")+":"+r.lineNumber+")":i&&(s=" (created by "+i+")"),i="\n    in "+(n||"Unknown")+s}e+=i,t=t.return}while(t);return e}function bt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function gt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function wt(t){t._valueTracker||(t._valueTracker=function(t){var e=gt(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof i&&"function"===typeof i.get&&"function"===typeof i.set){var r=i.get,s=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){n=""+t,s.call(this,t)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(t){n=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function _t(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),n="";return t&&(n=gt(t)?t.checked?"true":"false":t.value),(t=n)!==i&&(e.setValue(t),!0)}function St(t,e){var i=e.checked;return r({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:t._wrapperState.initialChecked})}function Tt(t,e){var i=null==e.defaultValue?"":e.defaultValue,n=null!=e.checked?e.checked:e.defaultChecked;i=bt(null!=e.value?e.value:i),t._wrapperState={initialChecked:n,initialValue:i,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function It(t,e){null!=(e=e.checked)&&q(t,"checked",e,!1)}function xt(t,e){It(t,e);var i=bt(e.value),n=e.type;if(null!=i)"number"===n?(0===i&&""===t.value||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if("submit"===n||"reset"===n)return void t.removeAttribute("value");e.hasOwnProperty("value")?Et(t,e.type,i):e.hasOwnProperty("defaultValue")&&Et(t,e.type,bt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Mt(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!("submit"!==n&&"reset"!==n||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}""!==(i=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==i&&(t.name=i)}function Et(t,e,i){"number"===e&&t.ownerDocument.activeElement===t||(null==i?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}function Nt(t,e){return t=r({children:void 0},e),(e=function(t){var e="";return n.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function Ct(t,e,i,n){if(t=t.options,e){e={};for(var r=0;r<i.length;r++)e["$"+i[r]]=!0;for(i=0;i<t.length;i++)r=e.hasOwnProperty("$"+t[i].value),t[i].selected!==r&&(t[i].selected=r),r&&n&&(t[i].defaultSelected=!0)}else{for(i=""+bt(i),e=null,r=0;r<t.length;r++){if(t[r].value===i)return t[r].selected=!0,void(n&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function Dt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return r({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function kt(t,e){var i=e.value;if(null==i){if(i=e.children,e=e.defaultValue,null!=i){if(null!=e)throw Error(o(92));if(Array.isArray(i)){if(!(1>=i.length))throw Error(o(93));i=i[0]}e=i}null==e&&(e=""),i=e}t._wrapperState={initialValue:bt(i)}}function Ot(t,e){var i=bt(e.value),n=bt(e.defaultValue);null!=i&&((i=""+i)!==t.value&&(t.value=i),null==e.defaultValue&&t.defaultValue!==i&&(t.defaultValue=i)),null!=n&&(t.defaultValue=""+n)}function At(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var Bt="http://www.w3.org/1999/xhtml",Ft="http://www.w3.org/2000/svg";function Lt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Lt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var Ut,Rt,Vt=(Rt=function(t,e){if(t.namespaceURI!==Ft||"innerHTML"in t)t.innerHTML=e;else{for((Ut=Ut||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ut.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,i,n){MSApp.execUnsafeLocalFunction((function(){return Rt(t,e)}))}:Rt);function zt(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&3===i.nodeType)return void(i.nodeValue=e)}t.textContent=e}function jt(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var $t={animationend:jt("Animation","AnimationEnd"),animationiteration:jt("Animation","AnimationIteration"),animationstart:jt("Animation","AnimationStart"),transitionend:jt("Transition","TransitionEnd")},Wt={},Yt={};function Ht(t){if(Wt[t])return Wt[t];if(!$t[t])return t;var e,i=$t[t];for(e in i)if(i.hasOwnProperty(e)&&e in Yt)return Wt[t]=i[e];return t}E&&(Yt=document.createElement("div").style,"AnimationEvent"in window||(delete $t.animationend.animation,delete $t.animationiteration.animation,delete $t.animationstart.animation),"TransitionEvent"in window||delete $t.transitionend.transition);var Zt=Ht("animationend"),Kt=Ht("animationiteration"),Jt=Ht("animationstart"),Gt=Ht("transitionend"),qt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xt=new("function"===typeof WeakMap?WeakMap:Map);function Qt(t){var e=Xt.get(t);return void 0===e&&(e=new Map,Xt.set(t,e)),e}function te(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).effectTag)&&(i=e.return),t=e.return}while(t)}return 3===e.tag?i:null}function ee(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function ie(t){if(te(t)!==t)throw Error(o(188))}function ne(t){if(t=function(t){var e=t.alternate;if(!e){if(null===(e=te(t)))throw Error(o(188));return e!==t?null:t}for(var i=t,n=e;;){var r=i.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(n=r.return)){i=n;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===i)return ie(r),t;if(s===n)return ie(r),e;s=s.sibling}throw Error(o(188))}if(i.return!==n.return)i=r,n=s;else{for(var a=!1,l=r.child;l;){if(l===i){a=!0,i=r,n=s;break}if(l===n){a=!0,n=r,i=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===i){a=!0,i=s,n=r;break}if(l===n){a=!0,n=s,i=r;break}l=l.sibling}if(!a)throw Error(o(189))}}if(i.alternate!==n)throw Error(o(190))}if(3!==i.tag)throw Error(o(188));return i.stateNode.current===i?t:e}(t),!t)return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function re(t,e){if(null==e)throw Error(o(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function se(t,e,i){Array.isArray(t)?t.forEach(e,i):t&&e.call(i,t)}var oe=null;function ae(t){if(t){var e=t._dispatchListeners,i=t._dispatchInstances;if(Array.isArray(e))for(var n=0;n<e.length&&!t.isPropagationStopped();n++)v(t,e[n],i[n]);else e&&v(t,e,i);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function le(t){if(null!==t&&(oe=re(oe,t)),t=oe,oe=null,t){if(se(t,ae),oe)throw Error(o(95));if(c)throw t=h,c=!1,h=null,t}}function ue(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function ce(t){if(!E)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}var he=[];function de(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>he.length&&he.push(t)}function fe(t,e,i,n){if(he.length){var r=he.pop();return r.topLevelType=t,r.eventSystemFlags=n,r.nativeEvent=e,r.targetInst=i,r}return{topLevelType:t,eventSystemFlags:n,nativeEvent:e,targetInst:i,ancestors:[]}}function pe(t){var e=t.targetInst,i=e;do{if(!i){t.ancestors.push(i);break}var n=i;if(3===n.tag)n=n.stateNode.containerInfo;else{for(;n.return;)n=n.return;n=3!==n.tag?null:n.stateNode.containerInfo}if(!n)break;5!==(e=i.tag)&&6!==e||t.ancestors.push(i),i=Oi(n)}while(i);for(i=0;i<t.ancestors.length;i++){e=t.ancestors[i];var r=ue(t.nativeEvent);n=t.topLevelType;var s=t.nativeEvent,o=t.eventSystemFlags;0===i&&(o|=64);for(var a=null,l=0;l<S.length;l++){var u=S[l];u&&(u=u.extractEvents(n,e,s,r,o))&&(a=re(a,u))}le(a)}}function ye(t,e,i){if(!i.has(t)){switch(t){case"scroll":Je(e,"scroll",!0);break;case"focus":case"blur":Je(e,"focus",!0),Je(e,"blur",!0),i.set("blur",null),i.set("focus",null);break;case"cancel":case"close":ce(t)&&Je(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===qt.indexOf(t)&&Ke(t,e)}i.set(t,null)}}var me,ve,be,ge=!1,we=[],_e=null,Se=null,Te=null,Ie=new Map,xe=new Map,Me=[],Ee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ne="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ce(t,e,i,n,r){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|i,nativeEvent:r,container:n}}function De(t,e){switch(t){case"focus":case"blur":_e=null;break;case"dragenter":case"dragleave":Se=null;break;case"mouseover":case"mouseout":Te=null;break;case"pointerover":case"pointerout":Ie.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xe.delete(e.pointerId)}}function ke(t,e,i,n,r,s){return null===t||t.nativeEvent!==s?(t=Ce(e,i,n,r,s),null!==e&&(null!==(e=Ai(e))&&ve(e)),t):(t.eventSystemFlags|=n,t)}function Oe(t){var e=Oi(t.target);if(null!==e){var i=te(e);if(null!==i)if(13===(e=i.tag)){if(null!==(e=ee(i)))return t.blockedOn=e,void s.unstable_runWithPriority(t.priority,(function(){be(i)}))}else if(3===e&&i.stateNode.hydrate)return void(t.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}t.blockedOn=null}function Ae(t){if(null!==t.blockedOn)return!1;var e=Qe(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var i=Ai(e);return null!==i&&ve(i),t.blockedOn=e,!1}return!0}function Be(t,e,i){Ae(t)&&i.delete(e)}function Fe(){for(ge=!1;0<we.length;){var t=we[0];if(null!==t.blockedOn){null!==(t=Ai(t.blockedOn))&&me(t);break}var e=Qe(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:we.shift()}null!==_e&&Ae(_e)&&(_e=null),null!==Se&&Ae(Se)&&(Se=null),null!==Te&&Ae(Te)&&(Te=null),Ie.forEach(Be),xe.forEach(Be)}function Le(t,e){t.blockedOn===e&&(t.blockedOn=null,ge||(ge=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Fe)))}function Pe(t){function e(e){return Le(e,t)}if(0<we.length){Le(we[0],t);for(var i=1;i<we.length;i++){var n=we[i];n.blockedOn===t&&(n.blockedOn=null)}}for(null!==_e&&Le(_e,t),null!==Se&&Le(Se,t),null!==Te&&Le(Te,t),Ie.forEach(e),xe.forEach(e),i=0;i<Me.length;i++)(n=Me[i]).blockedOn===t&&(n.blockedOn=null);for(;0<Me.length&&null===(i=Me[0]).blockedOn;)Oe(i),null===i.blockedOn&&Me.shift()}var Ue={},Re=new Map,Ve=new Map,ze=["abort","abort",Zt,"animationEnd",Kt,"animationIteration",Jt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Gt,"transitionEnd","waiting","waiting"];function je(t,e){for(var i=0;i<t.length;i+=2){var n=t[i],r=t[i+1],s="on"+(r[0].toUpperCase()+r.slice(1));s={phasedRegistrationNames:{bubbled:s,captured:s+"Capture"},dependencies:[n],eventPriority:e},Ve.set(n,e),Re.set(n,s),Ue[r]=s}}je("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),je("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),je(ze,2);for(var $e="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),We=0;We<$e.length;We++)Ve.set($e[We],0);var Ye=s.unstable_UserBlockingPriority,He=s.unstable_runWithPriority,Ze=!0;function Ke(t,e){Je(e,t,!1)}function Je(t,e,i){var n=Ve.get(e);switch(void 0===n?2:n){case 0:n=Ge.bind(null,e,1,t);break;case 1:n=qe.bind(null,e,1,t);break;default:n=Xe.bind(null,e,1,t)}i?t.addEventListener(e,n,!0):t.addEventListener(e,n,!1)}function Ge(t,e,i,n){U||L();var r=Xe,s=U;U=!0;try{F(r,t,e,i,n)}finally{(U=s)||V()}}function qe(t,e,i,n){He(Ye,Xe.bind(null,t,e,i,n))}function Xe(t,e,i,n){if(Ze)if(0<we.length&&-1<Ee.indexOf(t))t=Ce(null,t,e,i,n),we.push(t);else{var r=Qe(t,e,i,n);if(null===r)De(t,n);else if(-1<Ee.indexOf(t))t=Ce(r,t,e,i,n),we.push(t);else if(!function(t,e,i,n,r){switch(e){case"focus":return _e=ke(_e,t,e,i,n,r),!0;case"dragenter":return Se=ke(Se,t,e,i,n,r),!0;case"mouseover":return Te=ke(Te,t,e,i,n,r),!0;case"pointerover":var s=r.pointerId;return Ie.set(s,ke(Ie.get(s)||null,t,e,i,n,r)),!0;case"gotpointercapture":return s=r.pointerId,xe.set(s,ke(xe.get(s)||null,t,e,i,n,r)),!0}return!1}(r,t,e,i,n)){De(t,n),t=fe(t,n,null,e);try{z(pe,t)}finally{de(t)}}}}function Qe(t,e,i,n){if(null!==(i=Oi(i=ue(n)))){var r=te(i);if(null===r)i=null;else{var s=r.tag;if(13===s){if(null!==(i=ee(r)))return i;i=null}else if(3===s){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}t=fe(t,n,i,e);try{z(pe,t)}finally{de(t)}return null}var ti={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ei=["Webkit","ms","Moz","O"];function ii(t,e,i){return null==e||"boolean"===typeof e||""===e?"":i||"number"!==typeof e||0===e||ti.hasOwnProperty(t)&&ti[t]?(""+e).trim():e+"px"}function ni(t,e){for(var i in t=t.style,e)if(e.hasOwnProperty(i)){var n=0===i.indexOf("--"),r=ii(i,e[i],n);"float"===i&&(i="cssFloat"),n?t.setProperty(i,r):t[i]=r}}Object.keys(ti).forEach((function(t){ei.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ti[e]=ti[t]}))}));var ri=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function si(t,e){if(e){if(ri[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(o(62,""))}}function oi(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ai=Bt;function li(t,e){var i=Qt(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=x[e];for(var n=0;n<e.length;n++)ye(e[n],t,i)}function ui(){}function ci(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function hi(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function di(t,e){var i,n=hi(t);for(t=0;n;){if(3===n.nodeType){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=hi(n)}}function fi(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?fi(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function pi(){for(var t=window,e=ci();e instanceof t.HTMLIFrameElement;){try{var i="string"===typeof e.contentWindow.location.href}catch(n){i=!1}if(!i)break;e=ci((t=e.contentWindow).document)}return e}function yi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var mi="$",vi="/$",bi="$?",gi="$!",wi=null,_i=null;function Si(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Ti(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var Ii="function"===typeof setTimeout?setTimeout:void 0,xi="function"===typeof clearTimeout?clearTimeout:void 0;function Mi(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Ei(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var i=t.data;if(i===mi||i===gi||i===bi){if(0===e)return t;e--}else i===vi&&e++}t=t.previousSibling}return null}var Ni=Math.random().toString(36).slice(2),Ci="__reactInternalInstance$"+Ni,Di="__reactEventHandlers$"+Ni,ki="__reactContainere$"+Ni;function Oi(t){var e=t[Ci];if(e)return e;for(var i=t.parentNode;i;){if(e=i[ki]||i[Ci]){if(i=e.alternate,null!==e.child||null!==i&&null!==i.child)for(t=Ei(t);null!==t;){if(i=t[Ci])return i;t=Ei(t)}return e}i=(t=i).parentNode}return null}function Ai(t){return!(t=t[Ci]||t[ki])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Bi(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function Fi(t){return t[Di]||null}function Li(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Pi(t,e){var i=t.stateNode;if(!i)return null;var n=p(i);if(!n)return null;i=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!n;break t;default:t=!1}if(t)return null;if(i&&"function"!==typeof i)throw Error(o(231,e,typeof i));return i}function Ui(t,e,i){(e=Pi(t,i.dispatchConfig.phasedRegistrationNames[e]))&&(i._dispatchListeners=re(i._dispatchListeners,e),i._dispatchInstances=re(i._dispatchInstances,t))}function Ri(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,i=[];e;)i.push(e),e=Li(e);for(e=i.length;0<e--;)Ui(i[e],"captured",t);for(e=0;e<i.length;e++)Ui(i[e],"bubbled",t)}}function Vi(t,e,i){t&&i&&i.dispatchConfig.registrationName&&(e=Pi(t,i.dispatchConfig.registrationName))&&(i._dispatchListeners=re(i._dispatchListeners,e),i._dispatchInstances=re(i._dispatchInstances,t))}function zi(t){t&&t.dispatchConfig.registrationName&&Vi(t._targetInst,null,t)}function ji(t){se(t,Ri)}var $i=null,Wi=null,Yi=null;function Hi(){if(Yi)return Yi;var t,e,i=Wi,n=i.length,r="value"in $i?$i.value:$i.textContent,s=r.length;for(t=0;t<n&&i[t]===r[t];t++);var o=n-t;for(e=1;e<=o&&i[n-e]===r[s-e];e++);return Yi=r.slice(t,1<e?1-e:void 0)}function Zi(){return!0}function Ki(){return!1}function Ji(t,e,i,n){for(var r in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=i,t=this.constructor.Interface)t.hasOwnProperty(r)&&((e=t[r])?this[r]=e(i):"target"===r?this.target=n:this[r]=i[r]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Zi:Ki,this.isPropagationStopped=Ki,this}function Gi(t,e,i,n){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,t,e,i,n),r}return new this(t,e,i,n)}function qi(t){if(!(t instanceof this))throw Error(o(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function Xi(t){t.eventPool=[],t.getPooled=Gi,t.release=qi}r(Ji.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){this.isPersistent=Zi},isPersistent:Ki,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Ki,this._dispatchInstances=this._dispatchListeners=null}}),Ji.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Ji.extend=function(t){function e(){}function i(){return n.apply(this,arguments)}var n=this;e.prototype=n.prototype;var s=new e;return r(s,i.prototype),i.prototype=s,i.prototype.constructor=i,i.Interface=r({},n.Interface,t),i.extend=n.extend,Xi(i),i},Xi(Ji);var Qi=Ji.extend({data:null}),tn=Ji.extend({data:null}),en=[9,13,27,32],nn=E&&"CompositionEvent"in window,rn=null;E&&"documentMode"in document&&(rn=document.documentMode);var sn=E&&"TextEvent"in window&&!rn,on=E&&(!nn||rn&&8<rn&&11>=rn),an=String.fromCharCode(32),ln={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},un=!1;function cn(t,e){switch(t){case"keyup":return-1!==en.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function hn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var dn=!1;var fn={eventTypes:ln,extractEvents:function(t,e,i,n){var r;if(nn)t:{switch(t){case"compositionstart":var s=ln.compositionStart;break t;case"compositionend":s=ln.compositionEnd;break t;case"compositionupdate":s=ln.compositionUpdate;break t}s=void 0}else dn?cn(t,i)&&(s=ln.compositionEnd):"keydown"===t&&229===i.keyCode&&(s=ln.compositionStart);return s?(on&&"ko"!==i.locale&&(dn||s!==ln.compositionStart?s===ln.compositionEnd&&dn&&(r=Hi()):(Wi="value"in($i=n)?$i.value:$i.textContent,dn=!0)),s=Qi.getPooled(s,e,i,n),r?s.data=r:null!==(r=hn(i))&&(s.data=r),ji(s),r=s):r=null,(t=sn?function(t,e){switch(t){case"compositionend":return hn(e);case"keypress":return 32!==e.which?null:(un=!0,an);case"textInput":return(t=e.data)===an&&un?null:t;default:return null}}(t,i):function(t,e){if(dn)return"compositionend"===t||!nn&&cn(t,e)?(t=Hi(),Yi=Wi=$i=null,dn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return on&&"ko"!==e.locale?null:e.data}}(t,i))?((e=tn.getPooled(ln.beforeInput,e,i,n)).data=t,ji(e)):e=null,null===r?e:null===e?r:[r,e]}},pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!pn[t.type]:"textarea"===e}var mn={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function vn(t,e,i){return(t=Ji.getPooled(mn.change,t,e,i)).type="change",O(i),ji(t),t}var bn=null,gn=null;function wn(t){le(t)}function _n(t){if(_t(Bi(t)))return t}function Sn(t,e){if("change"===t)return e}var Tn=!1;function In(){bn&&(bn.detachEvent("onpropertychange",xn),gn=bn=null)}function xn(t){if("value"===t.propertyName&&_n(gn))if(t=vn(gn,t,ue(t)),U)le(t);else{U=!0;try{B(wn,t)}finally{U=!1,V()}}}function Mn(t,e,i){"focus"===t?(In(),gn=i,(bn=e).attachEvent("onpropertychange",xn)):"blur"===t&&In()}function En(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return _n(gn)}function Nn(t,e){if("click"===t)return _n(e)}function Cn(t,e){if("input"===t||"change"===t)return _n(e)}E&&(Tn=ce("input")&&(!document.documentMode||9<document.documentMode));var Dn={eventTypes:mn,_isInputEventSupported:Tn,extractEvents:function(t,e,i,n){var r=e?Bi(e):window,s=r.nodeName&&r.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===r.type)var o=Sn;else if(yn(r))if(Tn)o=Cn;else{o=En;var a=Mn}else(s=r.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(o=Nn);if(o&&(o=o(t,e)))return vn(o,i,n);a&&a(t,r,e),"blur"===t&&(t=r._wrapperState)&&t.controlled&&"number"===r.type&&Et(r,"number",r.value)}},kn=Ji.extend({view:null,detail:null}),On={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=On[t])&&!!e[t]}function Bn(){return An}var Fn=0,Ln=0,Pn=!1,Un=!1,Rn=kn.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Bn,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Fn;return Fn=t.screenX,Pn?"mousemove"===t.type?t.screenX-e:0:(Pn=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Ln;return Ln=t.screenY,Un?"mousemove"===t.type?t.screenY-e:0:(Un=!0,0)}}),Vn=Rn.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),zn={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},jn={eventTypes:zn,extractEvents:function(t,e,i,n,r){var s="mouseover"===t||"pointerover"===t,o="mouseout"===t||"pointerout"===t;if(s&&0===(32&r)&&(i.relatedTarget||i.fromElement)||!o&&!s)return null;(s=n.window===n?n:(s=n.ownerDocument)?s.defaultView||s.parentWindow:window,o)?(o=e,null!==(e=(e=i.relatedTarget||i.toElement)?Oi(e):null)&&(e!==te(e)||5!==e.tag&&6!==e.tag)&&(e=null)):o=null;if(o===e)return null;if("mouseout"===t||"mouseover"===t)var a=Rn,l=zn.mouseLeave,u=zn.mouseEnter,c="mouse";else"pointerout"!==t&&"pointerover"!==t||(a=Vn,l=zn.pointerLeave,u=zn.pointerEnter,c="pointer");if(t=null==o?s:Bi(o),s=null==e?s:Bi(e),(l=a.getPooled(l,o,i,n)).type=c+"leave",l.target=t,l.relatedTarget=s,(i=a.getPooled(u,e,i,n)).type=c+"enter",i.target=s,i.relatedTarget=t,c=e,(n=o)&&c)t:{for(u=c,o=0,t=a=n;t;t=Li(t))o++;for(t=0,e=u;e;e=Li(e))t++;for(;0<o-t;)a=Li(a),o--;for(;0<t-o;)u=Li(u),t--;for(;o--;){if(a===u||a===u.alternate)break t;a=Li(a),u=Li(u)}a=null}else a=null;for(u=a,a=[];n&&n!==u&&(null===(o=n.alternate)||o!==u);)a.push(n),n=Li(n);for(n=[];c&&c!==u&&(null===(o=c.alternate)||o!==u);)n.push(c),c=Li(c);for(c=0;c<a.length;c++)Vi(a[c],"bubbled",l);for(c=n.length;0<c--;)Vi(n[c],"captured",i);return 0===(64&r)?[l]:[l,i]}};var $n="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},Wn=Object.prototype.hasOwnProperty;function Yn(t,e){if($n(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var i=Object.keys(t),n=Object.keys(e);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++)if(!Wn.call(e,i[n])||!$n(t[i[n]],e[i[n]]))return!1;return!0}var Hn=E&&"documentMode"in document&&11>=document.documentMode,Zn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Kn=null,Jn=null,Gn=null,qn=!1;function Xn(t,e){var i=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return qn||null==Kn||Kn!==ci(i)?null:("selectionStart"in(i=Kn)&&yi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},Gn&&Yn(Gn,i)?null:(Gn=i,(t=Ji.getPooled(Zn.select,Jn,t,e)).type="select",t.target=Kn,ji(t),t))}var Qn={eventTypes:Zn,extractEvents:function(t,e,i,n,r,s){if(!(s=!(r=s||(n.window===n?n.document:9===n.nodeType?n:n.ownerDocument)))){t:{r=Qt(r),s=x.onSelect;for(var o=0;o<s.length;o++)if(!r.has(s[o])){r=!1;break t}r=!0}s=!r}if(s)return null;switch(r=e?Bi(e):window,t){case"focus":(yn(r)||"true"===r.contentEditable)&&(Kn=r,Jn=e,Gn=null);break;case"blur":Gn=Jn=Kn=null;break;case"mousedown":qn=!0;break;case"contextmenu":case"mouseup":case"dragend":return qn=!1,Xn(i,n);case"selectionchange":if(Hn)break;case"keydown":case"keyup":return Xn(i,n)}return null}},tr=Ji.extend({animationName:null,elapsedTime:null,pseudoElement:null}),er=Ji.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ir=kn.extend({relatedTarget:null});function nr(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var rr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},or=kn.extend({key:function(t){if(t.key){var e=rr[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=nr(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?sr[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Bn,charCode:function(t){return"keypress"===t.type?nr(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?nr(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),ar=Rn.extend({dataTransfer:null}),lr=kn.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Bn}),ur=Ji.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),cr=Rn.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),hr={eventTypes:Ue,extractEvents:function(t,e,i,n){var r=Re.get(t);if(!r)return null;switch(t){case"keypress":if(0===nr(i))return null;case"keydown":case"keyup":t=or;break;case"blur":case"focus":t=ir;break;case"click":if(2===i.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=ar;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=lr;break;case Zt:case Kt:case Jt:t=tr;break;case Gt:t=ur;break;case"scroll":t=kn;break;case"wheel":t=cr;break;case"copy":case"cut":case"paste":t=er;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Vn;break;default:t=Ji}return ji(e=t.getPooled(r,e,i,n)),e}};if(b)throw Error(o(101));b=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w(),p=Fi,y=Ai,m=Bi,M({SimpleEventPlugin:hr,EnterLeaveEventPlugin:jn,ChangeEventPlugin:Dn,SelectEventPlugin:Qn,BeforeInputEventPlugin:fn});var dr=[],fr=-1;function pr(t){0>fr||(t.current=dr[fr],dr[fr]=null,fr--)}function yr(t,e){fr++,dr[fr]=t.current,t.current=e}var mr={},vr={current:mr},br={current:!1},gr=mr;function wr(t,e){var i=t.type.contextTypes;if(!i)return mr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in i)s[r]=e[r];return n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function _r(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Sr(){pr(br),pr(vr)}function Tr(t,e,i){if(vr.current!==mr)throw Error(o(168));yr(vr,e),yr(br,i)}function Ir(t,e,i){var n=t.stateNode;if(t=e.childContextTypes,"function"!==typeof n.getChildContext)return i;for(var s in n=n.getChildContext())if(!(s in t))throw Error(o(108,mt(e)||"Unknown",s));return r({},i,{},n)}function xr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mr,gr=vr.current,yr(vr,t),yr(br,br.current),!0}function Mr(t,e,i){var n=t.stateNode;if(!n)throw Error(o(169));i?(t=Ir(t,e,gr),n.__reactInternalMemoizedMergedChildContext=t,pr(br),pr(vr),yr(vr,t)):pr(br),yr(br,i)}var Er=s.unstable_runWithPriority,Nr=s.unstable_scheduleCallback,Cr=s.unstable_cancelCallback,Dr=s.unstable_requestPaint,kr=s.unstable_now,Or=s.unstable_getCurrentPriorityLevel,Ar=s.unstable_ImmediatePriority,Br=s.unstable_UserBlockingPriority,Fr=s.unstable_NormalPriority,Lr=s.unstable_LowPriority,Pr=s.unstable_IdlePriority,Ur={},Rr=s.unstable_shouldYield,Vr=void 0!==Dr?Dr:function(){},zr=null,jr=null,$r=!1,Wr=kr(),Yr=1e4>Wr?kr:function(){return kr()-Wr};function Hr(){switch(Or()){case Ar:return 99;case Br:return 98;case Fr:return 97;case Lr:return 96;case Pr:return 95;default:throw Error(o(332))}}function Zr(t){switch(t){case 99:return Ar;case 98:return Br;case 97:return Fr;case 96:return Lr;case 95:return Pr;default:throw Error(o(332))}}function Kr(t,e){return t=Zr(t),Er(t,e)}function Jr(t,e,i){return t=Zr(t),Nr(t,e,i)}function Gr(t){return null===zr?(zr=[t],jr=Nr(Ar,Xr)):zr.push(t),Ur}function qr(){if(null!==jr){var t=jr;jr=null,Cr(t)}Xr()}function Xr(){if(!$r&&null!==zr){$r=!0;var t=0;try{var e=zr;Kr(99,(function(){for(;t<e.length;t++){var i=e[t];do{i=i(!0)}while(null!==i)}})),zr=null}catch(i){throw null!==zr&&(zr=zr.slice(t+1)),Nr(Ar,qr),i}finally{$r=!1}}}function Qr(t,e,i){return 1073741821-(1+((1073741821-t+e/10)/(i/=10)|0))*i}function ts(t,e){if(t&&t.defaultProps)for(var i in e=r({},e),t=t.defaultProps)void 0===e[i]&&(e[i]=t[i]);return e}var es={current:null},is=null,ns=null,rs=null;function ss(){rs=ns=is=null}function os(t){var e=es.current;pr(es),t.type._context._currentValue=e}function as(t,e){for(;null!==t;){var i=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==i&&i.childExpirationTime<e&&(i.childExpirationTime=e);else{if(!(null!==i&&i.childExpirationTime<e))break;i.childExpirationTime=e}t=t.return}}function ls(t,e){is=t,rs=ns=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(Lo=!0),t.firstContext=null)}function us(t,e){if(rs!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(rs=t,e=1073741823),e={context:t,observedBits:e,next:null},null===ns){if(null===is)throw Error(o(308));ns=e,is.dependencies={expirationTime:0,firstContext:e,responders:null}}else ns=ns.next=e;return t._currentValue}var cs=!1;function hs(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ds(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function fs(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function ps(t,e){if(null!==(t=t.updateQueue)){var i=(t=t.shared).pending;null===i?e.next=e:(e.next=i.next,i.next=e),t.pending=e}}function ys(t,e){var i=t.alternate;null!==i&&ds(i,t),null===(i=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=i.next,i.next=e)}function ms(t,e,i,n){var s=t.updateQueue;cs=!1;var o=s.baseQueue,a=s.shared.pending;if(null!==a){if(null!==o){var l=o.next;o.next=a.next,a.next=l}o=a,s.shared.pending=null,null!==(l=t.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=a))}if(null!==o){l=o.next;var u=s.baseState,c=0,h=null,d=null,f=null;if(null!==l)for(var p=l;;){if((a=p.expirationTime)<n){var y={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===f?(d=f=y,h=u):f=f.next=y,a>c&&(c=a)}else{null!==f&&(f=f.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),Sl(a,p.suspenseConfig);t:{var m=t,v=p;switch(a=e,y=i,v.tag){case 1:if("function"===typeof(m=v.payload)){u=m.call(y,u,a);break t}u=m;break t;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null===(a="function"===typeof(m=v.payload)?m.call(y,u,a):m)||void 0===a)break t;u=r({},u,a);break t;case 2:cs=!0}}null!==p.callback&&(t.effectTag|=32,null===(a=s.effects)?s.effects=[p]:a.push(p))}if(null===(p=p.next)||p===l){if(null===(a=s.shared.pending))break;p=o.next=a.next,a.next=l,s.baseQueue=o=a,s.shared.pending=null}}null===f?h=u:f.next=d,s.baseState=h,s.baseQueue=f,Tl(c),t.expirationTime=c,t.memoizedState=u}}function vs(t,e,i){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var n=t[e],r=n.callback;if(null!==r){if(n.callback=null,n=r,r=i,"function"!==typeof n)throw Error(o(191,n));n.call(r)}}}var bs=G.ReactCurrentBatchConfig,gs=(new n.Component).refs;function ws(t,e,i,n){i=null===(i=i(n,e=t.memoizedState))||void 0===i?e:r({},e,i),t.memoizedState=i,0===t.expirationTime&&(t.updateQueue.baseState=i)}var _s={isMounted:function(t){return!!(t=t._reactInternalFiber)&&te(t)===t},enqueueSetState:function(t,e,i){t=t._reactInternalFiber;var n=ul(),r=bs.suspense;(r=fs(n=cl(n,t,r),r)).payload=e,void 0!==i&&null!==i&&(r.callback=i),ps(t,r),hl(t,n)},enqueueReplaceState:function(t,e,i){t=t._reactInternalFiber;var n=ul(),r=bs.suspense;(r=fs(n=cl(n,t,r),r)).tag=1,r.payload=e,void 0!==i&&null!==i&&(r.callback=i),ps(t,r),hl(t,n)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var i=ul(),n=bs.suspense;(n=fs(i=cl(i,t,n),n)).tag=2,void 0!==e&&null!==e&&(n.callback=e),ps(t,n),hl(t,i)}};function Ss(t,e,i,n,r,s,o){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(n,s,o):!e.prototype||!e.prototype.isPureReactComponent||(!Yn(i,n)||!Yn(r,s))}function Ts(t,e,i){var n=!1,r=mr,s=e.contextType;return"object"===typeof s&&null!==s?s=us(s):(r=_r(e)?gr:vr.current,s=(n=null!==(n=e.contextTypes)&&void 0!==n)?wr(t,r):mr),e=new e(i,s),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=_s,t.stateNode=e,e._reactInternalFiber=t,n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function Is(t,e,i,n){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(i,n),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(i,n),e.state!==t&&_s.enqueueReplaceState(e,e.state,null)}function xs(t,e,i,n){var r=t.stateNode;r.props=i,r.state=t.memoizedState,r.refs=gs,hs(t);var s=e.contextType;"object"===typeof s&&null!==s?r.context=us(s):(s=_r(e)?gr:vr.current,r.context=wr(t,s)),ms(t,i,r,n),r.state=t.memoizedState,"function"===typeof(s=e.getDerivedStateFromProps)&&(ws(t,e,s,i),r.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(e=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&_s.enqueueReplaceState(r,r.state,null),ms(t,i,r,n),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.effectTag|=4)}var Ms=Array.isArray;function Es(t,e,i){if(null!==(t=i.ref)&&"function"!==typeof t&&"object"!==typeof t){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(o(309));var n=i.stateNode}if(!n)throw Error(o(147,t));var r=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===r?e.ref:(e=function(t){var e=n.refs;e===gs&&(e=n.refs={}),null===t?delete e[r]:e[r]=t},e._stringRef=r,e)}if("string"!==typeof t)throw Error(o(284));if(!i._owner)throw Error(o(290,t))}return t}function Ns(t,e){if("textarea"!==t.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function Cs(t){function e(e,i){if(t){var n=e.lastEffect;null!==n?(n.nextEffect=i,e.lastEffect=i):e.firstEffect=e.lastEffect=i,i.nextEffect=null,i.effectTag=8}}function i(i,n){if(!t)return null;for(;null!==n;)e(i,n),n=n.sibling;return null}function n(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=$l(t,e)).index=0,t.sibling=null,t}function s(e,i,n){return e.index=n,t?null!==(n=e.alternate)?(n=n.index)<i?(e.effectTag=2,i):n:(e.effectTag=2,i):i}function a(e){return t&&null===e.alternate&&(e.effectTag=2),e}function l(t,e,i,n){return null===e||6!==e.tag?((e=Hl(i,t.mode,n)).return=t,e):((e=r(e,i)).return=t,e)}function u(t,e,i,n){return null!==e&&e.elementType===i.type?((n=r(e,i.props)).ref=Es(t,e,i),n.return=t,n):((n=Wl(i.type,i.key,i.props,null,t.mode,n)).ref=Es(t,e,i),n.return=t,n)}function c(t,e,i,n){return null===e||4!==e.tag||e.stateNode.containerInfo!==i.containerInfo||e.stateNode.implementation!==i.implementation?((e=Zl(i,t.mode,n)).return=t,e):((e=r(e,i.children||[])).return=t,e)}function h(t,e,i,n,s){return null===e||7!==e.tag?((e=Yl(i,t.mode,n,s)).return=t,e):((e=r(e,i)).return=t,e)}function d(t,e,i){if("string"===typeof e||"number"===typeof e)return(e=Hl(""+e,t.mode,i)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case tt:return(i=Wl(e.type,e.key,e.props,null,t.mode,i)).ref=Es(t,null,e),i.return=t,i;case et:return(e=Zl(e,t.mode,i)).return=t,e}if(Ms(e)||yt(e))return(e=Yl(e,t.mode,i,null)).return=t,e;Ns(t,e)}return null}function f(t,e,i,n){var r=null!==e?e.key:null;if("string"===typeof i||"number"===typeof i)return null!==r?null:l(t,e,""+i,n);if("object"===typeof i&&null!==i){switch(i.$$typeof){case tt:return i.key===r?i.type===it?h(t,e,i.props.children,n,r):u(t,e,i,n):null;case et:return i.key===r?c(t,e,i,n):null}if(Ms(i)||yt(i))return null!==r?null:h(t,e,i,n,null);Ns(t,i)}return null}function p(t,e,i,n,r){if("string"===typeof n||"number"===typeof n)return l(e,t=t.get(i)||null,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case tt:return t=t.get(null===n.key?i:n.key)||null,n.type===it?h(e,t,n.props.children,r,n.key):u(e,t,n,r);case et:return c(e,t=t.get(null===n.key?i:n.key)||null,n,r)}if(Ms(n)||yt(n))return h(e,t=t.get(i)||null,n,r,null);Ns(e,n)}return null}function y(r,o,a,l){for(var u=null,c=null,h=o,y=o=0,m=null;null!==h&&y<a.length;y++){h.index>y?(m=h,h=null):m=h.sibling;var v=f(r,h,a[y],l);if(null===v){null===h&&(h=m);break}t&&h&&null===v.alternate&&e(r,h),o=s(v,o,y),null===c?u=v:c.sibling=v,c=v,h=m}if(y===a.length)return i(r,h),u;if(null===h){for(;y<a.length;y++)null!==(h=d(r,a[y],l))&&(o=s(h,o,y),null===c?u=h:c.sibling=h,c=h);return u}for(h=n(r,h);y<a.length;y++)null!==(m=p(h,r,y,a[y],l))&&(t&&null!==m.alternate&&h.delete(null===m.key?y:m.key),o=s(m,o,y),null===c?u=m:c.sibling=m,c=m);return t&&h.forEach((function(t){return e(r,t)})),u}function m(r,a,l,u){var c=yt(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var h=c=null,y=a,m=a=0,v=null,b=l.next();null!==y&&!b.done;m++,b=l.next()){y.index>m?(v=y,y=null):v=y.sibling;var g=f(r,y,b.value,u);if(null===g){null===y&&(y=v);break}t&&y&&null===g.alternate&&e(r,y),a=s(g,a,m),null===h?c=g:h.sibling=g,h=g,y=v}if(b.done)return i(r,y),c;if(null===y){for(;!b.done;m++,b=l.next())null!==(b=d(r,b.value,u))&&(a=s(b,a,m),null===h?c=b:h.sibling=b,h=b);return c}for(y=n(r,y);!b.done;m++,b=l.next())null!==(b=p(y,r,m,b.value,u))&&(t&&null!==b.alternate&&y.delete(null===b.key?m:b.key),a=s(b,a,m),null===h?c=b:h.sibling=b,h=b);return t&&y.forEach((function(t){return e(r,t)})),c}return function(t,n,s,l){var u="object"===typeof s&&null!==s&&s.type===it&&null===s.key;u&&(s=s.props.children);var c="object"===typeof s&&null!==s;if(c)switch(s.$$typeof){case tt:t:{for(c=s.key,u=n;null!==u;){if(u.key===c){if(7===u.tag){if(s.type===it){i(t,u.sibling),(n=r(u,s.props.children)).return=t,t=n;break t}}else if(u.elementType===s.type){i(t,u.sibling),(n=r(u,s.props)).ref=Es(t,u,s),n.return=t,t=n;break t}i(t,u);break}e(t,u),u=u.sibling}s.type===it?((n=Yl(s.props.children,t.mode,l,s.key)).return=t,t=n):((l=Wl(s.type,s.key,s.props,null,t.mode,l)).ref=Es(t,n,s),l.return=t,t=l)}return a(t);case et:t:{for(u=s.key;null!==n;){if(n.key===u){if(4===n.tag&&n.stateNode.containerInfo===s.containerInfo&&n.stateNode.implementation===s.implementation){i(t,n.sibling),(n=r(n,s.children||[])).return=t,t=n;break t}i(t,n);break}e(t,n),n=n.sibling}(n=Zl(s,t.mode,l)).return=t,t=n}return a(t)}if("string"===typeof s||"number"===typeof s)return s=""+s,null!==n&&6===n.tag?(i(t,n.sibling),(n=r(n,s)).return=t,t=n):(i(t,n),(n=Hl(s,t.mode,l)).return=t,t=n),a(t);if(Ms(s))return y(t,n,s,l);if(yt(s))return m(t,n,s,l);if(c&&Ns(t,s),"undefined"===typeof s&&!u)switch(t.tag){case 1:case 0:throw t=t.type,Error(o(152,t.displayName||t.name||"Component"))}return i(t,n)}}var Ds=Cs(!0),ks=Cs(!1),Os={},As={current:Os},Bs={current:Os},Fs={current:Os};function Ls(t){if(t===Os)throw Error(o(174));return t}function Ps(t,e){switch(yr(Fs,e),yr(Bs,t),yr(As,Os),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Pt(null,"");break;default:e=Pt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}pr(As),yr(As,e)}function Us(){pr(As),pr(Bs),pr(Fs)}function Rs(t){Ls(Fs.current);var e=Ls(As.current),i=Pt(e,t.type);e!==i&&(yr(Bs,t),yr(As,i))}function Vs(t){Bs.current===t&&(pr(As),pr(Bs))}var zs={current:0};function js(t){for(var e=t;null!==e;){if(13===e.tag){var i=e.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||i.data===bi||i.data===gi))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function $s(t,e){return{responder:t,props:e}}var Ws=G.ReactCurrentDispatcher,Ys=G.ReactCurrentBatchConfig,Hs=0,Zs=null,Ks=null,Js=null,Gs=!1;function qs(){throw Error(o(321))}function Xs(t,e){if(null===e)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!$n(t[i],e[i]))return!1;return!0}function Qs(t,e,i,n,r,s){if(Hs=s,Zs=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,Ws.current=null===t||null===t.memoizedState?To:Io,t=i(n,r),e.expirationTime===Hs){s=0;do{if(e.expirationTime=0,!(25>s))throw Error(o(301));s+=1,Js=Ks=null,e.updateQueue=null,Ws.current=xo,t=i(n,r)}while(e.expirationTime===Hs)}if(Ws.current=So,e=null!==Ks&&null!==Ks.next,Hs=0,Js=Ks=Zs=null,Gs=!1,e)throw Error(o(300));return t}function to(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Js?Zs.memoizedState=Js=t:Js=Js.next=t,Js}function eo(){if(null===Ks){var t=Zs.alternate;t=null!==t?t.memoizedState:null}else t=Ks.next;var e=null===Js?Zs.memoizedState:Js.next;if(null!==e)Js=e,Ks=t;else{if(null===t)throw Error(o(310));t={memoizedState:(Ks=t).memoizedState,baseState:Ks.baseState,baseQueue:Ks.baseQueue,queue:Ks.queue,next:null},null===Js?Zs.memoizedState=Js=t:Js=Js.next=t}return Js}function io(t,e){return"function"===typeof e?e(t):e}function no(t){var e=eo(),i=e.queue;if(null===i)throw Error(o(311));i.lastRenderedReducer=t;var n=Ks,r=n.baseQueue,s=i.pending;if(null!==s){if(null!==r){var a=r.next;r.next=s.next,s.next=a}n.baseQueue=r=s,i.pending=null}if(null!==r){r=r.next,n=n.baseState;var l=a=s=null,u=r;do{var c=u.expirationTime;if(c<Hs){var h={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(a=l=h,s=n):l=l.next=h,c>Zs.expirationTime&&(Zs.expirationTime=c,Tl(c))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),Sl(c,u.suspenseConfig),n=u.eagerReducer===t?u.eagerState:t(n,u.action);u=u.next}while(null!==u&&u!==r);null===l?s=n:l.next=a,$n(n,e.memoizedState)||(Lo=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,i.lastRenderedState=n}return[e.memoizedState,i.dispatch]}function ro(t){var e=eo(),i=e.queue;if(null===i)throw Error(o(311));i.lastRenderedReducer=t;var n=i.dispatch,r=i.pending,s=e.memoizedState;if(null!==r){i.pending=null;var a=r=r.next;do{s=t(s,a.action),a=a.next}while(a!==r);$n(s,e.memoizedState)||(Lo=!0),e.memoizedState=s,null===e.baseQueue&&(e.baseState=s),i.lastRenderedState=s}return[s,n]}function so(t){var e=to();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:io,lastRenderedState:t}).dispatch=_o.bind(null,Zs,t),[e.memoizedState,t]}function oo(t,e,i,n){return t={tag:t,create:e,destroy:i,deps:n,next:null},null===(e=Zs.updateQueue)?(e={lastEffect:null},Zs.updateQueue=e,e.lastEffect=t.next=t):null===(i=e.lastEffect)?e.lastEffect=t.next=t:(n=i.next,i.next=t,t.next=n,e.lastEffect=t),t}function ao(){return eo().memoizedState}function lo(t,e,i,n){var r=to();Zs.effectTag|=t,r.memoizedState=oo(1|e,i,void 0,void 0===n?null:n)}function uo(t,e,i,n){var r=eo();n=void 0===n?null:n;var s=void 0;if(null!==Ks){var o=Ks.memoizedState;if(s=o.destroy,null!==n&&Xs(n,o.deps))return void oo(e,i,s,n)}Zs.effectTag|=t,r.memoizedState=oo(1|e,i,s,n)}function co(t,e){return lo(516,4,t,e)}function ho(t,e){return uo(516,4,t,e)}function fo(t,e){return uo(4,2,t,e)}function po(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function yo(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,uo(4,2,po.bind(null,e,t),i)}function mo(){}function vo(t,e){return to().memoizedState=[t,void 0===e?null:e],t}function bo(t,e){var i=eo();e=void 0===e?null:e;var n=i.memoizedState;return null!==n&&null!==e&&Xs(e,n[1])?n[0]:(i.memoizedState=[t,e],t)}function go(t,e){var i=eo();e=void 0===e?null:e;var n=i.memoizedState;return null!==n&&null!==e&&Xs(e,n[1])?n[0]:(t=t(),i.memoizedState=[t,e],t)}function wo(t,e,i){var n=Hr();Kr(98>n?98:n,(function(){t(!0)})),Kr(97<n?97:n,(function(){var n=Ys.suspense;Ys.suspense=void 0===e?null:e;try{t(!1),i()}finally{Ys.suspense=n}}))}function _o(t,e,i){var n=ul(),r=bs.suspense;r={expirationTime:n=cl(n,t,r),suspenseConfig:r,action:i,eagerReducer:null,eagerState:null,next:null};var s=e.pending;if(null===s?r.next=r:(r.next=s.next,s.next=r),e.pending=r,s=t.alternate,t===Zs||null!==s&&s===Zs)Gs=!0,r.expirationTime=Hs,Zs.expirationTime=Hs;else{if(0===t.expirationTime&&(null===s||0===s.expirationTime)&&null!==(s=e.lastRenderedReducer))try{var o=e.lastRenderedState,a=s(o,i);if(r.eagerReducer=s,r.eagerState=a,$n(a,o))return}catch(l){}hl(t,n)}}var So={readContext:us,useCallback:qs,useContext:qs,useEffect:qs,useImperativeHandle:qs,useLayoutEffect:qs,useMemo:qs,useReducer:qs,useRef:qs,useState:qs,useDebugValue:qs,useResponder:qs,useDeferredValue:qs,useTransition:qs},To={readContext:us,useCallback:vo,useContext:us,useEffect:co,useImperativeHandle:function(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,lo(4,2,po.bind(null,e,t),i)},useLayoutEffect:function(t,e){return lo(4,2,t,e)},useMemo:function(t,e){var i=to();return e=void 0===e?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var n=to();return e=void 0!==i?i(e):e,n.memoizedState=n.baseState=e,t=(t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=_o.bind(null,Zs,t),[n.memoizedState,t]},useRef:function(t){return t={current:t},to().memoizedState=t},useState:so,useDebugValue:mo,useResponder:$s,useDeferredValue:function(t,e){var i=so(t),n=i[0],r=i[1];return co((function(){var i=Ys.suspense;Ys.suspense=void 0===e?null:e;try{r(t)}finally{Ys.suspense=i}}),[t,e]),n},useTransition:function(t){var e=so(!1),i=e[0];return e=e[1],[vo(wo.bind(null,e,t),[e,t]),i]}},Io={readContext:us,useCallback:bo,useContext:us,useEffect:ho,useImperativeHandle:yo,useLayoutEffect:fo,useMemo:go,useReducer:no,useRef:ao,useState:function(){return no(io)},useDebugValue:mo,useResponder:$s,useDeferredValue:function(t,e){var i=no(io),n=i[0],r=i[1];return ho((function(){var i=Ys.suspense;Ys.suspense=void 0===e?null:e;try{r(t)}finally{Ys.suspense=i}}),[t,e]),n},useTransition:function(t){var e=no(io),i=e[0];return e=e[1],[bo(wo.bind(null,e,t),[e,t]),i]}},xo={readContext:us,useCallback:bo,useContext:us,useEffect:ho,useImperativeHandle:yo,useLayoutEffect:fo,useMemo:go,useReducer:ro,useRef:ao,useState:function(){return ro(io)},useDebugValue:mo,useResponder:$s,useDeferredValue:function(t,e){var i=ro(io),n=i[0],r=i[1];return ho((function(){var i=Ys.suspense;Ys.suspense=void 0===e?null:e;try{r(t)}finally{Ys.suspense=i}}),[t,e]),n},useTransition:function(t){var e=ro(io),i=e[0];return e=e[1],[bo(wo.bind(null,e,t),[e,t]),i]}},Mo=null,Eo=null,No=!1;function Co(t,e){var i=zl(5,null,null,0);i.elementType="DELETED",i.type="DELETED",i.stateNode=e,i.return=t,i.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=i,t.lastEffect=i):t.firstEffect=t.lastEffect=i}function Do(t,e){switch(t.tag){case 5:var i=t.type;return null!==(e=1!==e.nodeType||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function ko(t){if(No){var e=Eo;if(e){var i=e;if(!Do(t,e)){if(!(e=Mi(i.nextSibling))||!Do(t,e))return t.effectTag=-1025&t.effectTag|2,No=!1,void(Mo=t);Co(Mo,i)}Mo=t,Eo=Mi(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,No=!1,Mo=t}}function Oo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Mo=t}function Ao(t){if(t!==Mo)return!1;if(!No)return Oo(t),No=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Ti(e,t.memoizedProps))for(e=Eo;e;)Co(t,e),e=Mi(e.nextSibling);if(Oo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var i=t.data;if(i===vi){if(0===e){Eo=Mi(t.nextSibling);break t}e--}else i!==mi&&i!==gi&&i!==bi||e++}t=t.nextSibling}Eo=null}}else Eo=Mo?Mi(t.stateNode.nextSibling):null;return!0}function Bo(){Eo=Mo=null,No=!1}var Fo=G.ReactCurrentOwner,Lo=!1;function Po(t,e,i,n){e.child=null===t?ks(e,null,i,n):Ds(e,t.child,i,n)}function Uo(t,e,i,n,r){i=i.render;var s=e.ref;return ls(e,r),n=Qs(t,e,i,n,s,r),null===t||Lo?(e.effectTag|=1,Po(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=r&&(t.expirationTime=0),ea(t,e,r))}function Ro(t,e,i,n,r,s){if(null===t){var o=i.type;return"function"!==typeof o||jl(o)||void 0!==o.defaultProps||null!==i.compare||void 0!==i.defaultProps?((t=Wl(i.type,null,n,null,e.mode,s)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,Vo(t,e,o,n,r,s))}return o=t.child,r<s&&(r=o.memoizedProps,(i=null!==(i=i.compare)?i:Yn)(r,n)&&t.ref===e.ref)?ea(t,e,s):(e.effectTag|=1,(t=$l(o,n)).ref=e.ref,t.return=e,e.child=t)}function Vo(t,e,i,n,r,s){return null!==t&&Yn(t.memoizedProps,n)&&t.ref===e.ref&&(Lo=!1,r<s)?(e.expirationTime=t.expirationTime,ea(t,e,s)):jo(t,e,i,n,s)}function zo(t,e){var i=e.ref;(null===t&&null!==i||null!==t&&t.ref!==i)&&(e.effectTag|=128)}function jo(t,e,i,n,r){var s=_r(i)?gr:vr.current;return s=wr(e,s),ls(e,r),i=Qs(t,e,i,n,s,r),null===t||Lo?(e.effectTag|=1,Po(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=r&&(t.expirationTime=0),ea(t,e,r))}function $o(t,e,i,n,r){if(_r(i)){var s=!0;xr(e)}else s=!1;if(ls(e,r),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),Ts(e,i,n),xs(e,i,n,r),n=!0;else if(null===t){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=i.contextType;"object"===typeof u&&null!==u?u=us(u):u=wr(e,u=_r(i)?gr:vr.current);var c=i.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==n||l!==u)&&Is(e,o,n,u),cs=!1;var d=e.memoizedState;o.state=d,ms(e,n,o,r),l=e.memoizedState,a!==n||d!==l||br.current||cs?("function"===typeof c&&(ws(e,i,c,n),l=e.memoizedState),(a=cs||Ss(e,i,a,n,d,l,u))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(e.effectTag|=4)):("function"===typeof o.componentDidMount&&(e.effectTag|=4),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):("function"===typeof o.componentDidMount&&(e.effectTag|=4),n=!1)}else o=e.stateNode,ds(t,e),a=e.memoizedProps,o.props=e.type===e.elementType?a:ts(e.type,a),l=o.context,"object"===typeof(u=i.contextType)&&null!==u?u=us(u):u=wr(e,u=_r(i)?gr:vr.current),(h="function"===typeof(c=i.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==n||l!==u)&&Is(e,o,n,u),cs=!1,l=e.memoizedState,o.state=l,ms(e,n,o,r),d=e.memoizedState,a!==n||l!==d||br.current||cs?("function"===typeof c&&(ws(e,i,c,n),d=e.memoizedState),(c=cs||Ss(e,i,a,n,l,d,u))?(h||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,d,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,d,u)),"function"===typeof o.componentDidUpdate&&(e.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),e.memoizedProps=n,e.memoizedState=d),o.props=n,o.state=d,o.context=u,n=c):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),n=!1);return Wo(t,e,i,n,s,r)}function Wo(t,e,i,n,r,s){zo(t,e);var o=0!==(64&e.effectTag);if(!n&&!o)return r&&Mr(e,i,!1),ea(t,e,s);n=e.stateNode,Fo.current=e;var a=o&&"function"!==typeof i.getDerivedStateFromError?null:n.render();return e.effectTag|=1,null!==t&&o?(e.child=Ds(e,t.child,null,s),e.child=Ds(e,null,a,s)):Po(t,e,a,s),e.memoizedState=n.state,r&&Mr(e,i,!0),e.child}function Yo(t){var e=t.stateNode;e.pendingContext?Tr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Tr(0,e.context,!1),Ps(t,e.containerInfo)}var Ho,Zo,Ko,Jo,Go={dehydrated:null,retryTime:0};function qo(t,e,i){var n,r=e.mode,s=e.pendingProps,o=zs.current,a=!1;if((n=0!==(64&e.effectTag))||(n=0!==(2&o)&&(null===t||null!==t.memoizedState)),n?(a=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===s.fallback||!0===s.unstable_avoidThisFallback||(o|=1),yr(zs,1&o),null===t){if(void 0!==s.fallback&&ko(e),a){if(a=s.fallback,(s=Yl(null,r,0,null)).return=e,0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,s.child=t;null!==t;)t.return=s,t=t.sibling;return(i=Yl(a,r,i,null)).return=e,s.sibling=i,e.memoizedState=Go,e.child=s,i}return r=s.children,e.memoizedState=null,e.child=ks(e,null,r,i)}if(null!==t.memoizedState){if(r=(t=t.child).sibling,a){if(s=s.fallback,(i=$l(t,t.pendingProps)).return=e,0===(2&e.mode)&&(a=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(i.child=a;null!==a;)a.return=i,a=a.sibling;return(r=$l(r,s)).return=e,i.sibling=r,i.childExpirationTime=0,e.memoizedState=Go,e.child=i,r}return i=Ds(e,t.child,s.children,i),e.memoizedState=null,e.child=i}if(t=t.child,a){if(a=s.fallback,(s=Yl(null,r,0,null)).return=e,s.child=t,null!==t&&(t.return=s),0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,s.child=t;null!==t;)t.return=s,t=t.sibling;return(i=Yl(a,r,i,null)).return=e,s.sibling=i,i.effectTag|=2,s.childExpirationTime=0,e.memoizedState=Go,e.child=s,i}return e.memoizedState=null,e.child=Ds(e,t,s.children,i)}function Xo(t,e){t.expirationTime<e&&(t.expirationTime=e);var i=t.alternate;null!==i&&i.expirationTime<e&&(i.expirationTime=e),as(t.return,e)}function Qo(t,e,i,n,r,s){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:i,tailExpiration:0,tailMode:r,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=i,o.tailExpiration=0,o.tailMode=r,o.lastEffect=s)}function ta(t,e,i){var n=e.pendingProps,r=n.revealOrder,s=n.tail;if(Po(t,e,n.children,i),0!==(2&(n=zs.current)))n=1&n|2,e.effectTag|=64;else{if(null!==t&&0!==(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Xo(t,i);else if(19===t.tag)Xo(t,i);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(yr(zs,n),0===(2&e.mode))e.memoizedState=null;else switch(r){case"forwards":for(i=e.child,r=null;null!==i;)null!==(t=i.alternate)&&null===js(t)&&(r=i),i=i.sibling;null===(i=r)?(r=e.child,e.child=null):(r=i.sibling,i.sibling=null),Qo(e,!1,r,i,s,e.lastEffect);break;case"backwards":for(i=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===js(t)){e.child=r;break}t=r.sibling,r.sibling=i,i=r,r=t}Qo(e,!0,i,null,s,e.lastEffect);break;case"together":Qo(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function ea(t,e,i){null!==t&&(e.dependencies=t.dependencies);var n=e.expirationTime;if(0!==n&&Tl(n),e.childExpirationTime<i)return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(i=$l(t=e.child,t.pendingProps),e.child=i,i.return=e;null!==t.sibling;)t=t.sibling,(i=i.sibling=$l(t,t.pendingProps)).return=e;i.sibling=null}return e.child}function ia(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;null!==e;)null!==e.alternate&&(i=e),e=e.sibling;null===i?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var n=null;null!==i;)null!==i.alternate&&(n=i),i=i.sibling;null===n?e||null===t.tail?t.tail=null:t.tail.sibling=null:n.sibling=null}}function na(t,e,i){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return _r(e.type)&&Sr(),null;case 3:return Us(),pr(br),pr(vr),(i=e.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==t&&null!==t.child||!Ao(e)||(e.effectTag|=4),Zo(e),null;case 5:Vs(e),i=Ls(Fs.current);var s=e.type;if(null!==t&&null!=e.stateNode)Ko(t,e,s,n,i),t.ref!==e.ref&&(e.effectTag|=128);else{if(!n){if(null===e.stateNode)throw Error(o(166));return null}if(t=Ls(As.current),Ao(e)){n=e.stateNode,s=e.type;var a=e.memoizedProps;switch(n[Ci]=e,n[Di]=a,s){case"iframe":case"object":case"embed":Ke("load",n);break;case"video":case"audio":for(t=0;t<qt.length;t++)Ke(qt[t],n);break;case"source":Ke("error",n);break;case"img":case"image":case"link":Ke("error",n),Ke("load",n);break;case"form":Ke("reset",n),Ke("submit",n);break;case"details":Ke("toggle",n);break;case"input":Tt(n,a),Ke("invalid",n),li(i,"onChange");break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Ke("invalid",n),li(i,"onChange");break;case"textarea":kt(n,a),Ke("invalid",n),li(i,"onChange")}for(var l in si(s,a),t=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"===typeof u?n.textContent!==u&&(t=["children",u]):"number"===typeof u&&n.textContent!==""+u&&(t=["children",""+u]):I.hasOwnProperty(l)&&null!=u&&li(i,l)}switch(s){case"input":wt(n),Mt(n,a,!0);break;case"textarea":wt(n),At(n);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(n.onclick=ui)}i=t,e.updateQueue=i,null!==i&&(e.effectTag|=4)}else{switch(l=9===i.nodeType?i:i.ownerDocument,t===ai&&(t=Lt(s)),t===ai?"script"===s?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof n.is?t=l.createElement(s,{is:n.is}):(t=l.createElement(s),"select"===s&&(l=t,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):t=l.createElementNS(t,s),t[Ci]=e,t[Di]=n,Ho(t,e,!1,!1),e.stateNode=t,l=oi(s,n),s){case"iframe":case"object":case"embed":Ke("load",t),u=n;break;case"video":case"audio":for(u=0;u<qt.length;u++)Ke(qt[u],t);u=n;break;case"source":Ke("error",t),u=n;break;case"img":case"image":case"link":Ke("error",t),Ke("load",t),u=n;break;case"form":Ke("reset",t),Ke("submit",t),u=n;break;case"details":Ke("toggle",t),u=n;break;case"input":Tt(t,n),u=St(t,n),Ke("invalid",t),li(i,"onChange");break;case"option":u=Nt(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},u=r({},n,{value:void 0}),Ke("invalid",t),li(i,"onChange");break;case"textarea":kt(t,n),u=Dt(t,n),Ke("invalid",t),li(i,"onChange");break;default:u=n}si(s,u);var c=u;for(a in c)if(c.hasOwnProperty(a)){var h=c[a];"style"===a?ni(t,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&Vt(t,h):"children"===a?"string"===typeof h?("textarea"!==s||""!==h)&&zt(t,h):"number"===typeof h&&zt(t,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(I.hasOwnProperty(a)?null!=h&&li(i,a):null!=h&&q(t,a,h,l))}switch(s){case"input":wt(t),Mt(t,n,!1);break;case"textarea":wt(t),At(t);break;case"option":null!=n.value&&t.setAttribute("value",""+bt(n.value));break;case"select":t.multiple=!!n.multiple,null!=(i=n.value)?Ct(t,!!n.multiple,i,!1):null!=n.defaultValue&&Ct(t,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof u.onClick&&(t.onclick=ui)}Si(s,n)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)Jo(t,e,t.memoizedProps,n);else{if("string"!==typeof n&&null===e.stateNode)throw Error(o(166));i=Ls(Fs.current),Ls(As.current),Ao(e)?(i=e.stateNode,n=e.memoizedProps,i[Ci]=e,i.nodeValue!==n&&(e.effectTag|=4)):((i=(9===i.nodeType?i:i.ownerDocument).createTextNode(n))[Ci]=e,e.stateNode=i)}return null;case 13:return pr(zs),n=e.memoizedState,0!==(64&e.effectTag)?(e.expirationTime=i,e):(i=null!==n,n=!1,null===t?void 0!==e.memoizedProps.fallback&&Ao(e):(n=null!==(s=t.memoizedState),i||null===s||null!==(s=t.child.sibling)&&(null!==(a=e.firstEffect)?(e.firstEffect=s,s.nextEffect=a):(e.firstEffect=e.lastEffect=s,s.nextEffect=null),s.effectTag=8)),i&&!n&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&zs.current)?$a===Aa&&($a=La):($a!==Aa&&$a!==La||($a=Pa),0!==Ka&&null!==Va&&(Gl(Va,ja),ql(Va,Ka)))),(i||n)&&(e.effectTag|=4),null);case 4:return Us(),Zo(e),null;case 10:return os(e),null;case 19:if(pr(zs),null===(n=e.memoizedState))return null;if(s=0!==(64&e.effectTag),null===(a=n.rendering)){if(s)ia(n,!1);else if($a!==Aa||null!==t&&0!==(64&t.effectTag))for(a=e.child;null!==a;){if(null!==(t=js(a))){for(e.effectTag|=64,ia(n,!1),null!==(s=t.updateQueue)&&(e.updateQueue=s,e.effectTag|=4),null===n.lastEffect&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=e.child;null!==n;)a=i,(s=n).effectTag&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(t=s.alternate)?(s.childExpirationTime=0,s.expirationTime=a,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null):(s.childExpirationTime=t.childExpirationTime,s.expirationTime=t.expirationTime,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,a=t.dependencies,s.dependencies=null===a?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),n=n.sibling;return yr(zs,1&zs.current|2),e.child}a=a.sibling}}else{if(!s)if(null!==(t=js(a))){if(e.effectTag|=64,s=!0,null!==(i=t.updateQueue)&&(e.updateQueue=i,e.effectTag|=4),ia(n,!0),null===n.tail&&"hidden"===n.tailMode&&!a.alternate)return null!==(e=e.lastEffect=n.lastEffect)&&(e.nextEffect=null),null}else 2*Yr()-n.renderingStartTime>n.tailExpiration&&1<i&&(e.effectTag|=64,s=!0,ia(n,!1),e.expirationTime=e.childExpirationTime=i-1);n.isBackwards?(a.sibling=e.child,e.child=a):(null!==(i=n.last)?i.sibling=a:e.child=a,n.last=a)}return null!==n.tail?(0===n.tailExpiration&&(n.tailExpiration=Yr()+500),i=n.tail,n.rendering=i,n.tail=i.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=Yr(),i.sibling=null,e=zs.current,yr(zs,s?1&e|2:1&e),i):null}throw Error(o(156,e.tag))}function ra(t){switch(t.tag){case 1:_r(t.type)&&Sr();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(Us(),pr(br),pr(vr),0!==(64&(e=t.effectTag)))throw Error(o(285));return t.effectTag=-4097&e|64,t;case 5:return Vs(t),null;case 13:return pr(zs),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return pr(zs),null;case 4:return Us(),null;case 10:return os(t),null;default:return null}}function sa(t,e){return{value:t,source:e,stack:vt(e)}}Ho=function(t,e){for(var i=e.child;null!==i;){if(5===i.tag||6===i.tag)t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Zo=function(){},Ko=function(t,e,i,n,s){var o=t.memoizedProps;if(o!==n){var a,l,u=e.stateNode;switch(Ls(As.current),t=null,i){case"input":o=St(u,o),n=St(u,n),t=[];break;case"option":o=Nt(u,o),n=Nt(u,n),t=[];break;case"select":o=r({},o,{value:void 0}),n=r({},n,{value:void 0}),t=[];break;case"textarea":o=Dt(u,o),n=Dt(u,n),t=[];break;default:"function"!==typeof o.onClick&&"function"===typeof n.onClick&&(u.onclick=ui)}for(a in si(i,n),i=null,o)if(!n.hasOwnProperty(a)&&o.hasOwnProperty(a)&&null!=o[a])if("style"===a)for(l in u=o[a])u.hasOwnProperty(l)&&(i||(i={}),i[l]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(I.hasOwnProperty(a)?t||(t=[]):(t=t||[]).push(a,null));for(a in n){var c=n[a];if(u=null!=o?o[a]:void 0,n.hasOwnProperty(a)&&c!==u&&(null!=c||null!=u))if("style"===a)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(i||(i={}),i[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(i||(i={}),i[l]=c[l])}else i||(t||(t=[]),t.push(a,i)),i=c;else"dangerouslySetInnerHTML"===a?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(t=t||[]).push(a,c)):"children"===a?u===c||"string"!==typeof c&&"number"!==typeof c||(t=t||[]).push(a,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(I.hasOwnProperty(a)?(null!=c&&li(s,a),t||u===c||(t=[])):(t=t||[]).push(a,c))}i&&(t=t||[]).push("style",i),s=t,(e.updateQueue=s)&&(e.effectTag|=4)}},Jo=function(t,e,i,n){i!==n&&(e.effectTag|=4)};var oa="function"===typeof WeakSet?WeakSet:Set;function aa(t,e){var i=e.source,n=e.stack;null===n&&null!==i&&(n=vt(i)),null!==i&&mt(i.type),e=e.value,null!==t&&1===t.tag&&mt(t.type);try{console.error(e)}catch(r){setTimeout((function(){throw r}))}}function la(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(i){Fl(t,i)}else e.current=null}function ua(t,e){switch(e.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&e.effectTag&&null!==t){var i=t.memoizedProps,n=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?i:ts(e.type,i),n),t.__reactInternalSnapshotBeforeUpdate=e}return}throw Error(o(163))}function ca(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var i=e=e.next;do{if((i.tag&t)===t){var n=i.destroy;i.destroy=void 0,void 0!==n&&n()}i=i.next}while(i!==e)}}function ha(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var i=e=e.next;do{if((i.tag&t)===t){var n=i.create;i.destroy=n()}i=i.next}while(i!==e)}}function da(t,e,i){switch(i.tag){case 0:case 11:case 15:case 22:return void ha(3,i);case 1:if(t=i.stateNode,4&i.effectTag)if(null===e)t.componentDidMount();else{var n=i.elementType===i.type?e.memoizedProps:ts(i.type,e.memoizedProps);t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=i.updateQueue)&&vs(i,e,t));case 3:if(null!==(e=i.updateQueue)){if(t=null,null!==i.child)switch(i.child.tag){case 5:case 1:t=i.child.stateNode}vs(i,e,t)}return;case 5:return t=i.stateNode,void(null===e&&4&i.effectTag&&Si(i.type,i.memoizedProps)&&t.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===i.memoizedState&&(i=i.alternate,null!==i&&(i=i.memoizedState,null!==i&&(i=i.dehydrated,null!==i&&Pe(i)))))}throw Error(o(163))}function fa(t,e,i){switch("function"===typeof Rl&&Rl(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t.next;Kr(97<i?97:i,(function(){var t=n;do{var i=t.destroy;if(void 0!==i){var r=e;try{i()}catch(s){Fl(r,s)}}t=t.next}while(t!==n)}))}break;case 1:la(e),"function"===typeof(i=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(i){Fl(t,i)}}(e,i);break;case 5:la(e);break;case 4:ga(t,e,i)}}function pa(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&pa(e)}function ya(t){return 5===t.tag||3===t.tag||4===t.tag}function ma(t){t:{for(var e=t.return;null!==e;){if(ya(e)){var i=e;break t}e=e.return}throw Error(o(160))}switch(e=i.stateNode,i.tag){case 5:var n=!1;break;case 3:case 4:e=e.containerInfo,n=!0;break;default:throw Error(o(161))}16&i.effectTag&&(zt(e,""),i.effectTag&=-17);t:e:for(i=t;;){for(;null===i.sibling;){if(null===i.return||ya(i.return)){i=null;break t}i=i.return}for(i.sibling.return=i.return,i=i.sibling;5!==i.tag&&6!==i.tag&&18!==i.tag;){if(2&i.effectTag)continue e;if(null===i.child||4===i.tag)continue e;i.child.return=i,i=i.child}if(!(2&i.effectTag)){i=i.stateNode;break t}}n?va(t,i,e):ba(t,i,e)}function va(t,e,i){var n=t.tag,r=5===n||6===n;if(r)t=r?t.stateNode:t.stateNode.instance,e?8===i.nodeType?i.parentNode.insertBefore(t,e):i.insertBefore(t,e):(8===i.nodeType?(e=i.parentNode).insertBefore(t,i):(e=i).appendChild(t),null!==(i=i._reactRootContainer)&&void 0!==i||null!==e.onclick||(e.onclick=ui));else if(4!==n&&null!==(t=t.child))for(va(t,e,i),t=t.sibling;null!==t;)va(t,e,i),t=t.sibling}function ba(t,e,i){var n=t.tag,r=5===n||6===n;if(r)t=r?t.stateNode:t.stateNode.instance,e?i.insertBefore(t,e):i.appendChild(t);else if(4!==n&&null!==(t=t.child))for(ba(t,e,i),t=t.sibling;null!==t;)ba(t,e,i),t=t.sibling}function ga(t,e,i){for(var n,r,s=e,a=!1;;){if(!a){a=s.return;t:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break t;case 3:case 4:n=n.containerInfo,r=!0;break t}a=a.return}a=!0}if(5===s.tag||6===s.tag){t:for(var l=t,u=s,c=i,h=u;;)if(fa(l,h,c),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===u)break t;for(;null===h.sibling;){if(null===h.return||h.return===u)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}r?(l=n,u=s.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):n.removeChild(s.stateNode)}else if(4===s.tag){if(null!==s.child){n=s.stateNode.containerInfo,r=!0,s.child.return=s,s=s.child;continue}}else if(fa(t,s,i),null!==s.child){s.child.return=s,s=s.child;continue}if(s===e)break;for(;null===s.sibling;){if(null===s.return||s.return===e)return;4===(s=s.return).tag&&(a=!1)}s.sibling.return=s.return,s=s.sibling}}function wa(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void ca(3,e);case 1:case 12:case 17:return;case 5:var i=e.stateNode;if(null!=i){var n=e.memoizedProps,r=null!==t?t.memoizedProps:n;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,null!==s){for(i[Di]=n,"input"===t&&"radio"===n.type&&null!=n.name&&It(i,n),oi(t,r),e=oi(t,n),r=0;r<s.length;r+=2){var a=s[r],l=s[r+1];"style"===a?ni(i,l):"dangerouslySetInnerHTML"===a?Vt(i,l):"children"===a?zt(i,l):q(i,a,l,e)}switch(t){case"input":xt(i,n);break;case"textarea":Ot(i,n);break;case"select":e=i._wrapperState.wasMultiple,i._wrapperState.wasMultiple=!!n.multiple,null!=(t=n.value)?Ct(i,!!n.multiple,t,!1):e!==!!n.multiple&&(null!=n.defaultValue?Ct(i,!!n.multiple,n.defaultValue,!0):Ct(i,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(o(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,Pe(e.containerInfo)));case 13:if(i=e,null===e.memoizedState?n=!1:(n=!0,i=e.child,Ga=Yr()),null!==i)t:for(t=i;;){if(5===t.tag)s=t.stateNode,n?"function"===typeof(s=s.style).setProperty?s.setProperty("display","none","important"):s.display="none":(s=t.stateNode,r=void 0!==(r=t.memoizedProps.style)&&null!==r&&r.hasOwnProperty("display")?r.display:null,s.style.display=ii("display",r));else if(6===t.tag)t.stateNode.nodeValue=n?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(s=t.child.sibling).return=t,t=s;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===i)break;for(;null===t.sibling;){if(null===t.return||t.return===i)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void _a(e);case 19:return void _a(e)}throw Error(o(163))}function _a(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var i=t.stateNode;null===i&&(i=t.stateNode=new oa),e.forEach((function(e){var n=Pl.bind(null,t,e);i.has(e)||(i.add(e),e.then(n,n))}))}}var Sa="function"===typeof WeakMap?WeakMap:Map;function Ta(t,e,i){(i=fs(i,null)).tag=3,i.payload={element:null};var n=e.value;return i.callback=function(){Qa||(Qa=!0,tl=n),aa(t,e)},i}function Ia(t,e,i){(i=fs(i,null)).tag=3;var n=t.type.getDerivedStateFromError;if("function"===typeof n){var r=e.value;i.payload=function(){return aa(t,e),n(r)}}var s=t.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(i.callback=function(){"function"!==typeof n&&(null===el?el=new Set([this]):el.add(this),aa(t,e));var i=e.stack;this.componentDidCatch(e.value,{componentStack:null!==i?i:""})}),i}var xa,Ma=Math.ceil,Ea=G.ReactCurrentDispatcher,Na=G.ReactCurrentOwner,Ca=0,Da=8,ka=16,Oa=32,Aa=0,Ba=1,Fa=2,La=3,Pa=4,Ua=5,Ra=Ca,Va=null,za=null,ja=0,$a=Aa,Wa=null,Ya=1073741823,Ha=1073741823,Za=null,Ka=0,Ja=!1,Ga=0,qa=500,Xa=null,Qa=!1,tl=null,el=null,il=!1,nl=null,rl=90,sl=null,ol=0,al=null,ll=0;function ul(){return(Ra&(ka|Oa))!==Ca?1073741821-(Yr()/10|0):0!==ll?ll:ll=1073741821-(Yr()/10|0)}function cl(t,e,i){if(0===(2&(e=e.mode)))return 1073741823;var n=Hr();if(0===(4&e))return 99===n?1073741823:1073741822;if((Ra&ka)!==Ca)return ja;if(null!==i)t=Qr(t,0|i.timeoutMs||5e3,250);else switch(n){case 99:t=1073741823;break;case 98:t=Qr(t,150,100);break;case 97:case 96:t=Qr(t,5e3,250);break;case 95:t=2;break;default:throw Error(o(326))}return null!==Va&&t===ja&&--t,t}function hl(t,e){if(50<ol)throw ol=0,al=null,Error(o(185));if(null!==(t=dl(t,e))){var i=Hr();1073741823===e?(Ra&Da)!==Ca&&(Ra&(ka|Oa))===Ca?ml(t):(pl(t),Ra===Ca&&qr()):pl(t),(4&Ra)===Ca||98!==i&&99!==i||(null===sl?sl=new Map([[t,e]]):(void 0===(i=sl.get(t))||i>e)&&sl.set(t,e))}}function dl(t,e){t.expirationTime<e&&(t.expirationTime=e);var i=t.alternate;null!==i&&i.expirationTime<e&&(i.expirationTime=e);var n=t.return,r=null;if(null===n&&3===t.tag)r=t.stateNode;else for(;null!==n;){if(i=n.alternate,n.childExpirationTime<e&&(n.childExpirationTime=e),null!==i&&i.childExpirationTime<e&&(i.childExpirationTime=e),null===n.return&&3===n.tag){r=n.stateNode;break}n=n.return}return null!==r&&(Va===r&&(Tl(e),$a===Pa&&Gl(r,ja)),ql(r,e)),r}function fl(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!Jl(t,e=t.firstPendingTime))return e;var i=t.lastPingedTime;return 2>=(t=i>(t=t.nextKnownPendingLevel)?i:t)&&e!==t?0:t}function pl(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Gr(ml.bind(null,t));else{var e=fl(t),i=t.callbackNode;if(0===e)null!==i&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var n=ul();if(1073741823===e?n=99:1===e||2===e?n=95:n=0>=(n=10*(1073741821-e)-10*(1073741821-n))?99:250>=n?98:5250>=n?97:95,null!==i){var r=t.callbackPriority;if(t.callbackExpirationTime===e&&r>=n)return;i!==Ur&&Cr(i)}t.callbackExpirationTime=e,t.callbackPriority=n,e=1073741823===e?Gr(ml.bind(null,t)):Jr(n,yl.bind(null,t),{timeout:10*(1073741821-e)-Yr()}),t.callbackNode=e}}}function yl(t,e){if(ll=0,e)return Xl(t,e=ul()),pl(t),null;var i=fl(t);if(0!==i){if(e=t.callbackNode,(Ra&(ka|Oa))!==Ca)throw Error(o(327));if(Ol(),t===Va&&i===ja||gl(t,i),null!==za){var n=Ra;Ra|=ka;for(var r=_l();;)try{xl();break}catch(l){wl(t,l)}if(ss(),Ra=n,Ea.current=r,$a===Ba)throw e=Wa,gl(t,i),Gl(t,i),pl(t),e;if(null===za)switch(r=t.finishedWork=t.current.alternate,t.finishedExpirationTime=i,n=$a,Va=null,n){case Aa:case Ba:throw Error(o(345));case Fa:Xl(t,2<i?2:i);break;case La:if(Gl(t,i),i===(n=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=Nl(r)),1073741823===Ya&&10<(r=Ga+qa-Yr())){if(Ja){var s=t.lastPingedTime;if(0===s||s>=i){t.lastPingedTime=i,gl(t,i);break}}if(0!==(s=fl(t))&&s!==i)break;if(0!==n&&n!==i){t.lastPingedTime=n;break}t.timeoutHandle=Ii(Cl.bind(null,t),r);break}Cl(t);break;case Pa:if(Gl(t,i),i===(n=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=Nl(r)),Ja&&(0===(r=t.lastPingedTime)||r>=i)){t.lastPingedTime=i,gl(t,i);break}if(0!==(r=fl(t))&&r!==i)break;if(0!==n&&n!==i){t.lastPingedTime=n;break}if(1073741823!==Ha?n=10*(1073741821-Ha)-Yr():1073741823===Ya?n=0:(n=10*(1073741821-Ya)-5e3,0>(n=(r=Yr())-n)&&(n=0),(i=10*(1073741821-i)-r)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ma(n/1960))-n)&&(n=i)),10<n){t.timeoutHandle=Ii(Cl.bind(null,t),n);break}Cl(t);break;case Ua:if(1073741823!==Ya&&null!==Za){s=Ya;var a=Za;if(0>=(n=0|a.busyMinDurationMs)?n=0:(r=0|a.busyDelayMs,n=(s=Yr()-(10*(1073741821-s)-(0|a.timeoutMs||5e3)))<=r?0:r+n-s),10<n){Gl(t,i),t.timeoutHandle=Ii(Cl.bind(null,t),n);break}}Cl(t);break;default:throw Error(o(329))}if(pl(t),t.callbackNode===e)return yl.bind(null,t)}}return null}function ml(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,(Ra&(ka|Oa))!==Ca)throw Error(o(327));if(Ol(),t===Va&&e===ja||gl(t,e),null!==za){var i=Ra;Ra|=ka;for(var n=_l();;)try{Il();break}catch(r){wl(t,r)}if(ss(),Ra=i,Ea.current=n,$a===Ba)throw i=Wa,gl(t,e),Gl(t,e),pl(t),i;if(null!==za)throw Error(o(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Va=null,Cl(t),pl(t)}return null}function vl(t,e){var i=Ra;Ra|=1;try{return t(e)}finally{(Ra=i)===Ca&&qr()}}function bl(t,e){var i=Ra;Ra&=-2,Ra|=Da;try{return t(e)}finally{(Ra=i)===Ca&&qr()}}function gl(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var i=t.timeoutHandle;if(-1!==i&&(t.timeoutHandle=-1,xi(i)),null!==za)for(i=za.return;null!==i;){var n=i;switch(n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Sr();break;case 3:Us(),pr(br),pr(vr);break;case 5:Vs(n);break;case 4:Us();break;case 13:case 19:pr(zs);break;case 10:os(n)}i=i.return}Va=t,za=$l(t.current,null),ja=e,$a=Aa,Wa=null,Ha=Ya=1073741823,Za=null,Ka=0,Ja=!1}function wl(t,e){for(;;){try{if(ss(),Ws.current=So,Gs)for(var i=Zs.memoizedState;null!==i;){var n=i.queue;null!==n&&(n.pending=null),i=i.next}if(Hs=0,Js=Ks=Zs=null,Gs=!1,null===za||null===za.return)return $a=Ba,Wa=e,za=null;t:{var r=t,s=za.return,o=za,a=e;if(e=ja,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==a&&"object"===typeof a&&"function"===typeof a.then){var l=a;if(0===(2&o.mode)){var u=o.alternate;u?(o.updateQueue=u.updateQueue,o.memoizedState=u.memoizedState,o.expirationTime=u.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var c=0!==(1&zs.current),h=s;do{var d;if(d=13===h.tag){var f=h.memoizedState;if(null!==f)d=null!==f.dehydrated;else{var p=h.memoizedProps;d=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(d){var y=h.updateQueue;if(null===y){var m=new Set;m.add(l),h.updateQueue=m}else y.add(l);if(0===(2&h.mode)){if(h.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var v=fs(1073741823,null);v.tag=2,ps(o,v)}o.expirationTime=1073741823;break t}a=void 0,o=e;var b=r.pingCache;if(null===b?(b=r.pingCache=new Sa,a=new Set,b.set(l,a)):void 0===(a=b.get(l))&&(a=new Set,b.set(l,a)),!a.has(o)){a.add(o);var g=Ll.bind(null,r,l,o);l.then(g,g)}h.effectTag|=4096,h.expirationTime=e;break t}h=h.return}while(null!==h);a=Error((mt(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+vt(o))}$a!==Ua&&($a=Fa),a=sa(a,o),h=s;do{switch(h.tag){case 3:l=a,h.effectTag|=4096,h.expirationTime=e,ys(h,Ta(h,l,e));break t;case 1:l=a;var w=h.type,_=h.stateNode;if(0===(64&h.effectTag)&&("function"===typeof w.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===el||!el.has(_)))){h.effectTag|=4096,h.expirationTime=e,ys(h,Ia(h,l,e));break t}}h=h.return}while(null!==h)}za=El(za)}catch(S){e=S;continue}break}}function _l(){var t=Ea.current;return Ea.current=So,null===t?So:t}function Sl(t,e){t<Ya&&2<t&&(Ya=t),null!==e&&t<Ha&&2<t&&(Ha=t,Za=e)}function Tl(t){t>Ka&&(Ka=t)}function Il(){for(;null!==za;)za=Ml(za)}function xl(){for(;null!==za&&!Rr();)za=Ml(za)}function Ml(t){var e=xa(t.alternate,t,ja);return t.memoizedProps=t.pendingProps,null===e&&(e=El(t)),Na.current=null,e}function El(t){za=t;do{var e=za.alternate;if(t=za.return,0===(2048&za.effectTag)){if(e=na(e,za,ja),1===ja||1!==za.childExpirationTime){for(var i=0,n=za.child;null!==n;){var r=n.expirationTime,s=n.childExpirationTime;r>i&&(i=r),s>i&&(i=s),n=n.sibling}za.childExpirationTime=i}if(null!==e)return e;null!==t&&0===(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=za.firstEffect),null!==za.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=za.firstEffect),t.lastEffect=za.lastEffect),1<za.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=za:t.firstEffect=za,t.lastEffect=za))}else{if(null!==(e=ra(za)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=za.sibling))return e;za=t}while(null!==za);return $a===Aa&&($a=Ua),null}function Nl(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function Cl(t){var e=Hr();return Kr(99,Dl.bind(null,t,e)),null}function Dl(t,e){do{Ol()}while(null!==nl);if((Ra&(ka|Oa))!==Ca)throw Error(o(327));var i=t.finishedWork,n=t.finishedExpirationTime;if(null===i)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,i===t.current)throw Error(o(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var r=Nl(i);if(t.firstPendingTime=r,n<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:n<=t.firstSuspendedTime&&(t.firstSuspendedTime=n-1),n<=t.lastPingedTime&&(t.lastPingedTime=0),n<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Va&&(za=Va=null,ja=0),1<i.effectTag?null!==i.lastEffect?(i.lastEffect.nextEffect=i,r=i.firstEffect):r=i:r=i.firstEffect,null!==r){var s=Ra;Ra|=Oa,Na.current=null,wi=Ze;var a=pi();if(yi(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else t:{var u=(l=(l=a.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,h=u.focusNode;u=u.focusOffset;try{l.nodeType,h.nodeType}catch(M){l=null;break t}var d=0,f=-1,p=-1,y=0,m=0,v=a,b=null;e:for(;;){for(var g;v!==l||0!==c&&3!==v.nodeType||(f=d+c),v!==h||0!==u&&3!==v.nodeType||(p=d+u),3===v.nodeType&&(d+=v.nodeValue.length),null!==(g=v.firstChild);)b=v,v=g;for(;;){if(v===a)break e;if(b===l&&++y===c&&(f=d),b===h&&++m===u&&(p=d),null!==(g=v.nextSibling))break;b=(v=b).parentNode}v=g}l=-1===f||-1===p?null:{start:f,end:p}}else l=null}l=l||{start:0,end:0}}else l=null;_i={activeElementDetached:null,focusedElem:a,selectionRange:l},Ze=!1,Xa=r;do{try{kl()}catch(M){if(null===Xa)throw Error(o(330));Fl(Xa,M),Xa=Xa.nextEffect}}while(null!==Xa);Xa=r;do{try{for(a=t,l=e;null!==Xa;){var w=Xa.effectTag;if(16&w&&zt(Xa.stateNode,""),128&w){var _=Xa.alternate;if(null!==_){var S=_.ref;null!==S&&("function"===typeof S?S(null):S.current=null)}}switch(1038&w){case 2:ma(Xa),Xa.effectTag&=-3;break;case 6:ma(Xa),Xa.effectTag&=-3,wa(Xa.alternate,Xa);break;case 1024:Xa.effectTag&=-1025;break;case 1028:Xa.effectTag&=-1025,wa(Xa.alternate,Xa);break;case 4:wa(Xa.alternate,Xa);break;case 8:ga(a,c=Xa,l),pa(c)}Xa=Xa.nextEffect}}catch(M){if(null===Xa)throw Error(o(330));Fl(Xa,M),Xa=Xa.nextEffect}}while(null!==Xa);if(S=_i,_=pi(),w=S.focusedElem,l=S.selectionRange,_!==w&&w&&w.ownerDocument&&fi(w.ownerDocument.documentElement,w)){null!==l&&yi(w)&&(_=l.start,void 0===(S=l.end)&&(S=_),"selectionStart"in w?(w.selectionStart=_,w.selectionEnd=Math.min(S,w.value.length)):(S=(_=w.ownerDocument||document)&&_.defaultView||window).getSelection&&(S=S.getSelection(),c=w.textContent.length,a=Math.min(l.start,c),l=void 0===l.end?a:Math.min(l.end,c),!S.extend&&a>l&&(c=l,l=a,a=c),c=di(w,a),h=di(w,l),c&&h&&(1!==S.rangeCount||S.anchorNode!==c.node||S.anchorOffset!==c.offset||S.focusNode!==h.node||S.focusOffset!==h.offset)&&((_=_.createRange()).setStart(c.node,c.offset),S.removeAllRanges(),a>l?(S.addRange(_),S.extend(h.node,h.offset)):(_.setEnd(h.node,h.offset),S.addRange(_))))),_=[];for(S=w;S=S.parentNode;)1===S.nodeType&&_.push({element:S,left:S.scrollLeft,top:S.scrollTop});for("function"===typeof w.focus&&w.focus(),w=0;w<_.length;w++)(S=_[w]).element.scrollLeft=S.left,S.element.scrollTop=S.top}Ze=!!wi,_i=wi=null,t.current=i,Xa=r;do{try{for(w=t;null!==Xa;){var T=Xa.effectTag;if(36&T&&da(w,Xa.alternate,Xa),128&T){_=void 0;var I=Xa.ref;if(null!==I){var x=Xa.stateNode;Xa.tag,_=x,"function"===typeof I?I(_):I.current=_}}Xa=Xa.nextEffect}}catch(M){if(null===Xa)throw Error(o(330));Fl(Xa,M),Xa=Xa.nextEffect}}while(null!==Xa);Xa=null,Vr(),Ra=s}else t.current=i;if(il)il=!1,nl=t,rl=e;else for(Xa=r;null!==Xa;)e=Xa.nextEffect,Xa.nextEffect=null,Xa=e;if(0===(e=t.firstPendingTime)&&(el=null),1073741823===e?t===al?ol++:(ol=0,al=t):ol=0,"function"===typeof Ul&&Ul(i.stateNode,n),pl(t),Qa)throw Qa=!1,t=tl,tl=null,t;return(Ra&Da)!==Ca||qr(),null}function kl(){for(;null!==Xa;){var t=Xa.effectTag;0!==(256&t)&&ua(Xa.alternate,Xa),0===(512&t)||il||(il=!0,Jr(97,(function(){return Ol(),null}))),Xa=Xa.nextEffect}}function Ol(){if(90!==rl){var t=97<rl?97:rl;return rl=90,Kr(t,Al)}}function Al(){if(null===nl)return!1;var t=nl;if(nl=null,(Ra&(ka|Oa))!==Ca)throw Error(o(331));var e=Ra;for(Ra|=Oa,t=t.current.firstEffect;null!==t;){try{var i=t;if(0!==(512&i.effectTag))switch(i.tag){case 0:case 11:case 15:case 22:ca(5,i),ha(5,i)}}catch(n){if(null===t)throw Error(o(330));Fl(t,n)}i=t.nextEffect,t.nextEffect=null,t=i}return Ra=e,qr(),!0}function Bl(t,e,i){ps(t,e=Ta(t,e=sa(i,e),1073741823)),null!==(t=dl(t,1073741823))&&pl(t)}function Fl(t,e){if(3===t.tag)Bl(t,t,e);else for(var i=t.return;null!==i;){if(3===i.tag){Bl(i,t,e);break}if(1===i.tag){var n=i.stateNode;if("function"===typeof i.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===el||!el.has(n))){ps(i,t=Ia(i,t=sa(e,t),1073741823)),null!==(i=dl(i,1073741823))&&pl(i);break}}i=i.return}}function Ll(t,e,i){var n=t.pingCache;null!==n&&n.delete(e),Va===t&&ja===i?$a===Pa||$a===La&&1073741823===Ya&&Yr()-Ga<qa?gl(t,ja):Ja=!0:Jl(t,i)&&(0!==(e=t.lastPingedTime)&&e<i||(t.lastPingedTime=i,pl(t)))}function Pl(t,e){var i=t.stateNode;null!==i&&i.delete(e),0===(e=0)&&(e=cl(e=ul(),t,null)),null!==(t=dl(t,e))&&pl(t)}xa=function(t,e,i){var n=e.expirationTime;if(null!==t){var r=e.pendingProps;if(t.memoizedProps!==r||br.current)Lo=!0;else{if(n<i){switch(Lo=!1,e.tag){case 3:Yo(e),Bo();break;case 5:if(Rs(e),4&e.mode&&1!==i&&r.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:_r(e.type)&&xr(e);break;case 4:Ps(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value,r=e.type._context,yr(es,r._currentValue),r._currentValue=n;break;case 13:if(null!==e.memoizedState)return 0!==(n=e.child.childExpirationTime)&&n>=i?qo(t,e,i):(yr(zs,1&zs.current),null!==(e=ea(t,e,i))?e.sibling:null);yr(zs,1&zs.current);break;case 19:if(n=e.childExpirationTime>=i,0!==(64&t.effectTag)){if(n)return ta(t,e,i);e.effectTag|=64}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null),yr(zs,zs.current),!n)return null}return ea(t,e,i)}Lo=!1}}else Lo=!1;switch(e.expirationTime=0,e.tag){case 2:if(n=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,r=wr(e,vr.current),ls(e,i),r=Qs(null,e,n,t,r,i),e.effectTag|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,_r(n)){var s=!0;xr(e)}else s=!1;e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,hs(e);var a=n.getDerivedStateFromProps;"function"===typeof a&&ws(e,n,a,t),r.updater=_s,e.stateNode=r,r._reactInternalFiber=e,xs(e,n,t,i),e=Wo(null,e,n,!0,s,i)}else e.tag=0,Po(null,e,r,i),e=e.child;return e;case 16:t:{if(r=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(r),1!==r._status)throw r._result;switch(r=r._result,e.type=r,s=e.tag=function(t){if("function"===typeof t)return jl(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===lt)return 11;if(t===ht)return 14}return 2}(r),t=ts(r,t),s){case 0:e=jo(null,e,r,t,i);break t;case 1:e=$o(null,e,r,t,i);break t;case 11:e=Uo(null,e,r,t,i);break t;case 14:e=Ro(null,e,r,ts(r.type,t),n,i);break t}throw Error(o(306,r,""))}return e;case 0:return n=e.type,r=e.pendingProps,jo(t,e,n,r=e.elementType===n?r:ts(n,r),i);case 1:return n=e.type,r=e.pendingProps,$o(t,e,n,r=e.elementType===n?r:ts(n,r),i);case 3:if(Yo(e),n=e.updateQueue,null===t||null===n)throw Error(o(282));if(n=e.pendingProps,r=null!==(r=e.memoizedState)?r.element:null,ds(t,e),ms(e,n,null,i),(n=e.memoizedState.element)===r)Bo(),e=ea(t,e,i);else{if((r=e.stateNode.hydrate)&&(Eo=Mi(e.stateNode.containerInfo.firstChild),Mo=e,r=No=!0),r)for(i=ks(e,null,n,i),e.child=i;i;)i.effectTag=-3&i.effectTag|1024,i=i.sibling;else Po(t,e,n,i),Bo();e=e.child}return e;case 5:return Rs(e),null===t&&ko(e),n=e.type,r=e.pendingProps,s=null!==t?t.memoizedProps:null,a=r.children,Ti(n,r)?a=null:null!==s&&Ti(n,s)&&(e.effectTag|=16),zo(t,e),4&e.mode&&1!==i&&r.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Po(t,e,a,i),e=e.child),e;case 6:return null===t&&ko(e),null;case 13:return qo(t,e,i);case 4:return Ps(e,e.stateNode.containerInfo),n=e.pendingProps,null===t?e.child=Ds(e,null,n,i):Po(t,e,n,i),e.child;case 11:return n=e.type,r=e.pendingProps,Uo(t,e,n,r=e.elementType===n?r:ts(n,r),i);case 7:return Po(t,e,e.pendingProps,i),e.child;case 8:case 12:return Po(t,e,e.pendingProps.children,i),e.child;case 10:t:{n=e.type._context,r=e.pendingProps,a=e.memoizedProps,s=r.value;var l=e.type._context;if(yr(es,l._currentValue),l._currentValue=s,null!==a)if(l=a.value,0===(s=$n(l,s)?0:0|("function"===typeof n._calculateChangedBits?n._calculateChangedBits(l,s):1073741823))){if(a.children===r.children&&!br.current){e=ea(t,e,i);break t}}else for(null!==(l=e.child)&&(l.return=e);null!==l;){var u=l.dependencies;if(null!==u){a=l.child;for(var c=u.firstContext;null!==c;){if(c.context===n&&0!==(c.observedBits&s)){1===l.tag&&((c=fs(i,null)).tag=2,ps(l,c)),l.expirationTime<i&&(l.expirationTime=i),null!==(c=l.alternate)&&c.expirationTime<i&&(c.expirationTime=i),as(l.return,i),u.expirationTime<i&&(u.expirationTime=i);break}c=c.next}}else a=10===l.tag&&l.type===e.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===e){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}Po(t,e,r.children,i),e=e.child}return e;case 9:return r=e.type,n=(s=e.pendingProps).children,ls(e,i),n=n(r=us(r,s.unstable_observedBits)),e.effectTag|=1,Po(t,e,n,i),e.child;case 14:return s=ts(r=e.type,e.pendingProps),Ro(t,e,r,s=ts(r.type,s),n,i);case 15:return Vo(t,e,e.type,e.pendingProps,n,i);case 17:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:ts(n,r),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,_r(n)?(t=!0,xr(e)):t=!1,ls(e,i),Ts(e,n,r),xs(e,n,r,i),Wo(null,e,n,!0,t,i);case 19:return ta(t,e,i)}throw Error(o(156,e.tag))};var Ul=null,Rl=null;function Vl(t,e,i,n){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function zl(t,e,i,n){return new Vl(t,e,i,n)}function jl(t){return!(!(t=t.prototype)||!t.isReactComponent)}function $l(t,e){var i=t.alternate;return null===i?((i=zl(t.tag,e,t.key,t.mode)).elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.effectTag=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null),i.childExpirationTime=t.childExpirationTime,i.expirationTime=t.expirationTime,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function Wl(t,e,i,n,r,s){var a=2;if(n=t,"function"===typeof t)jl(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case it:return Yl(i.children,r,s,e);case at:a=8,r|=7;break;case nt:a=8,r|=1;break;case rt:return(t=zl(12,i,e,8|r)).elementType=rt,t.type=rt,t.expirationTime=s,t;case ut:return(t=zl(13,i,e,r)).type=ut,t.elementType=ut,t.expirationTime=s,t;case ct:return(t=zl(19,i,e,r)).elementType=ct,t.expirationTime=s,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case st:a=10;break t;case ot:a=9;break t;case lt:a=11;break t;case ht:a=14;break t;case dt:a=16,n=null;break t;case ft:a=22;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=zl(a,i,e,r)).elementType=t,e.type=n,e.expirationTime=s,e}function Yl(t,e,i,n){return(t=zl(7,t,n,e)).expirationTime=i,t}function Hl(t,e,i){return(t=zl(6,t,null,e)).expirationTime=i,t}function Zl(t,e,i){return(e=zl(4,null!==t.children?t.children:[],t.key,e)).expirationTime=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Kl(t,e,i){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=i,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Jl(t,e){var i=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==i&&i>=e&&t<=e}function Gl(t,e){var i=t.firstSuspendedTime,n=t.lastSuspendedTime;i<e&&(t.firstSuspendedTime=e),(n>e||0===i)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function ql(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var i=t.firstSuspendedTime;0!==i&&(e>=i?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function Xl(t,e){var i=t.lastExpiredTime;(0===i||i>e)&&(t.lastExpiredTime=e)}function Ql(t,e,i,n){var r=e.current,s=ul(),a=bs.suspense;s=cl(s,r,a);t:if(i){e:{if(te(i=i._reactInternalFiber)!==i||1!==i.tag)throw Error(o(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(_r(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(null!==l);throw Error(o(171))}if(1===i.tag){var u=i.type;if(_r(u)){i=Ir(i,u,l);break t}}i=l}else i=mr;return null===e.context?e.context=i:e.pendingContext=i,(e=fs(s,a)).payload={element:t},null!==(n=void 0===n?null:n)&&(e.callback=n),ps(r,e),hl(r,s),s}function tu(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function eu(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function iu(t,e){eu(t,e),(t=t.alternate)&&eu(t,e)}function nu(t,e,i){var n=new Kl(t,e,i=null!=i&&!0===i.hydrate),r=zl(3,null,null,2===e?7:1===e?3:0);n.current=r,r.stateNode=n,hs(r),t[ki]=n.current,i&&0!==e&&function(t,e){var i=Qt(e);Ee.forEach((function(t){ye(t,e,i)})),Ne.forEach((function(t){ye(t,e,i)}))}(0,9===t.nodeType?t:t.ownerDocument),this._internalRoot=n}function ru(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function su(t,e,i,n,r){var s=i._reactRootContainer;if(s){var o=s._internalRoot;if("function"===typeof r){var a=r;r=function(){var t=tu(o);a.call(t)}}Ql(e,o,t,r)}else{if(s=i._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var i;i=t.lastChild;)t.removeChild(i);return new nu(t,0,e?{hydrate:!0}:void 0)}(i,n),o=s._internalRoot,"function"===typeof r){var l=r;r=function(){var t=tu(o);l.call(t)}}bl((function(){Ql(e,o,t,r)}))}return tu(o)}function ou(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ru(e))throw Error(o(200));return function(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:et,key:null==n?null:""+n,children:t,containerInfo:e,implementation:i}}(t,e,null,i)}nu.prototype.render=function(t){Ql(t,this._internalRoot,null,null)},nu.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Ql(null,t,null,(function(){e[ki]=null}))},me=function(t){if(13===t.tag){var e=Qr(ul(),150,100);hl(t,e),iu(t,e)}},ve=function(t){13===t.tag&&(hl(t,3),iu(t,3))},be=function(t){if(13===t.tag){var e=ul();hl(t,e=cl(e,t,null)),iu(t,e)}},N=function(t,e,i){switch(e){case"input":if(xt(t,i),e=i.name,"radio"===i.type&&null!=e){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var n=i[e];if(n!==t&&n.form===t.form){var r=Fi(n);if(!r)throw Error(o(90));_t(n),xt(n,r)}}}break;case"textarea":Ot(t,i);break;case"select":null!=(e=i.value)&&Ct(t,!!i.multiple,e,!1)}},B=vl,F=function(t,e,i,n,r){var s=Ra;Ra|=4;try{return Kr(98,t.bind(null,e,i,n,r))}finally{(Ra=s)===Ca&&qr()}},L=function(){(Ra&(1|ka|Oa))===Ca&&(function(){if(null!==sl){var t=sl;sl=null,t.forEach((function(t,e){Xl(e,t),pl(e)})),qr()}}(),Ol())},P=function(t,e){var i=Ra;Ra|=2;try{return t(e)}finally{(Ra=i)===Ca&&qr()}};var au={Events:[Ai,Bi,Fi,M,T,ji,function(t){se(t,zi)},O,A,Xe,le,Ol,{current:!1}]};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var i=e.inject(t);Ul=function(t){try{e.onCommitFiberRoot(i,t,void 0,64===(64&t.current.effectTag))}catch(n){}},Rl=function(t){try{e.onCommitFiberUnmount(i,t)}catch(n){}}}catch(n){}})(r({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=ne(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Oi,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=au,e.createPortal=ou,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"===typeof t.render)throw Error(o(188));throw Error(o(268,Object.keys(t)))}return t=null===(t=ne(e))?null:t.stateNode},e.flushSync=function(t,e){if((Ra&(ka|Oa))!==Ca)throw Error(o(187));var i=Ra;Ra|=1;try{return Kr(99,t.bind(null,e))}finally{Ra=i,qr()}},e.hydrate=function(t,e,i){if(!ru(e))throw Error(o(200));return su(null,t,e,!0,i)},e.render=function(t,e,i){if(!ru(e))throw Error(o(200));return su(null,t,e,!1,i)},e.unmountComponentAtNode=function(t){if(!ru(t))throw Error(o(40));return!!t._reactRootContainer&&(bl((function(){su(null,null,t,!1,(function(){t._reactRootContainer=null,t[ki]=null}))})),!0)},e.unstable_batchedUpdates=vl,e.unstable_createPortal=function(t,e){return ou(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,i,n){if(!ru(i))throw Error(o(200));if(null==t||void 0===t._reactInternalFiber)throw Error(o(38));return su(t,e,i,!1,n)},e.version="16.14.0"},164:(t,e,i)=>{!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=i(463)},372:(t,e)=>{var i="function"===typeof Symbol&&Symbol.for,n=i?Symbol.for("react.element"):60103,r=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,o=i?Symbol.for("react.strict_mode"):60108,a=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,u=i?Symbol.for("react.context"):60110,c=i?Symbol.for("react.async_mode"):60111,h=i?Symbol.for("react.concurrent_mode"):60111,d=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.suspense_list"):60120,y=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,v=i?Symbol.for("react.block"):60121,b=i?Symbol.for("react.fundamental"):60117,g=i?Symbol.for("react.responder"):60118,w=i?Symbol.for("react.scope"):60119;function _(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case n:switch(t=t.type){case c:case h:case s:case a:case o:case f:return t;default:switch(t=t&&t.$$typeof){case u:case d:case m:case y:case l:return t;default:return e}}case r:return e}}}function S(t){return _(t)===h}e.AsyncMode=c,e.ConcurrentMode=h,e.ContextConsumer=u,e.ContextProvider=l,e.Element=n,e.ForwardRef=d,e.Fragment=s,e.Lazy=m,e.Memo=y,e.Portal=r,e.Profiler=a,e.StrictMode=o,e.Suspense=f,e.isAsyncMode=function(t){return S(t)||_(t)===c},e.isConcurrentMode=S,e.isContextConsumer=function(t){return _(t)===u},e.isContextProvider=function(t){return _(t)===l},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===n},e.isForwardRef=function(t){return _(t)===d},e.isFragment=function(t){return _(t)===s},e.isLazy=function(t){return _(t)===m},e.isMemo=function(t){return _(t)===y},e.isPortal=function(t){return _(t)===r},e.isProfiler=function(t){return _(t)===a},e.isStrictMode=function(t){return _(t)===o},e.isSuspense=function(t){return _(t)===f},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===s||t===h||t===a||t===o||t===f||t===p||"object"===typeof t&&null!==t&&(t.$$typeof===m||t.$$typeof===y||t.$$typeof===l||t.$$typeof===u||t.$$typeof===d||t.$$typeof===b||t.$$typeof===g||t.$$typeof===w||t.$$typeof===v)},e.typeOf=_},441:(t,e,i)=>{t.exports=i(372)},374:(t,e,i)=>{var n=i(791),r=60103;if(e.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var s=Symbol.for;r=s("react.element"),e.Fragment=s("react.fragment")}var o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function u(t,e,i){var n,s={},u=null,c=null;for(n in void 0!==i&&(u=""+i),void 0!==e.key&&(u=""+e.key),void 0!==e.ref&&(c=e.ref),e)a.call(e,n)&&!l.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps)void 0===s[n]&&(s[n]=e[n]);return{$$typeof:r,type:t,key:u,ref:c,props:s,_owner:o.current}}e.jsx=u,e.jsxs=u},117:(t,e,i)=>{var n=i(725),r="function"===typeof Symbol&&Symbol.for,s=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,h=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,m="function"===typeof Symbol&&Symbol.iterator;function v(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function w(t,e,i){this.props=t,this.context=e,this.refs=g,this.updater=i||b}function _(){}function S(t,e,i){this.props=t,this.context=e,this.refs=g,this.updater=i||b}w.prototype.isReactComponent={},w.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(v(85));this.updater.enqueueSetState(this,t,e,"setState")},w.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},_.prototype=w.prototype;var T=S.prototype=new _;T.constructor=S,n(T,w.prototype),T.isPureReactComponent=!0;var I={current:null},x=Object.prototype.hasOwnProperty,M={key:!0,ref:!0,__self:!0,__source:!0};function E(t,e,i){var n,r={},o=null,a=null;if(null!=e)for(n in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)x.call(e,n)&&!M.hasOwnProperty(n)&&(r[n]=e[n]);var l=arguments.length-2;if(1===l)r.children=i;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];r.children=u}if(t&&t.defaultProps)for(n in l=t.defaultProps)void 0===r[n]&&(r[n]=l[n]);return{$$typeof:s,type:t,key:o,ref:a,props:r,_owner:I.current}}function N(t){return"object"===typeof t&&null!==t&&t.$$typeof===s}var C=/\/+/g,D=[];function k(t,e,i,n){if(D.length){var r=D.pop();return r.result=t,r.keyPrefix=e,r.func=i,r.context=n,r.count=0,r}return{result:t,keyPrefix:e,func:i,context:n,count:0}}function O(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>D.length&&D.push(t)}function A(t,e,i,n){var r=typeof t;"undefined"!==r&&"boolean"!==r||(t=null);var a=!1;if(null===t)a=!0;else switch(r){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case s:case o:a=!0}}if(a)return i(n,t,""===e?"."+F(t,0):e),1;if(a=0,e=""===e?".":e+":",Array.isArray(t))for(var l=0;l<t.length;l++){var u=e+F(r=t[l],l);a+=A(r,u,i,n)}else if(null===t||"object"!==typeof t?u=null:u="function"===typeof(u=m&&t[m]||t["@@iterator"])?u:null,"function"===typeof u)for(t=u.call(t),l=0;!(r=t.next()).done;)a+=A(r=r.value,u=e+F(r,l++),i,n);else if("object"===r)throw i=""+t,Error(v(31,"[object Object]"===i?"object with keys {"+Object.keys(t).join(", ")+"}":i,""));return a}function B(t,e,i){return null==t?0:A(t,"",e,i)}function F(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function L(t,e){t.func.call(t.context,e,t.count++)}function P(t,e,i){var n=t.result,r=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?U(t,n,i,(function(t){return t})):null!=t&&(N(t)&&(t=function(t,e){return{$$typeof:s,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,r+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(C,"$&/")+"/")+i)),n.push(t))}function U(t,e,i,n,r){var s="";null!=i&&(s=(""+i).replace(C,"$&/")+"/"),B(t,P,e=k(e,s,n,r)),O(e)}var R={current:null};function V(){var t=R.current;if(null===t)throw Error(v(321));return t}var z={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:I,IsSomeRendererActing:{current:!1},assign:n};e.Children={map:function(t,e,i){if(null==t)return t;var n=[];return U(t,n,null,e,i),n},forEach:function(t,e,i){if(null==t)return t;B(t,L,e=k(null,null,e,i)),O(e)},count:function(t){return B(t,(function(){return null}),null)},toArray:function(t){var e=[];return U(t,e,null,(function(t){return t})),e},only:function(t){if(!N(t))throw Error(v(143));return t}},e.Component=w,e.Fragment=a,e.Profiler=u,e.PureComponent=S,e.StrictMode=l,e.Suspense=f,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,e.cloneElement=function(t,e,i){if(null===t||void 0===t)throw Error(v(267,t));var r=n({},t.props),o=t.key,a=t.ref,l=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,l=I.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)x.call(e,c)&&!M.hasOwnProperty(c)&&(r[c]=void 0===e[c]&&void 0!==u?u[c]:e[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:s,type:t.type,key:o,ref:a,props:r,_owner:l}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:h,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:t},t.Consumer=t},e.createElement=E,e.createFactory=function(t){var e=E.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:d,render:t}},e.isValidElement=N,e.lazy=function(t){return{$$typeof:y,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:p,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return V().useCallback(t,e)},e.useContext=function(t,e){return V().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return V().useEffect(t,e)},e.useImperativeHandle=function(t,e,i){return V().useImperativeHandle(t,e,i)},e.useLayoutEffect=function(t,e){return V().useLayoutEffect(t,e)},e.useMemo=function(t,e){return V().useMemo(t,e)},e.useReducer=function(t,e,i){return V().useReducer(t,e,i)},e.useRef=function(t){return V().useRef(t)},e.useState=function(t){return V().useState(t)},e.version="16.14.0"},791:(t,e,i)=>{t.exports=i(117)},184:(t,e,i)=>{t.exports=i(374)},813:(t,e)=>{var i,n,r,s,o;if("undefined"===typeof window||"function"!==typeof MessageChannel){var a=null,l=null,u=function(){if(null!==a)try{var t=e.unstable_now();a(!0,t),a=null}catch(i){throw setTimeout(u,0),i}},c=Date.now();e.unstable_now=function(){return Date.now()-c},i=function(t){null!==a?setTimeout(i,0,t):(a=t,setTimeout(u,0))},n=function(t,e){l=setTimeout(t,e)},r=function(){clearTimeout(l)},s=function(){return!1},o=e.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,f=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var y=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof y&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof h&&"function"===typeof h.now)e.unstable_now=function(){return h.now()};else{var m=d.now();e.unstable_now=function(){return d.now()-m}}var v=!1,b=null,g=-1,w=5,_=0;s=function(){return e.unstable_now()>=_},o=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<t?Math.floor(1e3/t):5};var S=new MessageChannel,T=S.port2;S.port1.onmessage=function(){if(null!==b){var t=e.unstable_now();_=t+w;try{b(!0,t)?T.postMessage(null):(v=!1,b=null)}catch(i){throw T.postMessage(null),i}}else v=!1},i=function(t){b=t,v||(v=!0,T.postMessage(null))},n=function(t,i){g=f((function(){t(e.unstable_now())}),i)},r=function(){p(g),g=-1}}function I(t,e){var i=t.length;t.push(e);t:for(;;){var n=i-1>>>1,r=t[n];if(!(void 0!==r&&0<E(r,e)))break t;t[n]=e,t[i]=r,i=n}}function x(t){return void 0===(t=t[0])?null:t}function M(t){var e=t[0];if(void 0!==e){var i=t.pop();if(i!==e){t[0]=i;t:for(var n=0,r=t.length;n<r;){var s=2*(n+1)-1,o=t[s],a=s+1,l=t[a];if(void 0!==o&&0>E(o,i))void 0!==l&&0>E(l,o)?(t[n]=l,t[a]=i,n=a):(t[n]=o,t[s]=i,n=s);else{if(!(void 0!==l&&0>E(l,i)))break t;t[n]=l,t[a]=i,n=a}}}return e}return null}function E(t,e){var i=t.sortIndex-e.sortIndex;return 0!==i?i:t.id-e.id}var N=[],C=[],D=1,k=null,O=3,A=!1,B=!1,F=!1;function L(t){for(var e=x(C);null!==e;){if(null===e.callback)M(C);else{if(!(e.startTime<=t))break;M(C),e.sortIndex=e.expirationTime,I(N,e)}e=x(C)}}function P(t){if(F=!1,L(t),!B)if(null!==x(N))B=!0,i(U);else{var e=x(C);null!==e&&n(P,e.startTime-t)}}function U(t,i){B=!1,F&&(F=!1,r()),A=!0;var o=O;try{for(L(i),k=x(N);null!==k&&(!(k.expirationTime>i)||t&&!s());){var a=k.callback;if(null!==a){k.callback=null,O=k.priorityLevel;var l=a(k.expirationTime<=i);i=e.unstable_now(),"function"===typeof l?k.callback=l:k===x(N)&&M(N),L(i)}else M(N);k=x(N)}if(null!==k)var u=!0;else{var c=x(C);null!==c&&n(P,c.startTime-i),u=!1}return u}finally{k=null,O=o,A=!1}}function R(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var V=o;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){B||A||(B=!0,i(U))},e.unstable_getCurrentPriorityLevel=function(){return O},e.unstable_getFirstCallbackNode=function(){return x(N)},e.unstable_next=function(t){switch(O){case 1:case 2:case 3:var e=3;break;default:e=O}var i=O;O=e;try{return t()}finally{O=i}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=V,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var i=O;O=t;try{return e()}finally{O=i}},e.unstable_scheduleCallback=function(t,s,o){var a=e.unstable_now();if("object"===typeof o&&null!==o){var l=o.delay;l="number"===typeof l&&0<l?a+l:a,o="number"===typeof o.timeout?o.timeout:R(t)}else o=R(t),l=a;return t={id:D++,callback:s,priorityLevel:t,startTime:l,expirationTime:o=l+o,sortIndex:-1},l>a?(t.sortIndex=l,I(C,t),null===x(N)&&t===x(C)&&(F?r():F=!0,n(P,l-a))):(t.sortIndex=o,I(N,t),B||A||(B=!0,i(U))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();L(t);var i=x(N);return i!==k&&null!==k&&null!==i&&null!==i.callback&&i.startTime<=t&&i.expirationTime<k.expirationTime||s()},e.unstable_wrapCallback=function(t){var e=O;return function(){var i=O;O=e;try{return t.apply(this,arguments)}finally{O=i}}}},296:(t,e,i)=>{t.exports=i(813)},761:function(t,e,i){var n=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(184),o=function(t){function e(e){var i=t.call(this,e)||this;return i.state={error:void 0},i}return n(e,t),e.getDerivedStateFromError=function(t){return{error:t}},e.prototype.render=function(){return null!=this.state.error?(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{children:"Component Error"},void 0),(0,s.jsx)("span",{children:this.state.error.message},void 0)]},void 0):this.props.children},e}(r(i(791)).default.PureComponent);e.default=o},330:function(t,e,i){var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&r(e,t,i);return s(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.useRenderData=void 0;var l=i(184),u=o(i(791)),c=i(923),h=i(846),d=a(i(761)),f=u.default.createContext(void 0);e.useRenderData=function(){var t=(0,u.useContext)(f);if(null==t)throw new Error("useRenderData() must be used inside <StreamlitProvider />");return t};e.default=function(t){var e=(0,h.useNullableRenderData)();return(0,u.useEffect)((function(){c.Streamlit.setFrameHeight()})),null==e?null:(0,l.jsx)(d.default,{children:(0,l.jsx)(f.Provider,n({value:e},{children:t.children}),void 0)},void 0)}},115:function(t,e,i){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.useNullableRenderData=e.StreamlitProvider=e.useRenderData=void 0;var r=i(330);Object.defineProperty(e,"useRenderData",{enumerable:!0,get:function(){return r.useRenderData}}),Object.defineProperty(e,"StreamlitProvider",{enumerable:!0,get:function(){return n(r).default}});var s=i(846);Object.defineProperty(e,"useNullableRenderData",{enumerable:!0,get:function(){return s.useNullableRenderData}})},846:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.useNullableRenderData=void 0;var n=i(791),r=i(923);e.useNullableRenderData=function(){var t=(0,n.useState)(),e=t[0],i=t[1];return(0,n.useEffect)((function(){var t=function(t){i(t.detail)};r.Streamlit.events.addEventListener(r.Streamlit.RENDER_EVENT,t),r.Streamlit.setComponentReady();return function(){r.Streamlit.events.removeEventListener(r.Streamlit.RENDER_EVENT,t)}}),[]),e}},923:(t,e,i)=>{i.r(e),i.d(e,{ArrowTable:()=>hn,Streamlit:()=>fn,StreamlitComponentBase:()=>mn,withStreamlitConnection:()=>vn});var n=i(110),r=i.n(n),s=i(791);const o=new WeakMap,a=new WeakMap;function l(t){const e=o.get(t);return console.assert(null!=e,"'this' is expected an Event object, but got",t),e}function u(t){null==t.passiveListener?t.event.cancelable&&(t.canceled=!0,"function"===typeof t.event.preventDefault&&t.event.preventDefault()):"undefined"!==typeof console&&"function"===typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",t.passiveListener)}function c(t,e){o.set(this,{eventTarget:t,event:e,eventPhase:2,currentTarget:t,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:e.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});const i=Object.keys(e);for(let n=0;n<i.length;++n){const t=i[n];t in this||Object.defineProperty(this,t,h(t))}}function h(t){return{get(){return l(this).event[t]},set(e){l(this).event[t]=e},configurable:!0,enumerable:!0}}function d(t){return{value(){const e=l(this).event;return e[t].apply(e,arguments)},configurable:!0,enumerable:!0}}function f(t){if(null==t||t===Object.prototype)return c;let e=a.get(t);return null==e&&(e=function(t,e){const i=Object.keys(e);if(0===i.length)return t;function n(e,i){t.call(this,e,i)}n.prototype=Object.create(t.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(let r=0;r<i.length;++r){const s=i[r];if(!(s in t.prototype)){const t="function"===typeof Object.getOwnPropertyDescriptor(e,s).value;Object.defineProperty(n.prototype,s,t?d(s):h(s))}}return n}(f(Object.getPrototypeOf(t)),t),a.set(t,e)),e}function p(t){return l(t).immediateStopped}function y(t,e){l(t).passiveListener=e}c.prototype={get type(){return l(this).event.type},get target(){return l(this).eventTarget},get currentTarget(){return l(this).currentTarget},composedPath(){const t=l(this).currentTarget;return null==t?[]:[t]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return l(this).eventPhase},stopPropagation(){const t=l(this);t.stopped=!0,"function"===typeof t.event.stopPropagation&&t.event.stopPropagation()},stopImmediatePropagation(){const t=l(this);t.stopped=!0,t.immediateStopped=!0,"function"===typeof t.event.stopImmediatePropagation&&t.event.stopImmediatePropagation()},get bubbles(){return Boolean(l(this).event.bubbles)},get cancelable(){return Boolean(l(this).event.cancelable)},preventDefault(){u(l(this))},get defaultPrevented(){return l(this).canceled},get composed(){return Boolean(l(this).event.composed)},get timeStamp(){return l(this).timeStamp},get srcElement(){return l(this).eventTarget},get cancelBubble(){return l(this).stopped},set cancelBubble(t){if(!t)return;const e=l(this);e.stopped=!0,"boolean"===typeof e.event.cancelBubble&&(e.event.cancelBubble=!0)},get returnValue(){return!l(this).canceled},set returnValue(t){t||u(l(this))},initEvent(){}},Object.defineProperty(c.prototype,"constructor",{value:c,configurable:!0,writable:!0}),"undefined"!==typeof window&&"undefined"!==typeof window.Event&&(Object.setPrototypeOf(c.prototype,window.Event.prototype),a.set(window.Event.prototype,c));const m=new WeakMap,v=3;function b(t){return null!==t&&"object"===typeof t}function g(t){const e=m.get(t);if(null==e)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return e}function w(t,e){Object.defineProperty(t,"on".concat(e),function(t){return{get(){let e=g(this).get(t);for(;null!=e;){if(e.listenerType===v)return e.listener;e=e.next}return null},set(e){"function"===typeof e||b(e)||(e=null);const i=g(this);let n=null,r=i.get(t);for(;null!=r;)r.listenerType===v?null!==n?n.next=r.next:null!==r.next?i.set(t,r.next):i.delete(t):n=r,r=r.next;if(null!==e){const r={listener:e,listenerType:v,passive:!1,once:!1,next:null};null===n?i.set(t,r):n.next=r}},configurable:!0,enumerable:!0}}(e))}function _(t){function e(){S.call(this)}e.prototype=Object.create(S.prototype,{constructor:{value:e,configurable:!0,writable:!0}});for(let i=0;i<t.length;++i)w(e.prototype,t[i]);return e}function S(){if(!(this instanceof S)){if(1===arguments.length&&Array.isArray(arguments[0]))return _(arguments[0]);if(arguments.length>0){const t=new Array(arguments.length);for(let e=0;e<arguments.length;++e)t[e]=arguments[e];return _(t)}throw new TypeError("Cannot call a class as a function")}m.set(this,new Map)}S.prototype={addEventListener(t,e,i){if(null==e)return;if("function"!==typeof e&&!b(e))throw new TypeError("'listener' should be a function or an object.");const n=g(this),r=b(i),s=(r?Boolean(i.capture):Boolean(i))?1:2,o={listener:e,listenerType:s,passive:r&&Boolean(i.passive),once:r&&Boolean(i.once),next:null};let a=n.get(t);if(void 0===a)return void n.set(t,o);let l=null;for(;null!=a;){if(a.listener===e&&a.listenerType===s)return;l=a,a=a.next}l.next=o},removeEventListener(t,e,i){if(null==e)return;const n=g(this),r=(b(i)?Boolean(i.capture):Boolean(i))?1:2;let s=null,o=n.get(t);for(;null!=o;){if(o.listener===e&&o.listenerType===r)return void(null!==s?s.next=o.next:null!==o.next?n.set(t,o.next):n.delete(t));s=o,o=o.next}},dispatchEvent(t){if(null==t||"string"!==typeof t.type)throw new TypeError('"event.type" should be a string.');const e=g(this),i=t.type;let n=e.get(i);if(null==n)return!0;const r=function(t,e){return new(f(Object.getPrototypeOf(e)))(t,e)}(this,t);let s=null;for(;null!=n;){if(n.once?null!==s?s.next=n.next:null!==n.next?e.set(i,n.next):e.delete(i):s=n,y(r,n.passive?n.listener:null),"function"===typeof n.listener)try{n.listener.call(this,r)}catch(o){"undefined"!==typeof console&&"function"===typeof console.error&&console.error(o)}else n.listenerType!==v&&"function"===typeof n.listener.handleEvent&&n.listener.handleEvent(r);if(p(r))break;n=n.next}return y(r,null),function(t,e){l(t).eventPhase=e}(r,0),function(t,e){l(t).currentTarget=e}(r,null),!r.defaultPrevented}},Object.defineProperty(S.prototype,"constructor",{value:S,configurable:!0,writable:!0}),"undefined"!==typeof window&&"undefined"!==typeof window.EventTarget&&Object.setPrototypeOf(S.prototype,window.EventTarget.prototype);var T,I,x,M,E,N,C,D,k;!function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"}(T||(T={})),function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"}(I||(I={})),function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"}(x||(x={})),function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"}(M||(M={})),function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"}(E||(E={})),function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"}(N||(N={})),function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"}(C||(C={})),function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.Float=3]="Float",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct=13]="Struct",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.Dictionary=-1]="Dictionary",t[t.Int8=-2]="Int8",t[t.Int16=-3]="Int16",t[t.Int32=-4]="Int32",t[t.Int64=-5]="Int64",t[t.Uint8=-6]="Uint8",t[t.Uint16=-7]="Uint16",t[t.Uint32=-8]="Uint32",t[t.Uint64=-9]="Uint64",t[t.Float16=-10]="Float16",t[t.Float32=-11]="Float32",t[t.Float64=-12]="Float64",t[t.DateDay=-13]="DateDay",t[t.DateMillisecond=-14]="DateMillisecond",t[t.TimestampSecond=-15]="TimestampSecond",t[t.TimestampMillisecond=-16]="TimestampMillisecond",t[t.TimestampMicrosecond=-17]="TimestampMicrosecond",t[t.TimestampNanosecond=-18]="TimestampNanosecond",t[t.TimeSecond=-19]="TimeSecond",t[t.TimeMillisecond=-20]="TimeMillisecond",t[t.TimeMicrosecond=-21]="TimeMicrosecond",t[t.TimeNanosecond=-22]="TimeNanosecond",t[t.DenseUnion=-23]="DenseUnion",t[t.SparseUnion=-24]="SparseUnion",t[t.IntervalDayTime=-25]="IntervalDayTime",t[t.IntervalYearMonth=-26]="IntervalYearMonth",t[t.DurationSecond=-27]="DurationSecond",t[t.DurationMillisecond=-28]="DurationMillisecond",t[t.DurationMicrosecond=-29]="DurationMicrosecond",t[t.DurationNanosecond=-30]="DurationNanosecond"}(D||(D={})),function(t){t[t.OFFSET=0]="OFFSET",t[t.DATA=1]="DATA",t[t.VALIDITY=2]="VALIDITY",t[t.TYPE=3]="TYPE"}(k||(k={}));function O(t){if(null===t)return"null";if(undefined===t)return"undefined";switch(typeof t){case"number":case"bigint":return"".concat(t);case"string":return'"'.concat(t,'"')}return"function"===typeof t[Symbol.toPrimitive]?t[Symbol.toPrimitive]("string"):ArrayBuffer.isView(t)?t instanceof BigInt64Array||t instanceof BigUint64Array?"[".concat([...t].map((t=>O(t))),"]"):"[".concat(t,"]"):ArrayBuffer.isView(t)?"[".concat(t,"]"):JSON.stringify(t,((t,e)=>"bigint"===typeof e?"".concat(e):e))}const A=new TextDecoder("utf-8"),B=new TextEncoder,F=t=>B.encode(t),L=t=>"function"===typeof t,P=t=>null!=t&&Object(t)===t,U=t=>P(t)&&"done"in t&&"value"in t,R=t=>P(t)&&L(t.clear)&&L(t.bytes)&&L(t.position)&&L(t.setPosition)&&L(t.capacity)&&L(t.getBufferIdentifier)&&L(t.createLong),V="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;function z(t,e){let i=U(e)?e.value:e;return i instanceof t?t===Uint8Array?new t(i.buffer,i.byteOffset,i.byteLength):i:i?("string"===typeof i&&(i=F(i)),i instanceof ArrayBuffer||i instanceof V?new t(i):R(i)?z(t,i.bytes()):ArrayBuffer.isView(i)?i.byteLength<=0?new t(0):new t(i.buffer,i.byteOffset,i.byteLength/t.BYTES_PER_ELEMENT):t.from(i)):new t(0)}const j=t=>z(Int32Array,t),$=t=>z(Uint8Array,t);const W=Symbol.for("isArrowBigNum");function Y(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return 0===i.length?Object.setPrototypeOf(z(this.TypedArray,t),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(t,...i),this.constructor.prototype)}function H(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return Y.apply(this,e)}function Z(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return Y.apply(this,e)}function K(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return Y.apply(this,e)}function J(t){const{buffer:e,byteOffset:i,length:n,signed:r}=t,s=new BigUint64Array(e,i,n),o=r&&s.at(-1)&BigInt(1)<<BigInt(63);let a=o?BigInt(1):BigInt(0),l=BigInt(0);if(o){for(const t of s)a+=~t*(BigInt(1)<<BigInt(32)*l++);a*=BigInt(-1)}else for(const u of s)a+=u*(BigInt(1)<<BigInt(32)*l++);return a}Y.prototype[W]=!0,Y.prototype.toJSON=function(){return'"'.concat(G(this),'"')},Y.prototype.valueOf=function(){return J(this)},Y.prototype.toString=function(){return G(this)},Y.prototype[Symbol.toPrimitive]=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default"){case"number":return J(this);case"string":return G(this);case"default":return q(this)}return G(this)},Object.setPrototypeOf(H.prototype,Object.create(Int32Array.prototype)),Object.setPrototypeOf(Z.prototype,Object.create(Uint32Array.prototype)),Object.setPrototypeOf(K.prototype,Object.create(Uint32Array.prototype)),Object.assign(H.prototype,Y.prototype,{constructor:H,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array}),Object.assign(Z.prototype,Y.prototype,{constructor:Z,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array}),Object.assign(K.prototype,Y.prototype,{constructor:K,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});const G=t=>{if(8===t.byteLength){const e=new t.BigIntArray(t.buffer,t.byteOffset,1);return"".concat(e[0])}if(!t.signed)return X(t);let e=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);if(new Int16Array([e.at(-1)])[0]>=0)return X(t);e=e.slice();let i=1;for(let r=0;r<e.length;r++){const t=e[r],n=~t+i;e[r]=n,i&=0===t?1:0}const n=X(e);return"-".concat(n)},q=t=>{if(8===t.byteLength){return new t.BigIntArray(t.buffer,t.byteOffset,1)[0]}return G(t)};function X(t){let e="";const i=new Uint32Array(2);let n=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);const r=new Uint32Array((n=new Uint16Array(n).reverse()).buffer);let s=-1;const o=n.length-1;do{for(i[0]=n[s=0];s<o;)n[s++]=i[1]=i[0]/10,i[0]=(i[0]-10*i[1]<<16)+n[s];n[s]=i[1]=i[0]/10,i[0]=i[0]-10*i[1],e="".concat(i[0]).concat(e)}while(r[0]||r[1]||r[2]||r[3]);return null!==e&&void 0!==e?e:"0"}class Q{static new(t,e){switch(e){case!0:return new H(t);case!1:return new Z(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new H(t)}return 16===t.byteLength?new K(t):new Z(t)}static signed(t){return new H(t)}static unsigned(t){return new Z(t)}static decimal(t){return new K(t)}constructor(t,e){return Q.new(t,e)}}var tt,et,it,nt,rt,st,ot,at,lt,ut,ct,ht;class dt{static isNull(t){return(null===t||void 0===t?void 0:t.typeId)===D.Null}static isInt(t){return(null===t||void 0===t?void 0:t.typeId)===D.Int}static isFloat(t){return(null===t||void 0===t?void 0:t.typeId)===D.Float}static isBinary(t){return(null===t||void 0===t?void 0:t.typeId)===D.Binary}static isUtf8(t){return(null===t||void 0===t?void 0:t.typeId)===D.Utf8}static isBool(t){return(null===t||void 0===t?void 0:t.typeId)===D.Bool}static isDecimal(t){return(null===t||void 0===t?void 0:t.typeId)===D.Decimal}static isDate(t){return(null===t||void 0===t?void 0:t.typeId)===D.Date}static isTime(t){return(null===t||void 0===t?void 0:t.typeId)===D.Time}static isTimestamp(t){return(null===t||void 0===t?void 0:t.typeId)===D.Timestamp}static isInterval(t){return(null===t||void 0===t?void 0:t.typeId)===D.Interval}static isDuration(t){return(null===t||void 0===t?void 0:t.typeId)===D.Duration}static isList(t){return(null===t||void 0===t?void 0:t.typeId)===D.List}static isStruct(t){return(null===t||void 0===t?void 0:t.typeId)===D.Struct}static isUnion(t){return(null===t||void 0===t?void 0:t.typeId)===D.Union}static isFixedSizeBinary(t){return(null===t||void 0===t?void 0:t.typeId)===D.FixedSizeBinary}static isFixedSizeList(t){return(null===t||void 0===t?void 0:t.typeId)===D.FixedSizeList}static isMap(t){return(null===t||void 0===t?void 0:t.typeId)===D.Map}static isDictionary(t){return(null===t||void 0===t?void 0:t.typeId)===D.Dictionary}static isDenseUnion(t){return dt.isUnion(t)&&t.mode===I.Dense}static isSparseUnion(t){return dt.isUnion(t)&&t.mode===I.Sparse}get typeId(){return D.NONE}}tt=Symbol.toStringTag,dt[tt]=((ht=dt.prototype).children=null,ht.ArrayType=Array,ht[Symbol.toStringTag]="DataType");class ft extends dt{toString(){return"Null"}get typeId(){return D.Null}}et=Symbol.toStringTag,ft[et]=(t=>t[Symbol.toStringTag]="Null")(ft.prototype);class pt extends dt{constructor(t,e){super(),this.isSigned=t,this.bitWidth=e}get typeId(){return D.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error("Unrecognized ".concat(this[Symbol.toStringTag]," type"))}toString(){return"".concat(this.isSigned?"I":"Ui","nt").concat(this.bitWidth)}}it=Symbol.toStringTag,pt[it]=(t=>(t.isSigned=null,t.bitWidth=null,t[Symbol.toStringTag]="Int"))(pt.prototype);Object.defineProperty(class extends pt{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}.prototype,"ArrayType",{value:Int8Array}),Object.defineProperty(class extends pt{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}.prototype,"ArrayType",{value:Int16Array}),Object.defineProperty(class extends pt{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty(class extends pt{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}}.prototype,"ArrayType",{value:BigInt64Array}),Object.defineProperty(class extends pt{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}.prototype,"ArrayType",{value:Uint8Array}),Object.defineProperty(class extends pt{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(class extends pt{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}.prototype,"ArrayType",{value:Uint32Array}),Object.defineProperty(class extends pt{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}}.prototype,"ArrayType",{value:BigUint64Array});class yt extends dt{constructor(t){super(),this.precision=t}get typeId(){return D.Float}get ArrayType(){switch(this.precision){case x.HALF:return Uint16Array;case x.SINGLE:return Float32Array;case x.DOUBLE:return Float64Array}throw new Error("Unrecognized ".concat(this[Symbol.toStringTag]," type"))}toString(){return"Float".concat(this.precision<<5||16)}}nt=Symbol.toStringTag,yt[nt]=(t=>(t.precision=null,t[Symbol.toStringTag]="Float"))(yt.prototype);Object.defineProperty(class extends yt{constructor(){super(x.HALF)}}.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(class extends yt{constructor(){super(x.SINGLE)}}.prototype,"ArrayType",{value:Float32Array}),Object.defineProperty(class extends yt{constructor(){super(x.DOUBLE)}}.prototype,"ArrayType",{value:Float64Array});class mt extends dt{constructor(){super()}get typeId(){return D.Binary}toString(){return"Binary"}}mt[Symbol.toStringTag]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Binary"))(mt.prototype);class vt extends dt{constructor(){super()}get typeId(){return D.Utf8}toString(){return"Utf8"}}vt[Symbol.toStringTag]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Utf8"))(vt.prototype);class bt extends dt{constructor(){super()}get typeId(){return D.Bool}toString(){return"Bool"}}bt[Symbol.toStringTag]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Bool"))(bt.prototype);class gt extends dt{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:128;super(),this.scale=t,this.precision=e,this.bitWidth=i}get typeId(){return D.Decimal}toString(){return"Decimal[".concat(this.precision,"e").concat(this.scale>0?"+":"").concat(this.scale,"]")}}gt[Symbol.toStringTag]=(t=>(t.scale=null,t.precision=null,t.ArrayType=Uint32Array,t[Symbol.toStringTag]="Decimal"))(gt.prototype);class wt extends dt{constructor(t){super(),this.unit=t}get typeId(){return D.Date}toString(){return"Date".concat(32*(this.unit+1),"<").concat(M[this.unit],">")}}rt=Symbol.toStringTag,wt[rt]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Date"))(wt.prototype);class _t extends dt{constructor(t,e){super(),this.unit=t,this.bitWidth=e}get typeId(){return D.Time}toString(){return"Time".concat(this.bitWidth,"<").concat(E[this.unit],">")}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error("Unrecognized ".concat(this[Symbol.toStringTag]," type"))}}st=Symbol.toStringTag,_t[st]=(t=>(t.unit=null,t.bitWidth=null,t[Symbol.toStringTag]="Time"))(_t.prototype);class St extends dt{constructor(t,e){super(),this.unit=t,this.timezone=e}get typeId(){return D.Timestamp}toString(){return"Timestamp<".concat(E[this.unit]).concat(this.timezone?", ".concat(this.timezone):"",">")}}ot=Symbol.toStringTag,St[ot]=(t=>(t.unit=null,t.timezone=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Timestamp"))(St.prototype);class Tt extends dt{constructor(t){super(),this.unit=t}get typeId(){return D.Interval}toString(){return"Interval<".concat(N[this.unit],">")}}at=Symbol.toStringTag,Tt[at]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Interval"))(Tt.prototype);class It extends dt{constructor(t){super(),this.unit=t}get typeId(){return D.Duration}toString(){return"Duration<".concat(E[this.unit],">")}}lt=Symbol.toStringTag,It[lt]=(t=>(t.unit=null,t.ArrayType=BigInt64Array,t[Symbol.toStringTag]="Duration"))(It.prototype);class xt extends dt{constructor(t){super(),this.children=[t]}get typeId(){return D.List}toString(){return"List<".concat(this.valueType,">")}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}xt[Symbol.toStringTag]=(t=>(t.children=null,t[Symbol.toStringTag]="List"))(xt.prototype);class Mt extends dt{constructor(t){super(),this.children=t}get typeId(){return D.Struct}toString(){return"Struct<{".concat(this.children.map((t=>"".concat(t.name,":").concat(t.type))).join(", "),"}>")}}ut=Symbol.toStringTag,Mt[ut]=(t=>(t.children=null,t[Symbol.toStringTag]="Struct"))(Mt.prototype);class Et extends dt{constructor(t,e,i){super(),this.mode=t,this.children=i,this.typeIds=e=Int32Array.from(e),this.typeIdToChildIndex=e.reduce(((t,e,i)=>(t[e]=i)&&t||t),Object.create(null))}get typeId(){return D.Union}toString(){return"".concat(this[Symbol.toStringTag],"<").concat(this.children.map((t=>"".concat(t.type))).join(" | "),">")}}ct=Symbol.toStringTag,Et[ct]=(t=>(t.mode=null,t.typeIds=null,t.children=null,t.typeIdToChildIndex=null,t.ArrayType=Int8Array,t[Symbol.toStringTag]="Union"))(Et.prototype);class Nt extends dt{constructor(t){super(),this.byteWidth=t}get typeId(){return D.FixedSizeBinary}toString(){return"FixedSizeBinary[".concat(this.byteWidth,"]")}}Nt[Symbol.toStringTag]=(t=>(t.byteWidth=null,t.ArrayType=Uint8Array,t[Symbol.toStringTag]="FixedSizeBinary"))(Nt.prototype);class Ct extends dt{constructor(t,e){super(),this.listSize=t,this.children=[e]}get typeId(){return D.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return"FixedSizeList[".concat(this.listSize,"]<").concat(this.valueType,">")}}Ct[Symbol.toStringTag]=(t=>(t.children=null,t.listSize=null,t[Symbol.toStringTag]="FixedSizeList"))(Ct.prototype);class Dt extends dt{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var i,n,r;if(super(),this.children=[t],this.keysSorted=e,t&&(t.name="entries",null===(i=null===t||void 0===t?void 0:t.type)||void 0===i?void 0:i.children)){const e=null===(n=null===t||void 0===t?void 0:t.type)||void 0===n?void 0:n.children[0];e&&(e.name="key");const i=null===(r=null===t||void 0===t?void 0:t.type)||void 0===r?void 0:r.children[1];i&&(i.name="value")}}get typeId(){return D.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return"Map<{".concat(this.children[0].type.children.map((t=>"".concat(t.name,":").concat(t.type))).join(", "),"}>")}}Dt[Symbol.toStringTag]=(t=>(t.children=null,t.keysSorted=null,t[Symbol.toStringTag]="Map_"))(Dt.prototype);const kt=(Ot=-1,()=>++Ot);var Ot;class At extends dt{constructor(t,e,i,n){super(),this.indices=e,this.dictionary=t,this.isOrdered=n||!1,this.id=null==i?kt():function(t){if("bigint"===typeof t&&(t<Number.MIN_SAFE_INTEGER||t>Number.MAX_SAFE_INTEGER))throw new TypeError("".concat(t," is not safe to convert to a number."));return Number(t)}(i)}get typeId(){return D.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return"Dictionary<".concat(this.indices,", ").concat(this.dictionary,">")}}function Bt(t){const e=t;switch(t.typeId){case D.Decimal:return t.bitWidth/32;case D.Timestamp:return 2;case D.Date:case D.Interval:return 1+e.unit;case D.FixedSizeList:return e.listSize;case D.FixedSizeBinary:return e.byteWidth;default:return 1}}At[Symbol.toStringTag]=(t=>(t.id=null,t.indices=null,t.isOrdered=null,t.dictionary=null,t[Symbol.toStringTag]="Dictionary"))(At.prototype);class Ft{visitMany(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return t.map(((t,e)=>this.visit(t,...i.map((t=>t[e])))))}visit(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(t){return function(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("number"===typeof e)return Lt(t,e,i);if("string"===typeof e&&e in D)return Lt(t,D[e],i);if(e&&e instanceof dt)return Lt(t,Pt(e),i);if((null===e||void 0===e?void 0:e.type)&&e.type instanceof dt)return Lt(t,Pt(e.type),i);return Lt(t,D.NONE,i)}(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}getVisitFnByTypeId(t){return Lt(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}visitNull(t){return null}visitBool(t){return null}visitInt(t){return null}visitFloat(t){return null}visitUtf8(t){return null}visitBinary(t){return null}visitFixedSizeBinary(t){return null}visitDate(t){return null}visitTimestamp(t){return null}visitTime(t){return null}visitDecimal(t){return null}visitList(t){return null}visitStruct(t){return null}visitUnion(t){return null}visitDictionary(t){return null}visitInterval(t){return null}visitDuration(t){return null}visitFixedSizeList(t){return null}visitMap(t){return null}}function Lt(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=null;switch(e){case D.Null:n=t.visitNull;break;case D.Bool:n=t.visitBool;break;case D.Int:n=t.visitInt;break;case D.Int8:n=t.visitInt8||t.visitInt;break;case D.Int16:n=t.visitInt16||t.visitInt;break;case D.Int32:n=t.visitInt32||t.visitInt;break;case D.Int64:n=t.visitInt64||t.visitInt;break;case D.Uint8:n=t.visitUint8||t.visitInt;break;case D.Uint16:n=t.visitUint16||t.visitInt;break;case D.Uint32:n=t.visitUint32||t.visitInt;break;case D.Uint64:n=t.visitUint64||t.visitInt;break;case D.Float:n=t.visitFloat;break;case D.Float16:n=t.visitFloat16||t.visitFloat;break;case D.Float32:n=t.visitFloat32||t.visitFloat;break;case D.Float64:n=t.visitFloat64||t.visitFloat;break;case D.Utf8:n=t.visitUtf8;break;case D.Binary:n=t.visitBinary;break;case D.FixedSizeBinary:n=t.visitFixedSizeBinary;break;case D.Date:n=t.visitDate;break;case D.DateDay:n=t.visitDateDay||t.visitDate;break;case D.DateMillisecond:n=t.visitDateMillisecond||t.visitDate;break;case D.Timestamp:n=t.visitTimestamp;break;case D.TimestampSecond:n=t.visitTimestampSecond||t.visitTimestamp;break;case D.TimestampMillisecond:n=t.visitTimestampMillisecond||t.visitTimestamp;break;case D.TimestampMicrosecond:n=t.visitTimestampMicrosecond||t.visitTimestamp;break;case D.TimestampNanosecond:n=t.visitTimestampNanosecond||t.visitTimestamp;break;case D.Time:n=t.visitTime;break;case D.TimeSecond:n=t.visitTimeSecond||t.visitTime;break;case D.TimeMillisecond:n=t.visitTimeMillisecond||t.visitTime;break;case D.TimeMicrosecond:n=t.visitTimeMicrosecond||t.visitTime;break;case D.TimeNanosecond:n=t.visitTimeNanosecond||t.visitTime;break;case D.Decimal:n=t.visitDecimal;break;case D.List:n=t.visitList;break;case D.Struct:n=t.visitStruct;break;case D.Union:n=t.visitUnion;break;case D.DenseUnion:n=t.visitDenseUnion||t.visitUnion;break;case D.SparseUnion:n=t.visitSparseUnion||t.visitUnion;break;case D.Dictionary:n=t.visitDictionary;break;case D.Interval:n=t.visitInterval;break;case D.IntervalDayTime:n=t.visitIntervalDayTime||t.visitInterval;break;case D.IntervalYearMonth:n=t.visitIntervalYearMonth||t.visitInterval;break;case D.Duration:n=t.visitDuration;break;case D.DurationSecond:n=t.visitDurationSecond||t.visitDuration;break;case D.DurationMillisecond:n=t.visitDurationMillisecond||t.visitDuration;break;case D.DurationMicrosecond:n=t.visitDurationMicrosecond||t.visitDuration;break;case D.DurationNanosecond:n=t.visitDurationNanosecond||t.visitDuration;break;case D.FixedSizeList:n=t.visitFixedSizeList;break;case D.Map:n=t.visitMap}if("function"===typeof n)return n;if(!i)return()=>null;throw new Error("Unrecognized type '".concat(D[e],"'"))}function Pt(t){switch(t.typeId){case D.Null:return D.Null;case D.Int:{const{bitWidth:e,isSigned:i}=t;switch(e){case 8:return i?D.Int8:D.Uint8;case 16:return i?D.Int16:D.Uint16;case 32:return i?D.Int32:D.Uint32;case 64:return i?D.Int64:D.Uint64}return D.Int}case D.Float:switch(t.precision){case x.HALF:return D.Float16;case x.SINGLE:return D.Float32;case x.DOUBLE:return D.Float64}return D.Float;case D.Binary:return D.Binary;case D.Utf8:return D.Utf8;case D.Bool:return D.Bool;case D.Decimal:return D.Decimal;case D.Time:switch(t.unit){case E.SECOND:return D.TimeSecond;case E.MILLISECOND:return D.TimeMillisecond;case E.MICROSECOND:return D.TimeMicrosecond;case E.NANOSECOND:return D.TimeNanosecond}return D.Time;case D.Timestamp:switch(t.unit){case E.SECOND:return D.TimestampSecond;case E.MILLISECOND:return D.TimestampMillisecond;case E.MICROSECOND:return D.TimestampMicrosecond;case E.NANOSECOND:return D.TimestampNanosecond}return D.Timestamp;case D.Date:switch(t.unit){case M.DAY:return D.DateDay;case M.MILLISECOND:return D.DateMillisecond}return D.Date;case D.Interval:switch(t.unit){case N.DAY_TIME:return D.IntervalDayTime;case N.YEAR_MONTH:return D.IntervalYearMonth}return D.Interval;case D.Duration:switch(t.unit){case E.SECOND:return D.DurationSecond;case E.MILLISECOND:return D.DurationMillisecond;case E.MICROSECOND:return D.DurationMicrosecond;case E.NANOSECOND:return D.DurationNanosecond}return D.Duration;case D.Map:return D.Map;case D.List:return D.List;case D.Struct:return D.Struct;case D.Union:switch(t.mode){case I.Dense:return D.DenseUnion;case I.Sparse:return D.SparseUnion}return D.Union;case D.FixedSizeBinary:return D.FixedSizeBinary;case D.FixedSizeList:return D.FixedSizeList;case D.Dictionary:return D.Dictionary}throw new Error("Unrecognized type '".concat(D[t.typeId],"'"))}Ft.prototype.visitInt8=null,Ft.prototype.visitInt16=null,Ft.prototype.visitInt32=null,Ft.prototype.visitInt64=null,Ft.prototype.visitUint8=null,Ft.prototype.visitUint16=null,Ft.prototype.visitUint32=null,Ft.prototype.visitUint64=null,Ft.prototype.visitFloat16=null,Ft.prototype.visitFloat32=null,Ft.prototype.visitFloat64=null,Ft.prototype.visitDateDay=null,Ft.prototype.visitDateMillisecond=null,Ft.prototype.visitTimestampSecond=null,Ft.prototype.visitTimestampMillisecond=null,Ft.prototype.visitTimestampMicrosecond=null,Ft.prototype.visitTimestampNanosecond=null,Ft.prototype.visitTimeSecond=null,Ft.prototype.visitTimeMillisecond=null,Ft.prototype.visitTimeMicrosecond=null,Ft.prototype.visitTimeNanosecond=null,Ft.prototype.visitDenseUnion=null,Ft.prototype.visitSparseUnion=null,Ft.prototype.visitIntervalDayTime=null,Ft.prototype.visitIntervalYearMonth=null,Ft.prototype.visitDuration=null,Ft.prototype.visitDurationSecond=null,Ft.prototype.visitDurationMillisecond=null,Ft.prototype.visitDurationMicrosecond=null,Ft.prototype.visitDurationNanosecond=null;const Ut=new Float64Array(1),Rt=new Uint32Array(Ut.buffer);function Vt(t){const e=(31744&t)>>10,i=(1023&t)/1024,n=Math.pow(-1,(32768&t)>>15);switch(e){case 31:return n*(i?Number.NaN:1/0);case 0:return n*(i?6103515625e-14*i:0)}return n*Math.pow(2,e-15)*(1+i)}class zt extends Ft{}function jt(t){return(e,i,n)=>{if(e.setValid(i,null!=n))return t(e,i,n)}}const $t=(t,e,i)=>{t[e]=Math.trunc(i%4294967296),t[e+1]=Math.trunc(i/4294967296)},Wt=(t,e,i,n)=>{if(i+1<e.length){const{[i]:r,[i+1]:s}=e;t.set(n.subarray(0,s-r),r)}},Yt=(t,e,i)=>{let{values:n}=t;n[e]=i},Ht=(t,e,i)=>{let{values:n}=t;n[e]=i},Zt=(t,e,i)=>{let{values:n}=t;n[e]=function(t){if(t!==t)return 32256;Ut[0]=t;const e=(2147483648&Rt[1])>>16&65535;let i=2146435072&Rt[1],n=0;return i>=1089470464?Rt[0]>0?i=31744:(i=(2080374784&i)>>16,n=(1048575&Rt[1])>>10):i<=1056964608?(n=1048576+(1048575&Rt[1]),n=1048576+(n<<(i>>20)-998)>>21,i=0):(i=i-1056964608>>10,n=512+(1048575&Rt[1])>>10),e|i|65535&n}(i)},Kt=(t,e,i)=>{let{values:n}=t;((t,e,i)=>{t[e]=Math.trunc(i/864e5)})(n,e,i.valueOf())},Jt=(t,e,i)=>{let{values:n}=t;$t(n,2*e,i.valueOf())},Gt=(t,e,i)=>{let{values:n}=t;return $t(n,2*e,i/1e3)},qt=(t,e,i)=>{let{values:n}=t;return $t(n,2*e,i)},Xt=(t,e,i)=>{let{values:n}=t;return((t,e,i)=>{t[e]=Math.trunc(1e3*i%4294967296),t[e+1]=Math.trunc(1e3*i/4294967296)})(n,2*e,i)},Qt=(t,e,i)=>{let{values:n}=t;return((t,e,i)=>{t[e]=Math.trunc(1e6*i%4294967296),t[e+1]=Math.trunc(1e6*i/4294967296)})(n,2*e,i)},te=(t,e,i)=>{let{values:n}=t;n[e]=i},ee=(t,e,i)=>{let{values:n}=t;n[e]=i},ie=(t,e,i)=>{let{values:n}=t;n[e]=i},ne=(t,e,i)=>{let{values:n}=t;n[e]=i},re=(t,e,i)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[n];de.visit(r,t.valueOffsets[e],i)},se=(t,e,i)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[n];de.visit(r,e,i)},oe=(t,e,i)=>{let{values:n}=t;n.set(i.subarray(0,2),2*e)},ae=(t,e,i)=>{let{values:n}=t;n[e]=12*i[0]+i[1]%12},le=(t,e,i)=>{let{values:n}=t;n[e]=i},ue=(t,e,i)=>{let{values:n}=t;n[e]=i},ce=(t,e,i)=>{let{values:n}=t;n[e]=i},he=(t,e,i)=>{let{values:n}=t;n[e]=i};zt.prototype.visitBool=jt(((t,e,i)=>{let{offset:n,values:r}=t;const s=n+e;i?r[s>>3]|=1<<s%8:r[s>>3]&=~(1<<s%8)})),zt.prototype.visitInt=jt(Yt),zt.prototype.visitInt8=jt(Yt),zt.prototype.visitInt16=jt(Yt),zt.prototype.visitInt32=jt(Yt),zt.prototype.visitInt64=jt(Yt),zt.prototype.visitUint8=jt(Yt),zt.prototype.visitUint16=jt(Yt),zt.prototype.visitUint32=jt(Yt),zt.prototype.visitUint64=jt(Yt),zt.prototype.visitFloat=jt(((t,e,i)=>{switch(t.type.precision){case x.HALF:return Zt(t,e,i);case x.SINGLE:case x.DOUBLE:return Ht(t,e,i)}})),zt.prototype.visitFloat16=jt(Zt),zt.prototype.visitFloat32=jt(Ht),zt.prototype.visitFloat64=jt(Ht),zt.prototype.visitUtf8=jt(((t,e,i)=>{let{values:n,valueOffsets:r}=t;Wt(n,r,e,F(i))})),zt.prototype.visitBinary=jt(((t,e,i)=>{let{values:n,valueOffsets:r}=t;return Wt(n,r,e,i)})),zt.prototype.visitFixedSizeBinary=jt(((t,e,i)=>{let{stride:n,values:r}=t;r.set(i.subarray(0,n),n*e)})),zt.prototype.visitDate=jt(((t,e,i)=>{t.type.unit===M.DAY?Kt(t,e,i):Jt(t,e,i)})),zt.prototype.visitDateDay=jt(Kt),zt.prototype.visitDateMillisecond=jt(Jt),zt.prototype.visitTimestamp=jt(((t,e,i)=>{switch(t.type.unit){case E.SECOND:return Gt(t,e,i);case E.MILLISECOND:return qt(t,e,i);case E.MICROSECOND:return Xt(t,e,i);case E.NANOSECOND:return Qt(t,e,i)}})),zt.prototype.visitTimestampSecond=jt(Gt),zt.prototype.visitTimestampMillisecond=jt(qt),zt.prototype.visitTimestampMicrosecond=jt(Xt),zt.prototype.visitTimestampNanosecond=jt(Qt),zt.prototype.visitTime=jt(((t,e,i)=>{switch(t.type.unit){case E.SECOND:return te(t,e,i);case E.MILLISECOND:return ee(t,e,i);case E.MICROSECOND:return ie(t,e,i);case E.NANOSECOND:return ne(t,e,i)}})),zt.prototype.visitTimeSecond=jt(te),zt.prototype.visitTimeMillisecond=jt(ee),zt.prototype.visitTimeMicrosecond=jt(ie),zt.prototype.visitTimeNanosecond=jt(ne),zt.prototype.visitDecimal=jt(((t,e,i)=>{let{values:n,stride:r}=t;n.set(i.subarray(0,r),r*e)})),zt.prototype.visitList=jt(((t,e,i)=>{const n=t.children[0],r=t.valueOffsets,s=de.getVisitFn(n);if(Array.isArray(i))for(let o=-1,a=r[e],l=r[e+1];a<l;)s(n,a++,i[++o]);else for(let o=-1,a=r[e],l=r[e+1];a<l;)s(n,a++,i.get(++o))})),zt.prototype.visitStruct=jt(((t,e,i)=>{const n=t.type.children.map((t=>de.getVisitFn(t.type))),r=i instanceof Map?(s=e,o=i,(t,e,i,n)=>e&&t(e,s,o.get(i.name))):i instanceof Oi?((t,e)=>(i,n,r,s)=>n&&i(n,t,e.get(s)))(e,i):Array.isArray(i)?((t,e)=>(i,n,r,s)=>n&&i(n,t,e[s]))(e,i):((t,e)=>(i,n,r,s)=>n&&i(n,t,e[r.name]))(e,i);var s,o;t.type.children.forEach(((e,i)=>r(n[i],t.children[i],e,i)))})),zt.prototype.visitUnion=jt(((t,e,i)=>{t.type.mode===I.Dense?re(t,e,i):se(t,e,i)})),zt.prototype.visitDenseUnion=jt(re),zt.prototype.visitSparseUnion=jt(se),zt.prototype.visitDictionary=jt(((t,e,i)=>{var n;null===(n=t.dictionary)||void 0===n||n.set(t.values[e],i)})),zt.prototype.visitInterval=jt(((t,e,i)=>{t.type.unit===N.DAY_TIME?oe(t,e,i):ae(t,e,i)})),zt.prototype.visitIntervalDayTime=jt(oe),zt.prototype.visitIntervalYearMonth=jt(ae),zt.prototype.visitDuration=jt(((t,e,i)=>{switch(t.type.unit){case E.SECOND:return le(t,e,i);case E.MILLISECOND:return ue(t,e,i);case E.MICROSECOND:return ce(t,e,i);case E.NANOSECOND:return he(t,e,i)}})),zt.prototype.visitDurationSecond=jt(le),zt.prototype.visitDurationMillisecond=jt(ue),zt.prototype.visitDurationMicrosecond=jt(ce),zt.prototype.visitDurationNanosecond=jt(he),zt.prototype.visitFixedSizeList=jt(((t,e,i)=>{const{stride:n}=t,r=t.children[0],s=de.getVisitFn(r);if(Array.isArray(i))for(let o=-1,a=e*n;++o<n;)s(r,a+o,i[o]);else for(let o=-1,a=e*n;++o<n;)s(r,a+o,i.get(o))})),zt.prototype.visitMap=jt(((t,e,i)=>{const n=t.children[0],{valueOffsets:r}=t,s=de.getVisitFn(n);let{[e]:o,[e+1]:a}=r;const l=i instanceof Map?i.entries():Object.entries(i);for(const u of l)if(s(n,o,u),++o>=a)break}));const de=new zt,fe=Symbol.for("parent"),pe=Symbol.for("rowIndex");class ye{constructor(t,e){return this[fe]=t,this[pe]=e,new Proxy(this,new ve)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[pe],e=this[fe],i=e.type.children,n={};for(let r=-1,s=i.length;++r<s;)n[i[r].name]=$e.visit(e.children[r],t);return n}toString(){return"{".concat([...this].map((t=>{let[e,i]=t;return"".concat(O(e),": ").concat(O(i))})).join(", "),"}")}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new me(this[fe],this[pe])}}class me{constructor(t,e){this.childIndex=0,this.children=t.children,this.rowIndex=e,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,$e.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(ye.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[fe]:{writable:!0,enumerable:!1,configurable:!1,value:null},[pe]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class ve{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[fe].type.children.map((t=>t.name))}has(t,e){return-1!==t[fe].type.children.findIndex((t=>t.name===e))}getOwnPropertyDescriptor(t,e){if(-1!==t[fe].type.children.findIndex((t=>t.name===e)))return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const i=t[fe].type.children.findIndex((t=>t.name===e));if(-1!==i){const n=$e.visit(t[fe].children[i],t[pe]);return Reflect.set(t,e,n),n}}set(t,e,i){const n=t[fe].type.children.findIndex((t=>t.name===e));return-1!==n?(de.visit(t[fe].children[n],t[pe],i),Reflect.set(t,e,i)):!(!Reflect.has(t,e)&&"symbol"!==typeof e)&&Reflect.set(t,e,i)}}class be extends Ft{}function ge(t){return(e,i)=>e.getValid(i)?t(e,i):null}const we=(t,e)=>4294967296*t[e+1]+(t[e]>>>0),_e=t=>new Date(t),Se=(t,e,i)=>{if(i+1>=e.length)return null;const n=e[i],r=e[i+1];return t.subarray(n,r)},Te=(t,e)=>{let{values:i}=t;return((t,e)=>_e(((t,e)=>864e5*t[e])(t,e)))(i,e)},Ie=(t,e)=>{let{values:i}=t;return((t,e)=>_e(we(t,e)))(i,2*e)},xe=(t,e)=>{let{stride:i,values:n}=t;return n[i*e]},Me=(t,e)=>{let{values:i}=t;return i[e]},Ee=(t,e)=>{let{values:i}=t;return 1e3*we(i,2*e)},Ne=(t,e)=>{let{values:i}=t;return we(i,2*e)},Ce=(t,e)=>{let{values:i}=t;return((t,e)=>t[e+1]/1e3*4294967296+(t[e]>>>0)/1e3)(i,2*e)},De=(t,e)=>{let{values:i}=t;return((t,e)=>t[e+1]/1e6*4294967296+(t[e]>>>0)/1e6)(i,2*e)},ke=(t,e)=>{let{values:i}=t;return i[e]},Oe=(t,e)=>{let{values:i}=t;return i[e]},Ae=(t,e)=>{let{values:i}=t;return i[e]},Be=(t,e)=>{let{values:i}=t;return i[e]},Fe=(t,e)=>{const i=t.type.typeIdToChildIndex[t.typeIds[e]],n=t.children[i];return $e.visit(n,t.valueOffsets[e])},Le=(t,e)=>{const i=t.type.typeIdToChildIndex[t.typeIds[e]],n=t.children[i];return $e.visit(n,e)},Pe=(t,e)=>{let{values:i}=t;return i.subarray(2*e,2*(e+1))},Ue=(t,e)=>{let{values:i}=t;const n=i[e],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r},Re=(t,e)=>{let{values:i}=t;return i[e]},Ve=(t,e)=>{let{values:i}=t;return i[e]},ze=(t,e)=>{let{values:i}=t;return i[e]},je=(t,e)=>{let{values:i}=t;return i[e]};be.prototype.visitNull=ge(((t,e)=>null)),be.prototype.visitBool=ge(((t,e)=>{let{offset:i,values:n}=t;const r=i+e;return 0!==(n[r>>3]&1<<r%8)})),be.prototype.visitInt=ge(((t,e)=>{let{values:i}=t;return i[e]})),be.prototype.visitInt8=ge(xe),be.prototype.visitInt16=ge(xe),be.prototype.visitInt32=ge(xe),be.prototype.visitInt64=ge(Me),be.prototype.visitUint8=ge(xe),be.prototype.visitUint16=ge(xe),be.prototype.visitUint32=ge(xe),be.prototype.visitUint64=ge(Me),be.prototype.visitFloat=ge(((t,e)=>{let{type:i,values:n}=t;return i.precision!==x.HALF?n[e]:Vt(n[e])})),be.prototype.visitFloat16=ge(((t,e)=>{let{stride:i,values:n}=t;return Vt(n[i*e])})),be.prototype.visitFloat32=ge(xe),be.prototype.visitFloat64=ge(xe),be.prototype.visitUtf8=ge(((t,e)=>{let{values:i,valueOffsets:n}=t;const r=Se(i,n,e);return null!==r?(s=r,A.decode(s)):null;var s})),be.prototype.visitBinary=ge(((t,e)=>{let{values:i,valueOffsets:n}=t;return Se(i,n,e)})),be.prototype.visitFixedSizeBinary=ge(((t,e)=>{let{stride:i,values:n}=t;return n.subarray(i*e,i*(e+1))})),be.prototype.visitDate=ge(((t,e)=>t.type.unit===M.DAY?Te(t,e):Ie(t,e))),be.prototype.visitDateDay=ge(Te),be.prototype.visitDateMillisecond=ge(Ie),be.prototype.visitTimestamp=ge(((t,e)=>{switch(t.type.unit){case E.SECOND:return Ee(t,e);case E.MILLISECOND:return Ne(t,e);case E.MICROSECOND:return Ce(t,e);case E.NANOSECOND:return De(t,e)}})),be.prototype.visitTimestampSecond=ge(Ee),be.prototype.visitTimestampMillisecond=ge(Ne),be.prototype.visitTimestampMicrosecond=ge(Ce),be.prototype.visitTimestampNanosecond=ge(De),be.prototype.visitTime=ge(((t,e)=>{switch(t.type.unit){case E.SECOND:return ke(t,e);case E.MILLISECOND:return Oe(t,e);case E.MICROSECOND:return Ae(t,e);case E.NANOSECOND:return Be(t,e)}})),be.prototype.visitTimeSecond=ge(ke),be.prototype.visitTimeMillisecond=ge(Oe),be.prototype.visitTimeMicrosecond=ge(Ae),be.prototype.visitTimeNanosecond=ge(Be),be.prototype.visitDecimal=ge(((t,e)=>{let{values:i,stride:n}=t;return Q.decimal(i.subarray(n*e,n*(e+1)))})),be.prototype.visitList=ge(((t,e)=>{const{valueOffsets:i,stride:n,children:r}=t,{[e*n]:s,[e*n+1]:o}=i,a=r[0].slice(s,o-s);return new Oi([a])})),be.prototype.visitStruct=ge(((t,e)=>new ye(t,e))),be.prototype.visitUnion=ge(((t,e)=>t.type.mode===I.Dense?Fe(t,e):Le(t,e))),be.prototype.visitDenseUnion=ge(Fe),be.prototype.visitSparseUnion=ge(Le),be.prototype.visitDictionary=ge(((t,e)=>{var i;return null===(i=t.dictionary)||void 0===i?void 0:i.get(t.values[e])})),be.prototype.visitInterval=ge(((t,e)=>t.type.unit===N.DAY_TIME?Pe(t,e):Ue(t,e))),be.prototype.visitIntervalDayTime=ge(Pe),be.prototype.visitIntervalYearMonth=ge(Ue),be.prototype.visitDuration=ge(((t,e)=>{switch(t.type.unit){case E.SECOND:return Re(t,e);case E.MILLISECOND:return Ve(t,e);case E.MICROSECOND:return ze(t,e);case E.NANOSECOND:return je(t,e)}})),be.prototype.visitDurationSecond=ge(Re),be.prototype.visitDurationMillisecond=ge(Ve),be.prototype.visitDurationMicrosecond=ge(ze),be.prototype.visitDurationNanosecond=ge(je),be.prototype.visitFixedSizeList=ge(((t,e)=>{const{stride:i,children:n}=t,r=n[0].slice(e*i,i);return new Oi([r])})),be.prototype.visitMap=ge(((t,e)=>{const{valueOffsets:i,children:n}=t,{[e]:r,[e+1]:s}=i,o=n[0];return new He(o.slice(r,s-r))}));const $e=new be,We=Symbol.for("keys"),Ye=Symbol.for("vals");class He{constructor(t){return this[We]=new Oi([t.children[0]]).memoize(),this[Ye]=t.children[1],new Proxy(this,new Ke)}[Symbol.iterator](){return new Ze(this[We],this[Ye])}get size(){return this[We].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[We],e=this[Ye],i={};for(let n=-1,r=t.length;++n<r;)i[t.get(n)]=$e.visit(e,n);return i}toString(){return"{".concat([...this].map((t=>{let[e,i]=t;return"".concat(O(e),": ").concat(O(i))})).join(", "),"}")}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class Ze{constructor(t,e){this.keys=t,this.vals=e,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),$e.visit(this.vals,t)]})}}class Ke{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[We].toArray().map(String)}has(t,e){return t[We].includes(e)}getOwnPropertyDescriptor(t,e){if(-1!==t[We].indexOf(e))return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const i=t[We].indexOf(e);if(-1!==i){const n=$e.visit(Reflect.get(t,Ye),i);return Reflect.set(t,e,n),n}}set(t,e,i){const n=t[We].indexOf(e);return-1!==n?(de.visit(Reflect.get(t,Ye),n,i),Reflect.set(t,e,i)):!!Reflect.has(t,e)&&Reflect.set(t,e,i)}}let Je;function Ge(t,e,i,n){const{length:r=0}=t;let s="number"!==typeof e?0:e,o="number"!==typeof i?r:i;return s<0&&(s=(s%r+r)%r),o<0&&(o=(o%r+r)%r),o<s&&(Je=s,s=o,o=Je),o>r&&(o=r),n?n(t,s,o):[s,o]}Object.defineProperties(He.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[We]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Ye]:{writable:!0,enumerable:!1,configurable:!1,value:null}});const qe=t=>t!==t;function Xe(t){if("object"!==typeof t||null===t)return qe(t)?qe:e=>e===t;if(t instanceof Date){const e=t.valueOf();return t=>t instanceof Date&&t.valueOf()===e}return ArrayBuffer.isView(t)?e=>!!e&&function(t,e){let i=0;const n=t.length;if(n!==e.length)return!1;if(n>0)do{if(t[i]!==e[i])return!1}while(++i<n);return!0}(t,e):t instanceof Map?function(t){let e=-1;const i=[];for(const n of t.values())i[++e]=Xe(n);return Qe(i)}(t):Array.isArray(t)?function(t){const e=[];for(let i=-1,n=t.length;++i<n;)e[i]=Xe(t[i]);return Qe(e)}(t):t instanceof Oi?function(t){const e=[];for(let i=-1,n=t.length;++i<n;)e[i]=Xe(t.get(i));return Qe(e)}(t):function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=Object.keys(t);if(!e&&0===i.length)return()=>!1;const n=[];for(let r=-1,s=i.length;++r<s;)n[r]=Xe(t[i[r]]);return Qe(n,i)}(t,!0)}function Qe(t,e){return i=>{if(!i||"object"!==typeof i)return!1;switch(i.constructor){case Array:return function(t,e){const i=t.length;if(e.length!==i)return!1;for(let n=-1;++n<i;)if(!t[n](e[n]))return!1;return!0}(t,i);case Map:return ti(t,i,i.keys());case He:case ye:case Object:case void 0:return ti(t,i,e||Object.keys(i))}return i instanceof Oi&&function(t,e){const i=t.length;if(e.length!==i)return!1;for(let n=-1;++n<i;)if(!t[n](e.get(n)))return!1;return!0}(t,i)}}function ti(t,e,i){const n=i[Symbol.iterator](),r=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),s=e instanceof Map?e.values():Object.values(e)[Symbol.iterator]();let o=0;const a=t.length;let l=s.next(),u=n.next(),c=r.next();for(;o<a&&!u.done&&!c.done&&!l.done&&(u.value===c.value&&t[o](l.value));++o,u=n.next(),c=r.next(),l=s.next());return!!(o===a&&u.done&&c.done&&l.done)||(n.return&&n.return(),r.return&&r.return(),s.return&&s.return(),!1)}class ei{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;this.numChunks=t,this.getChunkIterator=e,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function ii(t){return t.reduce(((t,e)=>t+e.nullCount),0)}function ni(t){return t.reduce(((t,e,i)=>(t[i+1]=t[i]+e.length,t)),new Uint32Array(t.length+1))}function ri(t,e,i,n){const r=[];for(let s=-1,o=t.length;++s<o;){const o=t[s],a=e[s],{length:l}=o;if(a>=n)break;if(i>=a+l)continue;if(a>=i&&a+l<=n){r.push(o);continue}const u=Math.max(0,i-a),c=Math.min(n-a,l);r.push(o.slice(u,c-u))}return 0===r.length&&r.push(t[0].slice(0,0)),r}function si(t,e,i,n){let r=0,s=0,o=e.length-1;do{if(r>=o-1)return i<e[o]?n(t,r,i-e[r]):null;s=r+Math.trunc(.5*(o-r)),i<e[s]?o=s:r=s}while(r<o)}function oi(t,e){return t.getValid(e)}function ai(t){function e(e,i,n){return t(e[i],n)}return function(t){return si(this.data,this._offsets,t,e)}}function li(t){let e;function i(i,n,r){return t(i[n],r,e)}return function(t,n){const r=this.data;e=n;const s=si(r,this._offsets,t,i);return e=void 0,s}}function ui(t){let e;function i(i,n,r){let s=r,o=0,a=0;for(let l=n-1,u=i.length;++l<u;){const n=i[l];if(~(o=t(n,e,s)))return a+o;s=0,a+=n.length}return-1}return function(t,n){e=t;const r=this.data,s="number"!==typeof n?i(r,0,0):si(r,this._offsets,n,i);return e=void 0,s}}function ci(t,e,i,n){return 0!==(i&1<<n)}function hi(t,e,i,n){return(i&1<<n)>>n}function di(t,e,i){const n=i.byteLength+7&-8;if(t>0||i.byteLength<n){const r=new Uint8Array(n);return r.set(t%8===0?i.subarray(t>>3):function(t){const e=[];let i=0,n=0,r=0;for(const o of t)o&&(r|=1<<n),8===++n&&(e[i++]=r,r=n=0);(0===i||n>0)&&(e[i++]=r);const s=new Uint8Array(e.length+7&-8);return s.set(e),s}(new fi(i,t,e,null,ci)).subarray(0,n)),r}return i}class fi{constructor(t,e,i,n,r){this.bytes=t,this.length=i,this.context=n,this.get=r,this.bit=e%8,this.byteIndex=e>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(8===this.bit&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function pi(t,e,i){if(i-e<=0)return 0;if(i-e<8){let n=0;for(const r of new fi(t,e,i-e,t,hi))n+=r;return n}const n=i>>3<<3,r=e+(e%8===0?0:8-e%8);return pi(t,e,r)+pi(t,n,i)+function(t,e,i){let n=0,r=Math.trunc(e);const s=new DataView(t.buffer,t.byteOffset,t.byteLength),o=void 0===i?t.byteLength:r+i;for(;o-r>=4;)n+=yi(s.getUint32(r)),r+=4;for(;o-r>=2;)n+=yi(s.getUint16(r)),r+=2;for(;o-r>=1;)n+=yi(s.getUint8(r)),r+=1;return n}(t,r>>3,n-r>>3)}function yi(t){let e=Math.trunc(t);return e-=e>>>1&1431655765,e=(858993459&e)+(e>>>2&858993459),16843009*(e+(e>>>4)&252645135)>>>24}class mi extends Ft{}function vi(t,e,i){if(void 0===e)return-1;if(null===e)switch(t.typeId){case D.Union:case D.Dictionary:break;default:return function(t,e){const{nullBitmap:i}=t;if(!i||t.nullCount<=0)return-1;let n=0;for(const r of new fi(i,t.offset+(e||0),t.length,i,ci)){if(!r)return n;++n}return-1}(t,i)}const n=$e.getVisitFn(t),r=Xe(e);for(let s=(i||0)-1,o=t.length;++s<o;)if(r(n(t,s)))return s;return-1}function bi(t,e,i){const n=$e.getVisitFn(t),r=Xe(e);for(let s=(i||0)-1,o=t.length;++s<o;)if(r(n(t,s)))return s;return-1}mi.prototype.visitNull=function(t,e){return null===e&&t.length>0?0:-1},mi.prototype.visitBool=vi,mi.prototype.visitInt=vi,mi.prototype.visitInt8=vi,mi.prototype.visitInt16=vi,mi.prototype.visitInt32=vi,mi.prototype.visitInt64=vi,mi.prototype.visitUint8=vi,mi.prototype.visitUint16=vi,mi.prototype.visitUint32=vi,mi.prototype.visitUint64=vi,mi.prototype.visitFloat=vi,mi.prototype.visitFloat16=vi,mi.prototype.visitFloat32=vi,mi.prototype.visitFloat64=vi,mi.prototype.visitUtf8=vi,mi.prototype.visitBinary=vi,mi.prototype.visitFixedSizeBinary=vi,mi.prototype.visitDate=vi,mi.prototype.visitDateDay=vi,mi.prototype.visitDateMillisecond=vi,mi.prototype.visitTimestamp=vi,mi.prototype.visitTimestampSecond=vi,mi.prototype.visitTimestampMillisecond=vi,mi.prototype.visitTimestampMicrosecond=vi,mi.prototype.visitTimestampNanosecond=vi,mi.prototype.visitTime=vi,mi.prototype.visitTimeSecond=vi,mi.prototype.visitTimeMillisecond=vi,mi.prototype.visitTimeMicrosecond=vi,mi.prototype.visitTimeNanosecond=vi,mi.prototype.visitDecimal=vi,mi.prototype.visitList=vi,mi.prototype.visitStruct=vi,mi.prototype.visitUnion=vi,mi.prototype.visitDenseUnion=bi,mi.prototype.visitSparseUnion=bi,mi.prototype.visitDictionary=vi,mi.prototype.visitInterval=vi,mi.prototype.visitIntervalDayTime=vi,mi.prototype.visitIntervalYearMonth=vi,mi.prototype.visitDuration=vi,mi.prototype.visitDurationSecond=vi,mi.prototype.visitDurationMillisecond=vi,mi.prototype.visitDurationMicrosecond=vi,mi.prototype.visitDurationNanosecond=vi,mi.prototype.visitFixedSizeList=vi,mi.prototype.visitMap=vi;const gi=new mi;class wi extends Ft{}function _i(t){const{type:e}=t;if(0===t.nullCount&&1===t.stride&&(e.typeId===D.Timestamp||e instanceof pt&&64!==e.bitWidth||e instanceof _t&&64!==e.bitWidth||e instanceof yt&&e.precision!==x.HALF))return new ei(t.data.length,(e=>{const i=t.data[e];return i.values.subarray(0,i.length)[Symbol.iterator]()}));let i=0;return new ei(t.data.length,(e=>{const n=t.data[e].length,r=t.slice(i,i+n);return i+=n,new Si(r)}))}class Si{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}wi.prototype.visitNull=_i,wi.prototype.visitBool=_i,wi.prototype.visitInt=_i,wi.prototype.visitInt8=_i,wi.prototype.visitInt16=_i,wi.prototype.visitInt32=_i,wi.prototype.visitInt64=_i,wi.prototype.visitUint8=_i,wi.prototype.visitUint16=_i,wi.prototype.visitUint32=_i,wi.prototype.visitUint64=_i,wi.prototype.visitFloat=_i,wi.prototype.visitFloat16=_i,wi.prototype.visitFloat32=_i,wi.prototype.visitFloat64=_i,wi.prototype.visitUtf8=_i,wi.prototype.visitBinary=_i,wi.prototype.visitFixedSizeBinary=_i,wi.prototype.visitDate=_i,wi.prototype.visitDateDay=_i,wi.prototype.visitDateMillisecond=_i,wi.prototype.visitTimestamp=_i,wi.prototype.visitTimestampSecond=_i,wi.prototype.visitTimestampMillisecond=_i,wi.prototype.visitTimestampMicrosecond=_i,wi.prototype.visitTimestampNanosecond=_i,wi.prototype.visitTime=_i,wi.prototype.visitTimeSecond=_i,wi.prototype.visitTimeMillisecond=_i,wi.prototype.visitTimeMicrosecond=_i,wi.prototype.visitTimeNanosecond=_i,wi.prototype.visitDecimal=_i,wi.prototype.visitList=_i,wi.prototype.visitStruct=_i,wi.prototype.visitUnion=_i,wi.prototype.visitDenseUnion=_i,wi.prototype.visitSparseUnion=_i,wi.prototype.visitDictionary=_i,wi.prototype.visitInterval=_i,wi.prototype.visitIntervalDayTime=_i,wi.prototype.visitIntervalYearMonth=_i,wi.prototype.visitDuration=_i,wi.prototype.visitDurationSecond=_i,wi.prototype.visitDurationMillisecond=_i,wi.prototype.visitDurationMicrosecond=_i,wi.prototype.visitDurationNanosecond=_i,wi.prototype.visitFixedSizeList=_i,wi.prototype.visitMap=_i;const Ti=new wi,Ii=(t,e)=>t+e;class xi extends Ft{visitNull(t,e){return 0}visitInt(t,e){return t.type.bitWidth/8}visitFloat(t,e){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,e){return 1/8}visitDecimal(t,e){return t.type.bitWidth/8}visitDate(t,e){return 4*(t.type.unit+1)}visitTime(t,e){return t.type.bitWidth/8}visitTimestamp(t,e){return t.type.unit===E.SECOND?4:8}visitInterval(t,e){return 4*(t.type.unit+1)}visitDuration(t,e){return 8}visitStruct(t,e){return t.children.reduce(((t,i)=>t+Ni.visit(i,e)),0)}visitFixedSizeBinary(t,e){return t.type.byteWidth}visitMap(t,e){return 8+t.children.reduce(((t,i)=>t+Ni.visit(i,e)),0)}visitDictionary(t,e){var i;return t.type.indices.bitWidth/8+((null===(i=t.dictionary)||void 0===i?void 0:i.getByteLength(t.values[e]))||0)}}const Mi=(t,e)=>{let{type:i,children:n,typeIds:r,valueOffsets:s}=t;const o=i.typeIdToChildIndex[r[e]];return 8+Ni.visit(n[o],s[e])},Ei=(t,e)=>{let{children:i}=t;return 4+Ni.visitMany(i,i.map((()=>e))).reduce(Ii,0)};xi.prototype.visitUtf8=(t,e)=>{let{valueOffsets:i}=t;return i[e+1]-i[e]+8},xi.prototype.visitBinary=(t,e)=>{let{valueOffsets:i}=t;return i[e+1]-i[e]+8},xi.prototype.visitList=(t,e)=>{let{valueOffsets:i,stride:n,children:r}=t;const s=r[0],{[e*n]:o}=i,{[e*n+1]:a}=i,l=Ni.getVisitFn(s.type),u=s.slice(o,a-o);let c=8;for(let h=-1,d=a-o;++h<d;)c+=l(u,h);return c},xi.prototype.visitFixedSizeList=(t,e)=>{let{stride:i,children:n}=t;const r=n[0],s=r.slice(e*i,i),o=Ni.getVisitFn(r.type);let a=0;for(let l=-1,u=s.length;++l<u;)a+=o(s,l);return a},xi.prototype.visitUnion=(t,e)=>t.type.mode===I.Dense?Mi(t,e):Ei(t,e),xi.prototype.visitDenseUnion=Mi,xi.prototype.visitSparseUnion=Ei;const Ni=new xi;var Ci;const Di={},ki={};class Oi{constructor(t){var e,i,n;const r=t[0]instanceof Oi?t.flatMap((t=>t.data)):t;if(0===r.length||r.some((t=>!(t instanceof Bi))))throw new TypeError("Vector constructor expects an Array of Data instances.");const s=null===(e=r[0])||void 0===e?void 0:e.type;switch(r.length){case 0:this._offsets=[0];break;case 1:{const{get:t,set:e,indexOf:i,byteLength:n}=Di[s.typeId],o=r[0];this.isValid=t=>oi(o,t),this.get=e=>t(o,e),this.set=(t,i)=>e(o,t,i),this.indexOf=t=>i(o,t),this.getByteLength=t=>n(o,t),this._offsets=[0,o.length];break}default:Object.setPrototypeOf(this,ki[s.typeId]),this._offsets=ni(r)}this.data=r,this.type=s,this.stride=Bt(s),this.numChildren=null!==(n=null===(i=s.children)||void 0===i?void 0:i.length)&&void 0!==n?n:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce(((t,e)=>t+e.byteLength),0)}get nullCount(){return ii(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return"".concat(this.VectorName,"<").concat(this.type[Symbol.toStringTag],">")}get VectorName(){return"".concat(D[this.type.typeId],"Vector")}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}includes(t,e){return this.indexOf(t,e)>-1}getByteLength(t){return 0}[Symbol.iterator](){return Ti.visit(this)}concat(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new Oi(this.data.concat(e.flatMap((t=>t.data)).flat(Number.POSITIVE_INFINITY)))}slice(t,e){return new Oi(Ge(this,t,e,((t,e,i)=>{let{data:n,_offsets:r}=t;return ri(n,r,e,i)})))}toJSON(){return[...this]}toArray(){const{type:t,data:e,length:i,stride:n,ArrayType:r}=this;switch(t.typeId){case D.Int:case D.Float:case D.Decimal:case D.Time:case D.Timestamp:switch(e.length){case 0:return new r;case 1:return e[0].values.subarray(0,i*n);default:return e.reduce(((t,e)=>{let{values:i,length:r}=e;return t.array.set(i.subarray(0,r*n),t.offset),t.offset+=r*n,t}),{array:new r(i*n),offset:0}).array}}return[...this]}toString(){return"[".concat([...this].join(","),"]")}getChild(t){var e;return this.getChildAt(null===(e=this.type.children)||void 0===e?void 0:e.findIndex((e=>e.name===t)))}getChildAt(t){return t>-1&&t<this.numChildren?new Oi(this.data.map((e=>{let{children:i}=e;return i[t]}))):null}get isMemoized(){return!!dt.isDictionary(this.type)&&this.data[0].dictionary.isMemoized}memoize(){if(dt.isDictionary(this.type)){const t=new Ai(this.data[0].dictionary),e=this.data.map((e=>{const i=e.clone();return i.dictionary=t,i}));return new Oi(e)}return new Ai(this)}unmemoize(){if(dt.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),e=this.data.map((e=>{const i=e.clone();return i.dictionary=t,i}));return new Oi(e)}return this}}Ci=Symbol.toStringTag,Oi[Ci]=(t=>{t.type=dt.prototype,t.data=[],t.length=0,t.stride=1,t.numChildren=0,t._offsets=new Uint32Array([0]),t[Symbol.isConcatSpreadable]=!0;const e=Object.keys(D).map((t=>D[t])).filter((t=>"number"===typeof t&&t!==D.NONE));for(const i of e){const e=$e.getVisitFnByTypeId(i),n=de.getVisitFnByTypeId(i),r=gi.getVisitFnByTypeId(i),s=Ni.getVisitFnByTypeId(i);Di[i]={get:e,set:n,indexOf:r,byteLength:s},ki[i]=Object.create(t,{isValid:{value:ai(oi)},get:{value:ai($e.getVisitFnByTypeId(i))},set:{value:li(de.getVisitFnByTypeId(i))},indexOf:{value:ui(gi.getVisitFnByTypeId(i))},getByteLength:{value:ai(Ni.getVisitFnByTypeId(i))}})}return"Vector"})(Oi.prototype);class Ai extends Oi{constructor(t){super(t.data);const e=this.get,i=this.set,n=this.slice,r=new Array(this.length);Object.defineProperty(this,"get",{value(t){const i=r[t];if(void 0!==i)return i;const n=e.call(this,t);return r[t]=n,n}}),Object.defineProperty(this,"set",{value(t,e){i.call(this,t,e),r[t]=e}}),Object.defineProperty(this,"slice",{value:(t,e)=>new Ai(n.call(this,t,e))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Oi(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class Bi{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(0!==this._nullCount){const{type:t}=this;return dt.isSparseUnion(t)||dt.isDenseUnion(t)?this.children.some((t=>t.nullable)):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let t=0;const{valueOffsets:e,values:i,nullBitmap:n,typeIds:r}=this;return e&&(t+=e.byteLength),i&&(t+=i.byteLength),n&&(t+=n.byteLength),r&&(t+=r.byteLength),this.children.reduce(((t,e)=>t+e.byteLength),t)}get nullCount(){if(dt.isUnion(this.type))return this.children.reduce(((t,e)=>t+e.nullCount),0);let t,e=this._nullCount;return e<=-1&&(t=this.nullBitmap)&&(this._nullCount=e=this.length-pi(t,this.offset,this.offset+this.length)),e}constructor(t,e,i,n,r){let s,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;this.type=t,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(e||0,0)),this.length=Math.floor(Math.max(i||0,0)),this._nullCount=Math.floor(Math.max(n||0,-1)),r instanceof Bi?(this.stride=r.stride,this.values=r.values,this.typeIds=r.typeIds,this.nullBitmap=r.nullBitmap,this.valueOffsets=r.valueOffsets):(this.stride=Bt(t),r&&((s=r[0])&&(this.valueOffsets=s),(s=r[1])&&(this.values=s),(s=r[2])&&(this.nullBitmap=s),(s=r[3])&&(this.typeIds=s)))}getValid(t){const{type:e}=this;if(dt.isUnion(e)){const i=e,n=this.children[i.typeIdToChildIndex[this.typeIds[t]]],r=i.mode===I.Dense?this.valueOffsets[t]:t;return n.getValid(r)}if(this.nullable&&this.nullCount>0){const e=this.offset+t;return 0!==(this.nullBitmap[e>>3]&1<<e%8)}return!0}setValid(t,e){let i;const{type:n}=this;if(dt.isUnion(n)){const r=n,s=this.children[r.typeIdToChildIndex[this.typeIds[t]]],o=r.mode===I.Dense?this.valueOffsets[t]:t;i=s.getValid(o),s.setValid(o,e)}else{let{nullBitmap:n}=this;const{offset:r,length:s}=this,o=r+t,a=1<<o%8,l=o>>3;(!n||n.byteLength<=l)&&(n=new Uint8Array((r+s+63&-64)>>3).fill(255),this.nullCount>0&&n.set(di(r,s,this.nullBitmap),0),Object.assign(this,{nullBitmap:n,_nullCount:-1}));const u=n[l];i=0!==(u&a),n[l]=e?u|a:u&~a}return i!==!!e&&(this._nullCount=this.nullCount+(e?-1:1)),e}clone(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.type,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.offset,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.length,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._nullCount,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.children;return new Bi(t,e,i,n,r,s,this.dictionary)}slice(t,e){const{stride:i,typeId:n,children:r}=this,s=+(0===this._nullCount)-1,o=16===n?i:1,a=this._sliceBuffers(t,e,i,n);return this.clone(this.type,this.offset+t,e,s,a,0===r.length||this.valueOffsets?r:this._sliceChildren(r,o*t,o*e))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===D.Null)return this.clone(this.type,0,t,0);const{length:e,nullCount:i}=this,n=new Uint8Array((t+63&-64)>>3).fill(255,0,e>>3);n[e>>3]=(1<<e-(-8&e))-1,i>0&&n.set(di(this.offset,e,this.nullBitmap),0);const r=this.buffers;return r[k.VALIDITY]=n,this.clone(this.type,0,t,i+(t-e),r)}_sliceBuffers(t,e,i,n){let r;const{buffers:s}=this;return(r=s[k.TYPE])&&(s[k.TYPE]=r.subarray(t,t+e)),(r=s[k.OFFSET])&&(s[k.OFFSET]=r.subarray(t,t+e+1))||(r=s[k.DATA])&&(s[k.DATA]=6===n?r:r.subarray(i*t,i*(t+e))),s}_sliceChildren(t,e,i){return t.map((t=>t.slice(e,i)))}}Bi.prototype.children=Object.freeze([]);class Fi extends Ft{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{type:e,offset:i=0,length:n=0}=t;return new Bi(e,i,n,n)}visitBool(t){const{type:e,offset:i=0}=t,n=$(t.nullBitmap),r=z(e.ArrayType,t.data),{length:s=r.length>>3,nullCount:o=(t.nullBitmap?-1:0)}=t;return new Bi(e,i,s,o,[void 0,r,n])}visitInt(t){const{type:e,offset:i=0}=t,n=$(t.nullBitmap),r=z(e.ArrayType,t.data),{length:s=r.length,nullCount:o=(t.nullBitmap?-1:0)}=t;return new Bi(e,i,s,o,[void 0,r,n])}visitFloat(t){const{type:e,offset:i=0}=t,n=$(t.nullBitmap),r=z(e.ArrayType,t.data),{length:s=r.length,nullCount:o=(t.nullBitmap?-1:0)}=t;return new Bi(e,i,s,o,[void 0,r,n])}visitUtf8(t){const{type:e,offset:i=0}=t,n=$(t.data),r=$(t.nullBitmap),s=j(t.valueOffsets),{length:o=s.length-1,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Bi(e,i,o,a,[s,n,r])}visitBinary(t){const{type:e,offset:i=0}=t,n=$(t.data),r=$(t.nullBitmap),s=j(t.valueOffsets),{length:o=s.length-1,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Bi(e,i,o,a,[s,n,r])}visitFixedSizeBinary(t){const{type:e,offset:i=0}=t,n=$(t.nullBitmap),r=z(e.ArrayType,t.data),{length:s=r.length/Bt(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Bi(e,i,s,o,[void 0,r,n])}visitDate(t){const{type:e,offset:i=0}=t,n=$(t.nullBitmap),r=z(e.ArrayType,t.data),{length:s=r.length/Bt(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Bi(e,i,s,o,[void 0,r,n])}visitTimestamp(t){const{type:e,offset:i=0}=t,n=$(t.nullBitmap),r=z(e.ArrayType,t.data),{length:s=r.length/Bt(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Bi(e,i,s,o,[void 0,r,n])}visitTime(t){const{type:e,offset:i=0}=t,n=$(t.nullBitmap),r=z(e.ArrayType,t.data),{length:s=r.length/Bt(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Bi(e,i,s,o,[void 0,r,n])}visitDecimal(t){const{type:e,offset:i=0}=t,n=$(t.nullBitmap),r=z(e.ArrayType,t.data),{length:s=r.length/Bt(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Bi(e,i,s,o,[void 0,r,n])}visitList(t){const{type:e,offset:i=0,child:n}=t,r=$(t.nullBitmap),s=j(t.valueOffsets),{length:o=s.length-1,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Bi(e,i,o,a,[s,void 0,r],[n])}visitStruct(t){const{type:e,offset:i=0,children:n=[]}=t,r=$(t.nullBitmap),{length:s=n.reduce(((t,e)=>{let{length:i}=e;return Math.max(t,i)}),0),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Bi(e,i,s,o,[void 0,void 0,r],n)}visitUnion(t){const{type:e,offset:i=0,children:n=[]}=t,r=z(e.ArrayType,t.typeIds),{length:s=r.length,nullCount:o=-1}=t;if(dt.isSparseUnion(e))return new Bi(e,i,s,o,[void 0,void 0,void 0,r],n);const a=j(t.valueOffsets);return new Bi(e,i,s,o,[a,void 0,void 0,r],n)}visitDictionary(t){const{type:e,offset:i=0}=t,n=$(t.nullBitmap),r=z(e.indices.ArrayType,t.data),{dictionary:s=new Oi([(new Fi).visit({type:e.dictionary})])}=t,{length:o=r.length,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Bi(e,i,o,a,[void 0,r,n],[],s)}visitInterval(t){const{type:e,offset:i=0}=t,n=$(t.nullBitmap),r=z(e.ArrayType,t.data),{length:s=r.length/Bt(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Bi(e,i,s,o,[void 0,r,n])}visitDuration(t){const{type:e,offset:i=0}=t,n=$(t.nullBitmap),r=z(e.ArrayType,t.data),{length:s=r.length,nullCount:o=(t.nullBitmap?-1:0)}=t;return new Bi(e,i,s,o,[void 0,r,n])}visitFixedSizeList(t){const{type:e,offset:i=0,child:n=(new Fi).visit({type:e.valueType})}=t,r=$(t.nullBitmap),{length:s=n.length/Bt(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Bi(e,i,s,o,[void 0,void 0,r],[n])}visitMap(t){const{type:e,offset:i=0,child:n=(new Fi).visit({type:e.childType})}=t,r=$(t.nullBitmap),s=j(t.valueOffsets),{length:o=s.length-1,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Bi(e,i,o,a,[s,void 0,r],[n])}}const Li=new Fi;function Pi(t){return Li.visit(t)}class Ui{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:T.V5;this.fields=t||[],this.metadata=e||new Map,i||(i=zi(t)),this.dictionaries=i,this.metadataVersion=n}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map((t=>t.name))}toString(){return"Schema<{ ".concat(this.fields.map(((t,e)=>"".concat(e,": ").concat(t))).join(", ")," }>")}select(t){const e=new Set(t),i=this.fields.filter((t=>e.has(t.name)));return new Ui(i,this.metadata)}selectAt(t){const e=t.map((t=>this.fields[t])).filter(Boolean);return new Ui(e,this.metadata)}assign(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const n=e[0]instanceof Ui?e[0]:Array.isArray(e[0])?new Ui(e[0]):new Ui(e),r=[...this.fields],s=Vi(Vi(new Map,this.metadata),n.metadata),o=n.fields.filter((t=>{const e=r.findIndex((e=>e.name===t.name));return!~e||(r[e]=t.clone({metadata:Vi(Vi(new Map,r[e].metadata),t.metadata)}))&&!1})),a=zi(o,new Map);return new Ui([...r,...o],s,new Map([...this.dictionaries,...a]))}}Ui.prototype.fields=null,Ui.prototype.metadata=null,Ui.prototype.dictionaries=null;class Ri{static new(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let[n,r,s,o]=e;return e[0]&&"object"===typeof e[0]&&(({name:n}=e[0]),void 0===r&&(r=e[0].type),void 0===s&&(s=e[0].nullable),void 0===o&&(o=e[0].metadata)),new Ri("".concat(n),r,s,o)}constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;this.name=t,this.type=e,this.nullable=i,this.metadata=n||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return"".concat(this.name,": ").concat(this.type)}clone(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let[n,r,s,o]=e;return e[0]&&"object"===typeof e[0]?({name:n=this.name,type:r=this.type,nullable:s=this.nullable,metadata:o=this.metadata}=e[0]):[n=this.name,r=this.type,s=this.nullable,o=this.metadata]=e,Ri.new(n,r,s,o)}}function Vi(t,e){return new Map([...t||new Map,...e||new Map])}function zi(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;for(let i=-1,n=t.length;++i<n;){const n=t[i].type;if(dt.isDictionary(n))if(e.has(n.id)){if(e.get(n.id)!==n.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else e.set(n.id,n.dictionary);n.children&&n.children.length>0&&zi(n.children,e)}return e}Ri.prototype.type=null,Ri.prototype.name=null,Ri.prototype.nullable=null,Ri.prototype.metadata=null;class ji extends Ft{compareSchemas(t,e){return t===e||e instanceof t.constructor&&this.compareManyFields(t.fields,e.fields)}compareManyFields(t,e){return t===e||Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every(((t,i)=>this.compareFields(t,e[i])))}compareFields(t,e){return t===e||e instanceof t.constructor&&t.name===e.name&&t.nullable===e.nullable&&this.visit(t.type,e.type)}}function $i(t,e){return e instanceof t.constructor}function Wi(t,e){return t===e||$i(t,e)}function Yi(t,e){return t===e||$i(t,e)&&t.bitWidth===e.bitWidth&&t.isSigned===e.isSigned}function Hi(t,e){return t===e||$i(t,e)&&t.precision===e.precision}function Zi(t,e){return t===e||$i(t,e)&&t.unit===e.unit}function Ki(t,e){return t===e||$i(t,e)&&t.unit===e.unit&&t.timezone===e.timezone}function Ji(t,e){return t===e||$i(t,e)&&t.unit===e.unit&&t.bitWidth===e.bitWidth}function Gi(t,e){return t===e||$i(t,e)&&t.mode===e.mode&&t.typeIds.every(((t,i)=>t===e.typeIds[i]))&&Qi.compareManyFields(t.children,e.children)}function qi(t,e){return t===e||$i(t,e)&&t.unit===e.unit}function Xi(t,e){return t===e||$i(t,e)&&t.unit===e.unit}ji.prototype.visitNull=Wi,ji.prototype.visitBool=Wi,ji.prototype.visitInt=Yi,ji.prototype.visitInt8=Yi,ji.prototype.visitInt16=Yi,ji.prototype.visitInt32=Yi,ji.prototype.visitInt64=Yi,ji.prototype.visitUint8=Yi,ji.prototype.visitUint16=Yi,ji.prototype.visitUint32=Yi,ji.prototype.visitUint64=Yi,ji.prototype.visitFloat=Hi,ji.prototype.visitFloat16=Hi,ji.prototype.visitFloat32=Hi,ji.prototype.visitFloat64=Hi,ji.prototype.visitUtf8=Wi,ji.prototype.visitBinary=Wi,ji.prototype.visitFixedSizeBinary=function(t,e){return t===e||$i(t,e)&&t.byteWidth===e.byteWidth},ji.prototype.visitDate=Zi,ji.prototype.visitDateDay=Zi,ji.prototype.visitDateMillisecond=Zi,ji.prototype.visitTimestamp=Ki,ji.prototype.visitTimestampSecond=Ki,ji.prototype.visitTimestampMillisecond=Ki,ji.prototype.visitTimestampMicrosecond=Ki,ji.prototype.visitTimestampNanosecond=Ki,ji.prototype.visitTime=Ji,ji.prototype.visitTimeSecond=Ji,ji.prototype.visitTimeMillisecond=Ji,ji.prototype.visitTimeMicrosecond=Ji,ji.prototype.visitTimeNanosecond=Ji,ji.prototype.visitDecimal=Wi,ji.prototype.visitList=function(t,e){return t===e||$i(t,e)&&t.children.length===e.children.length&&Qi.compareManyFields(t.children,e.children)},ji.prototype.visitStruct=function(t,e){return t===e||$i(t,e)&&t.children.length===e.children.length&&Qi.compareManyFields(t.children,e.children)},ji.prototype.visitUnion=Gi,ji.prototype.visitDenseUnion=Gi,ji.prototype.visitSparseUnion=Gi,ji.prototype.visitDictionary=function(t,e){return t===e||$i(t,e)&&t.id===e.id&&t.isOrdered===e.isOrdered&&Qi.visit(t.indices,e.indices)&&Qi.visit(t.dictionary,e.dictionary)},ji.prototype.visitInterval=qi,ji.prototype.visitIntervalDayTime=qi,ji.prototype.visitIntervalYearMonth=qi,ji.prototype.visitDuration=Xi,ji.prototype.visitDurationSecond=Xi,ji.prototype.visitDurationMillisecond=Xi,ji.prototype.visitDurationMicrosecond=Xi,ji.prototype.visitDurationNanosecond=Xi,ji.prototype.visitFixedSizeList=function(t,e){return t===e||$i(t,e)&&t.listSize===e.listSize&&t.children.length===e.children.length&&Qi.compareManyFields(t.children,e.children)},ji.prototype.visitMap=function(t,e){return t===e||$i(t,e)&&t.keysSorted===e.keysSorted&&t.children.length===e.children.length&&Qi.compareManyFields(t.children,e.children)};const Qi=new ji;function tn(t,e){return Qi.compareSchemas(t,e)}var en,nn;class rn{constructor(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];switch(e.length){case 2:if([this.schema]=e,!(this.schema instanceof Ui))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Pi({nullCount:0,type:new Mt(this.schema.fields),children:this.schema.fields.map((t=>Pi({type:t.type,nullCount:0})))})]=e,!(this.data instanceof Bi))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=sn(this.schema,this.data.children);break;case 1:{const[t]=e,{fields:i,children:n,length:r}=Object.keys(t).reduce(((e,i,n)=>(e.children[n]=t[i],e.length=Math.max(e.length,t[i].length),e.fields[n]=Ri.new({name:i,type:t[i].type,nullable:!0}),e)),{length:0,fields:new Array,children:new Array}),s=new Ui(i),o=Pi({type:new Mt(i),length:r,children:n,nullCount:0});[this.schema,this.data]=sn(s,o.children,r);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=on(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return $e.visit(this.data,t)}set(t,e){return de.visit(this.data,t,e)}indexOf(t,e){return gi.visit(this.data,t,e)}getByteLength(t){return Ni.visit(this.data,t)}[Symbol.iterator](){return Ti.visit(new Oi([this.data]))}toArray(){return[...this]}concat(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new un(this.schema,[this,...e])}slice(t,e){const[i]=new Oi([this.data]).slice(t,e).data;return new rn(this.schema,i)}getChild(t){var e;return this.getChildAt(null===(e=this.schema.fields)||void 0===e?void 0:e.findIndex((e=>e.name===t)))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new Oi([this.data.children[t]]):null}setChild(t,e){var i;return this.setChildAt(null===(i=this.schema.fields)||void 0===i?void 0:i.findIndex((e=>e.name===t)),e)}setChildAt(t,e){let i=this.schema,n=this.data;if(t>-1&&t<this.numCols){e||(e=new Oi([Pi({type:new ft,length:this.numRows})]));const r=i.fields.slice(),s=n.children.slice(),o=r[t].clone({type:e.type});[r[t],s[t]]=[o,e.data[0]],i=new Ui(r,new Map(this.schema.metadata)),n=Pi({type:new Mt(r),children:s})}return new rn(i,n)}select(t){const e=this.schema.select(t),i=new Mt(e.fields),n=[];for(const r of t){const t=this.schema.fields.findIndex((t=>t.name===r));~t&&(n[t]=this.data.children[t])}return new rn(e,Pi({type:i,length:this.numRows,children:n}))}selectAt(t){const e=this.schema.selectAt(t),i=t.map((t=>this.data.children[t])).filter(Boolean),n=Pi({type:new Mt(e.fields),length:this.numRows,children:i});return new rn(e,n)}}function sn(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.reduce(((t,e)=>Math.max(t,e.length)),0);var n;const r=[...t.fields],s=[...e],o=(i+63&-64)>>3;for(const[a,l]of t.fields.entries()){const t=e[a];t&&t.length===i||(r[a]=l.clone({nullable:!0}),s[a]=null!==(n=null===t||void 0===t?void 0:t._changeLengthAndBackfillNullBitmap(i))&&void 0!==n?n:Pi({type:l.type,length:i,nullCount:i,nullBitmap:new Uint8Array(o)}))}return[t.assign(r),Pi({type:new Mt(r),length:i,children:s})]}function on(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map;var n,r;if((null!==(n=null===t||void 0===t?void 0:t.length)&&void 0!==n?n:0)>0&&(null===t||void 0===t?void 0:t.length)===(null===e||void 0===e?void 0:e.length))for(let s=-1,o=t.length;++s<o;){const{type:n}=t[s],o=e[s];for(const t of[o,...(null===(r=null===o||void 0===o?void 0:o.dictionary)||void 0===r?void 0:r.data)||[]])on(n.children,null===t||void 0===t?void 0:t.children,i);if(dt.isDictionary(n)){const{id:t}=n;if(i.has(t)){if(i.get(t)!==o.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else(null===o||void 0===o?void 0:o.dictionary)&&i.set(t,o.dictionary)}}return i}en=Symbol.toStringTag,rn[en]=(t=>(t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(rn.prototype);function an(t,e){return function(t,e){const i=[...t.fields],n=[],r={numBatches:e.reduce(((t,e)=>Math.max(t,e.length)),0)};let s=0,o=0,a=-1;const l=e.length;let u,c=[];for(;r.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<l;)c[a]=u=e[a].shift(),o=Math.min(o,u?u.length:o);Number.isFinite(o)&&(c=ln(i,o,c,e,r),o>0&&(n[s++]=Pi({type:new Mt(i),length:o,nullCount:0,children:c.slice()})))}return[t=t.assign(i),n.map((e=>new rn(t,e)))]}(t,e.map((t=>t.data.concat())))}function ln(t,e,i,n,r){var s;const o=(e+63&-64)>>3;for(let a=-1,l=n.length;++a<l;){const l=i[a],u=null===l||void 0===l?void 0:l.length;if(u>=e)u===e?i[a]=l:(i[a]=l.slice(0,e),r.numBatches=Math.max(r.numBatches,n[a].unshift(l.slice(e,u-e))));else{const n=t[a];t[a]=n.clone({nullable:!0}),i[a]=null!==(s=null===l||void 0===l?void 0:l._changeLengthAndBackfillNullBitmap(e))&&void 0!==s?s:Pi({type:n.type,length:e,nullCount:e,nullBitmap:new Uint8Array(o)})}}return i}class un{constructor(){for(var t,e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];if(0===n.length)return this.batches=[],this.schema=new Ui([]),this._offsets=[0],this;let s,o;n[0]instanceof Ui&&(s=n.shift()),n.at(-1)instanceof Uint32Array&&(o=n.pop());const a=t=>{if(t){if(t instanceof rn)return[t];if(t instanceof un)return t.batches;if(t instanceof Bi){if(t.type instanceof Mt)return[new rn(new Ui(t.type.children),t)]}else{if(Array.isArray(t))return t.flatMap((t=>a(t)));if("function"===typeof t[Symbol.iterator])return[...t].flatMap((t=>a(t)));if("object"===typeof t){const e=Object.keys(t),i=e.map((e=>new Oi([t[e]]))),n=new Ui(e.map(((t,e)=>new Ri(String(t),i[e].type)))),[,r]=an(n,i);return 0===r.length?[new rn(t)]:r}}}return[]},l=n.flatMap((t=>a(t)));if(s=null!==(e=null!==s&&void 0!==s?s:null===(t=l[0])||void 0===t?void 0:t.schema)&&void 0!==e?e:new Ui([]),!(s instanceof Ui))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const u of l){if(!(u instanceof rn))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!tn(s,u.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=s,this.batches=l,this._offsets=null!==o&&void 0!==o?o:ni(this.data)}get data(){return this.batches.map((t=>{let{data:e}=t;return e}))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce(((t,e)=>t+e.length),0)}get nullCount(){return-1===this._nullCount&&(this._nullCount=ii(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?Ti.visit(new Oi(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return"[\n  ".concat(this.toArray().join(",\n  "),"\n]")}concat(){const t=this.schema;for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];const r=this.data.concat(i.flatMap((t=>{let{data:e}=t;return e})));return new un(t,r.map((e=>new rn(t,e))))}slice(t,e){const i=this.schema;[t,e]=Ge({length:this.numRows},t,e);const n=ri(this.data,this._offsets,t,e);return new un(i,n.map((t=>new rn(i,t))))}getChild(t){return this.getChildAt(this.schema.fields.findIndex((e=>e.name===t)))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const e=this.data.map((e=>e.children[t]));if(0===e.length){const{type:i}=this.schema.fields[t],n=Pi({type:i,length:0,nullCount:0});e.push(n._changeLengthAndBackfillNullBitmap(this.numRows))}return new Oi(e)}return null}setChild(t,e){var i;return this.setChildAt(null===(i=this.schema.fields)||void 0===i?void 0:i.findIndex((e=>e.name===t)),e)}setChildAt(t,e){let i=this.schema,n=[...this.batches];if(t>-1&&t<this.numCols){e||(e=new Oi([Pi({type:new ft,length:this.numRows})]));const r=i.fields.slice(),s=r[t].clone({type:e.type}),o=this.schema.fields.map(((t,e)=>this.getChildAt(e)));[r[t],o[t]]=[s,e],[i,n]=an(i,o)}return new un(i,n)}select(t){const e=this.schema.fields.reduce(((t,e,i)=>t.set(e.name,i)),new Map);return this.selectAt(t.map((t=>e.get(t))).filter((t=>t>-1)))}selectAt(t){const e=this.schema.selectAt(t),i=this.batches.map((e=>e.selectAt(t)));return new un(e,i)}assign(t){const e=this.schema.fields,[i,n]=t.schema.fields.reduce(((t,i,n)=>{const[r,s]=t,o=e.findIndex((t=>t.name===i.name));return~o?s[o]=n:r.push(n),t}),[[],[]]),r=this.schema.assign(t.schema),s=[...e.map(((t,e)=>[e,n[e]])).map((e=>{let[i,n]=e;return void 0===n?this.getChildAt(i):t.getChildAt(n)})),...i.map((e=>t.getChildAt(e)))].filter(Boolean);return new un(...an(r,s))}}nn=Symbol.toStringTag,un[nn]=(t=>(t.schema=null,t.batches=[],t._offsets=new Uint32Array([0]),t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,t.isValid=ai(oi),t.get=ai($e.getVisitFn(D.Struct)),t.set=li(de.getVisitFn(D.Struct)),t.indexOf=ui(gi.getVisitFn(D.Struct)),t.getByteLength=ai(Ni.getVisitFn(D.Struct)),"Table"))(un.prototype);var cn,hn=function(){function t(t,e,i,n){var r=this;this.getCell=function(t,e){var i=t<r.headerRows&&e<r.headerColumns,n=t>=r.headerRows&&e<r.headerColumns,s=t<r.headerRows&&e>=r.headerColumns;if(i){var o=["blank"];return e>0&&o.push("level"+t),{type:"blank",classNames:o.join(" "),content:""}}if(s)return{type:"columns",classNames:(o=["col_heading","level"+t,"col"+(l=e-r.headerColumns)]).join(" "),content:r.getContent(r.columnsTable,l,t)};if(n){o=["row_heading","level"+e,"row"+(a=t-r.headerRows)];return{type:"index",id:"T_"+r.uuid+"level"+e+"_row"+a,classNames:o.join(" "),content:r.getContent(r.indexTable,a,e)}}o=["data","row"+(a=t-r.headerRows),"col"+(l=e-r.headerColumns)];var a,l,u=r.styler?r.getContent(r.styler.displayValuesTable,a,l):r.getContent(r.dataTable,a,l);return{type:"data",id:"T_"+r.uuid+"row"+a+"_col"+l,classNames:o.join(" "),content:u}},this.getContent=function(t,e,i){var n=t.getColumnAt(i);return null===n?"":r.getColumnTypeId(t,i)===D.Timestamp?r.nanosToDate(n.get(e)):n.get(e)},this.dataTable=un.from(t),this.indexTable=un.from(e),this.columnsTable=un.from(i),this.styler=n?{caption:n.caption,displayValuesTable:un.from(n.displayValues),styles:n.styles,uuid:n.uuid}:void 0}return Object.defineProperty(t.prototype,"rows",{get:function(){return this.indexTable.length+this.columnsTable.numCols},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this.indexTable.numCols+this.columnsTable.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerRows",{get:function(){return this.rows-this.dataRows},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerColumns",{get:function(){return this.columns-this.dataColumns},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataRows",{get:function(){return this.dataTable.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataColumns",{get:function(){return this.dataTable.numCols},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"uuid",{get:function(){return this.styler&&this.styler.uuid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caption",{get:function(){return this.styler&&this.styler.caption},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"styles",{get:function(){return this.styler&&this.styler.styles},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"table",{get:function(){return this.dataTable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.indexTable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnTable",{get:function(){return this.columnsTable},enumerable:!0,configurable:!0}),t.prototype.serialize=function(){return{data:this.dataTable.serialize(),index:this.indexTable.serialize(),columns:this.columnsTable.serialize()}},t.prototype.getColumnTypeId=function(t,e){return t.schema.fields[e].type.typeId},t.prototype.nanosToDate=function(t){return new Date(t/1e6)},t}(),dn=function(){return dn=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},dn.apply(this,arguments)};!function(t){t.COMPONENT_READY="streamlit:componentReady",t.SET_COMPONENT_VALUE="streamlit:setComponentValue",t.SET_FRAME_HEIGHT="streamlit:setFrameHeight"}(cn||(cn={}));var fn=function(){function t(){}return t.API_VERSION=1,t.RENDER_EVENT="streamlit:render",t.events=new S,t.registeredMessageListener=!1,t.setComponentReady=function(){t.registeredMessageListener||(window.addEventListener("message",t.onMessageEvent),t.registeredMessageListener=!0),t.sendBackMsg(cn.COMPONENT_READY,{apiVersion:t.API_VERSION})},t.setFrameHeight=function(e){void 0===e&&(e=document.body.scrollHeight),e!==t.lastFrameHeight&&(t.lastFrameHeight=e,t.sendBackMsg(cn.SET_FRAME_HEIGHT,{height:e}))},t.setComponentValue=function(e){var i;e instanceof hn?(i="dataframe",e=e.serialize()):!function(t){var e=!1;try{e=t instanceof BigInt64Array||t instanceof BigUint64Array}catch(i){}return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array||e}(e)?e instanceof ArrayBuffer?(i="bytes",e=new Uint8Array(e)):i="json":(i="bytes",e=new Uint8Array(e.buffer)),t.sendBackMsg(cn.SET_COMPONENT_VALUE,{value:e,dataType:i})},t.onMessageEvent=function(e){if(e.data.type===t.RENDER_EVENT)t.onRenderMessage(e.data)},t.onRenderMessage=function(e){var i=e.args;null==i&&(console.error("Got null args in onRenderMessage. This should never happen"),i={});var n=e.dfs&&e.dfs.length>0?t.argsDataframeToObject(e.dfs):{};i=dn(dn({},i),n);var r=Boolean(e.disabled),s=e.theme;s&&pn(s);var o={disabled:r,args:i,theme:s},a=new CustomEvent(t.RENDER_EVENT,{detail:o});t.events.dispatchEvent(a)},t.argsDataframeToObject=function(e){var i=e.map((function(e){var i=e.key,n=e.value;return[i,t.toArrowTable(n)]}));return Object.fromEntries(i)},t.toArrowTable=function(t){var e=t.data,i=e.data,n=e.index,r=e.columns,s=e.styler;return new hn(i,n,r,s)},t.sendBackMsg=function(t,e){window.parent.postMessage(dn({isStreamlitMessage:!0,type:t},e),"*")},t}(),pn=function(t){var e=document.createElement("style");document.head.appendChild(e),e.innerHTML="\n    :root {\n      --primary-color: "+t.primaryColor+";\n      --background-color: "+t.backgroundColor+";\n      --secondary-background-color: "+t.secondaryBackgroundColor+";\n      --text-color: "+t.textColor+";\n      --font: "+t.font+";\n    }\n\n    body {\n      background-color: var(--background-color);\n      color: var(--text-color);\n    }\n  "};var yn=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),mn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return yn(e,t),e.prototype.componentDidMount=function(){fn.setFrameHeight()},e.prototype.componentDidUpdate=function(){fn.setFrameHeight()},e}(s.PureComponent);function vn(t){var e=function(e){function i(i){var n=e.call(this,i)||this;return n.componentDidMount=function(){fn.events.addEventListener(fn.RENDER_EVENT,n.onRenderEvent),fn.setComponentReady()},n.componentDidUpdate=function(){null!=n.state.componentError&&fn.setFrameHeight()},n.componentWillUnmount=function(){fn.events.removeEventListener(fn.RENDER_EVENT,n.onRenderEvent)},n.onRenderEvent=function(t){var e=t;n.setState({renderData:e.detail})},n.render=function(){return null!=n.state.componentError?s.createElement("div",null,s.createElement("h1",null,"Component Error"),s.createElement("span",null,n.state.componentError.message)):null==n.state.renderData?null:s.createElement(t,{width:window.innerWidth,disabled:n.state.renderData.disabled,args:n.state.renderData.args,theme:n.state.renderData.theme})},n.state={renderData:void 0,componentError:void 0},n}return yn(i,e),i.getDerivedStateFromError=function(t){return{componentError:t}},i}(s.PureComponent);return r()(e,t)}}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var s=e[n]={exports:{}};return t[n].call(s.exports,s,s.exports,i),s.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t,e,n,r,s,o,a,l,u,c=i(791),h=i(164),d=i(115);i(110);!function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"}(t||(t={})),function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"}(e||(e={})),function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"}(n||(n={})),function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"}(r||(r={})),function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"}(s||(s={})),function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"}(o||(o={})),function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"}(a||(a={})),function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.Float=3]="Float",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct=13]="Struct",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Dictionary=-1]="Dictionary",t[t.Int8=-2]="Int8",t[t.Int16=-3]="Int16",t[t.Int32=-4]="Int32",t[t.Int64=-5]="Int64",t[t.Uint8=-6]="Uint8",t[t.Uint16=-7]="Uint16",t[t.Uint32=-8]="Uint32",t[t.Uint64=-9]="Uint64",t[t.Float16=-10]="Float16",t[t.Float32=-11]="Float32",t[t.Float64=-12]="Float64",t[t.DateDay=-13]="DateDay",t[t.DateMillisecond=-14]="DateMillisecond",t[t.TimestampSecond=-15]="TimestampSecond",t[t.TimestampMillisecond=-16]="TimestampMillisecond",t[t.TimestampMicrosecond=-17]="TimestampMicrosecond",t[t.TimestampNanosecond=-18]="TimestampNanosecond",t[t.TimeSecond=-19]="TimeSecond",t[t.TimeMillisecond=-20]="TimeMillisecond",t[t.TimeMicrosecond=-21]="TimeMicrosecond",t[t.TimeNanosecond=-22]="TimeNanosecond",t[t.DenseUnion=-23]="DenseUnion",t[t.SparseUnion=-24]="SparseUnion",t[t.IntervalDayTime=-25]="IntervalDayTime",t[t.IntervalYearMonth=-26]="IntervalYearMonth"}(l||(l={})),function(t){t[t.OFFSET=0]="OFFSET",t[t.DATA=1]="DATA",t[t.VALIDITY=2]="VALIDITY",t[t.TYPE=3]="TYPE"}(u||(u={}));const[f,p]=(()=>{const t=()=>{throw new Error("BigInt is not available in this environment")};function e(){throw t()}return e.asIntN=()=>{throw t()},e.asUintN=()=>{throw t()},"undefined"!==typeof BigInt?[BigInt,!0]:[e,!1]})(),[y,m]=(()=>{const t=()=>{throw new Error("BigInt64Array is not available in this environment")};return"undefined"!==typeof BigInt64Array?[BigInt64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}},!1]})(),[v,b]=(()=>{const t=()=>{throw new Error("BigUint64Array is not available in this environment")};return"undefined"!==typeof BigUint64Array?[BigUint64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}},!1]})(),g=t=>"number"===typeof t,w=t=>"boolean"===typeof t,_=t=>"function"===typeof t,S=t=>null!=t&&Object(t)===t,T=t=>S(t)&&_(t.then),I=t=>S(t)&&_(t[Symbol.iterator]),x=t=>S(t)&&_(t[Symbol.asyncIterator]),M=t=>S(t)&&S(t.schema),E=t=>S(t)&&"done"in t&&"value"in t,N=t=>S(t)&&_(t.stat)&&g(t.fd),C=t=>S(t)&&k(t.body),D=t=>"_getDOMStream"in t&&"_getNodeStream"in t,k=t=>S(t)&&_(t.cancel)&&_(t.getReader)&&!D(t),O=t=>S(t)&&_(t.read)&&_(t.pipe)&&w(t.readable)&&!D(t),A=t=>S(t)&&_(t.clear)&&_(t.bytes)&&_(t.position)&&_(t.setPosition)&&_(t.capacity)&&_(t.getBufferIdentifier)&&_(t.createLong);function B(t){if(null===t)return"null";if(undefined===t)return"undefined";switch(typeof t){case"number":case"bigint":return"".concat(t);case"string":return'"'.concat(t,'"')}return"function"===typeof t[Symbol.toPrimitive]?t[Symbol.toPrimitive]("string"):ArrayBuffer.isView(t)?"[".concat(t instanceof y||t instanceof v?[...t].map((t=>B(t))):t,"]"):ArrayBuffer.isView(t)?"[".concat(t,"]"):JSON.stringify(t,((t,e)=>"bigint"===typeof e?"".concat(e):e))}function F(t,e,i,n){return new(i||(i=Promise))((function(r,s){function o(t){try{l(n.next(t))}catch(fo){s(fo)}}function a(t){try{l(n.throw(t))}catch(fo){s(fo)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}l((n=n.apply(t,e||[])).next())}))}Object.create;function L(t){var e="function"===typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function P(t){return this instanceof P?(this.v=t,this):new P(t)}function U(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,r=i.apply(t,e||[]),s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(t){r[t]&&(n[t]=function(e){return new Promise((function(i,n){s.push([t,e,i,n])>1||a(t,e)}))})}function a(t,e){try{!function(t){t.value instanceof P?Promise.resolve(t.value.v).then(l,u):c(s[0][2],t)}(r[t](e))}catch(fo){c(s[0][3],fo)}}function l(t){a("next",t)}function u(t){a("throw",t)}function c(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function R(t){var e,i;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,r){e[n]=t[n]?function(e){return(i=!i)?{value:P(t[n](e)),done:!1}:r?r(e):e}:r}}function V(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,i=t[Symbol.asyncIterator];return i?i.call(t):(t=L(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(i){e[i]=t[i]&&function(e){return new Promise((function(n,r){(function(t,e,i,n){Promise.resolve(n).then((function(e){t({value:e,done:i})}),e)})(n,r,(e=t[i](e)).done,e.value)}))}}}Object.create;"function"===typeof SuppressedError&&SuppressedError;const z=new TextDecoder("utf-8"),j=t=>z.decode(t),$=new TextEncoder,W=t=>$.encode(t),Y="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;function H(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.byteLength;const r=t.byteLength,s=new Uint8Array(t.buffer,t.byteOffset,r),o=new Uint8Array(e.buffer,e.byteOffset,Math.min(n,r));return s.set(o,i),t}function Z(t,e){const i=function(t){const e=t[0]?[t[0]]:[];let i,n,r,s;for(let o,a,l=0,u=0,c=t.length;++l<c;)o=e[u],a=t[l],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset?a&&(e[++u]=a):(({byteOffset:i,byteLength:r}=o),({byteOffset:n,byteLength:s}=a),i+r<n||n+s<i?a&&(e[++u]=a):e[u]=new Uint8Array(o.buffer,i,n-i+s));return e}(t),n=i.reduce(((t,e)=>t+e.byteLength),0);let r,s,o,a=0,l=-1;const u=Math.min(e||Number.POSITIVE_INFINITY,n);for(const c=i.length;++l<c;){if(r=i[l],s=r.subarray(0,Math.min(r.length,u-a)),u<=a+s.length){s.length<r.length?i[l]=r.subarray(s.length):s.length===r.length&&l++,o?H(o,s,a):o=s;break}H(o||(o=new Uint8Array(u)),s,a),a+=s.length}return[o||new Uint8Array(0),i.slice(l),n-(o?o.byteLength:0)]}function K(t,e){let i=E(e)?e.value:e;return i instanceof t?t===Uint8Array?new t(i.buffer,i.byteOffset,i.byteLength):i:i?("string"===typeof i&&(i=W(i)),i instanceof ArrayBuffer||i instanceof Y?new t(i):A(i)?K(t,i.bytes()):ArrayBuffer.isView(i)?i.byteLength<=0?new t(0):new t(i.buffer,i.byteOffset,i.byteLength/t.BYTES_PER_ELEMENT):t.from(i)):new t(0)}const J=t=>K(Int32Array,t),G=t=>K(Uint8Array,t),q=t=>(t.next(),t);function*X(t,e){const i=function*(t){yield t},n="string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof Y?i(e):I(e)?e:i(e);return yield*q(function*(e){let i=null;do{i=e.next(yield K(t,i))}while(!i.done)}(n[Symbol.iterator]())),new t}function Q(t,e){return U(this,arguments,(function*(){if(T(e))return yield P(yield P(yield*R(V(Q(t,yield P(e))))));const i=function(t){return U(this,arguments,(function*(){yield yield P(yield P(t))}))},n="string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof Y?i(e):I(e)?function(t){return U(this,arguments,(function*(){yield P(yield*R(V(q(function*(t){let e=null;do{e=t.next(yield null===e||void 0===e?void 0:e.value)}while(!e.done)}(t[Symbol.iterator]())))))}))}(e):x(e)?e:i(e);return yield P(yield*R(V(q(function(e){return U(this,arguments,(function*(){let i=null;do{i=yield P(e.next(yield yield P(K(t,i))))}while(!i.done)}))}(n[Symbol.asyncIterator]()))))),yield P(new t)}))}function tt(t,e,i){if(0!==t){i=i.slice(0,e+1);for(let n=-1;++n<=e;)i[n]+=t}return i}const et=Symbol.for("isArrowBigNum");function it(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return 0===i.length?Object.setPrototypeOf(K(this.TypedArray,t),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(t,...i),this.constructor.prototype)}function nt(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return it.apply(this,e)}function rt(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return it.apply(this,e)}function st(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return it.apply(this,e)}function ot(t){const{buffer:e,byteOffset:i,length:n,signed:r}=t,s=new v(e,i,n),o=r&&s[s.length-1]&BigInt(1)<<BigInt(63);let a=o?BigInt(1):BigInt(0),l=BigInt(0);if(o){for(const t of s)a+=~t*(BigInt(1)<<BigInt(32)*l++);a*=BigInt(-1)}else for(const u of s)a+=u*(BigInt(1)<<BigInt(32)*l++);return a}let at,lt;function ut(t){let e="";const i=new Uint32Array(2);let n=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);const r=new Uint32Array((n=new Uint16Array(n).reverse()).buffer);let s=-1;const o=n.length-1;do{for(i[0]=n[s=0];s<o;)n[s++]=i[1]=i[0]/10,i[0]=(i[0]-10*i[1]<<16)+n[s];n[s]=i[1]=i[0]/10,i[0]=i[0]-10*i[1],e="".concat(i[0]).concat(e)}while(r[0]||r[1]||r[2]||r[3]);return null!==e&&void 0!==e?e:"0"}it.prototype[et]=!0,it.prototype.toJSON=function(){return'"'.concat(at(this),'"')},it.prototype.valueOf=function(){return ot(this)},it.prototype.toString=function(){return at(this)},it.prototype[Symbol.toPrimitive]=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default"){case"number":return ot(this);case"string":return at(this);case"default":return lt(this)}return at(this)},Object.setPrototypeOf(nt.prototype,Object.create(Int32Array.prototype)),Object.setPrototypeOf(rt.prototype,Object.create(Uint32Array.prototype)),Object.setPrototypeOf(st.prototype,Object.create(Uint32Array.prototype)),Object.assign(nt.prototype,it.prototype,{constructor:nt,signed:!0,TypedArray:Int32Array,BigIntArray:y}),Object.assign(rt.prototype,it.prototype,{constructor:rt,signed:!1,TypedArray:Uint32Array,BigIntArray:v}),Object.assign(st.prototype,it.prototype,{constructor:st,signed:!0,TypedArray:Uint32Array,BigIntArray:v}),p?(lt=t=>8===t.byteLength?new t.BigIntArray(t.buffer,t.byteOffset,1)[0]:ut(t),at=t=>8===t.byteLength?"".concat(new t.BigIntArray(t.buffer,t.byteOffset,1)[0]):ut(t)):(at=ut,lt=at);class ct{static new(t,e){switch(e){case!0:return new nt(t);case!1:return new rt(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case y:return new nt(t)}return 16===t.byteLength?new st(t):new rt(t)}static signed(t){return new nt(t)}static unsigned(t){return new rt(t)}static decimal(t){return new st(t)}constructor(t,e){return ct.new(t,e)}}var ht,dt,ft,pt,yt,mt,vt,bt,gt,wt,_t,St,Tt,It,xt,Mt,Et,Nt,Ct,Dt;class kt{static isNull(t){return(null===t||void 0===t?void 0:t.typeId)===l.Null}static isInt(t){return(null===t||void 0===t?void 0:t.typeId)===l.Int}static isFloat(t){return(null===t||void 0===t?void 0:t.typeId)===l.Float}static isBinary(t){return(null===t||void 0===t?void 0:t.typeId)===l.Binary}static isUtf8(t){return(null===t||void 0===t?void 0:t.typeId)===l.Utf8}static isBool(t){return(null===t||void 0===t?void 0:t.typeId)===l.Bool}static isDecimal(t){return(null===t||void 0===t?void 0:t.typeId)===l.Decimal}static isDate(t){return(null===t||void 0===t?void 0:t.typeId)===l.Date}static isTime(t){return(null===t||void 0===t?void 0:t.typeId)===l.Time}static isTimestamp(t){return(null===t||void 0===t?void 0:t.typeId)===l.Timestamp}static isInterval(t){return(null===t||void 0===t?void 0:t.typeId)===l.Interval}static isList(t){return(null===t||void 0===t?void 0:t.typeId)===l.List}static isStruct(t){return(null===t||void 0===t?void 0:t.typeId)===l.Struct}static isUnion(t){return(null===t||void 0===t?void 0:t.typeId)===l.Union}static isFixedSizeBinary(t){return(null===t||void 0===t?void 0:t.typeId)===l.FixedSizeBinary}static isFixedSizeList(t){return(null===t||void 0===t?void 0:t.typeId)===l.FixedSizeList}static isMap(t){return(null===t||void 0===t?void 0:t.typeId)===l.Map}static isDictionary(t){return(null===t||void 0===t?void 0:t.typeId)===l.Dictionary}static isDenseUnion(t){return kt.isUnion(t)&&t.mode===e.Dense}static isSparseUnion(t){return kt.isUnion(t)&&t.mode===e.Sparse}get typeId(){return l.NONE}}ht=Symbol.toStringTag,kt[ht]=((Dt=kt.prototype).children=null,Dt.ArrayType=Array,Dt[Symbol.toStringTag]="DataType");class Ot extends kt{toString(){return"Null"}get typeId(){return l.Null}}dt=Symbol.toStringTag,Ot[dt]=(t=>t[Symbol.toStringTag]="Null")(Ot.prototype);class At extends kt{constructor(t,e){super(),this.isSigned=t,this.bitWidth=e}get typeId(){return l.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?y:v}throw new Error("Unrecognized ".concat(this[Symbol.toStringTag]," type"))}toString(){return"".concat(this.isSigned?"I":"Ui","nt").concat(this.bitWidth)}}ft=Symbol.toStringTag,At[ft]=(t=>(t.isSigned=null,t.bitWidth=null,t[Symbol.toStringTag]="Int"))(At.prototype);class Bt extends At{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(class extends At{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}.prototype,"ArrayType",{value:Int8Array}),Object.defineProperty(class extends At{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}.prototype,"ArrayType",{value:Int16Array}),Object.defineProperty(Bt.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty(class extends At{constructor(){super(!0,64)}get ArrayType(){return y}}.prototype,"ArrayType",{value:y}),Object.defineProperty(class extends At{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}.prototype,"ArrayType",{value:Uint8Array}),Object.defineProperty(class extends At{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(class extends At{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}.prototype,"ArrayType",{value:Uint32Array}),Object.defineProperty(class extends At{constructor(){super(!1,64)}get ArrayType(){return v}}.prototype,"ArrayType",{value:v});class Ft extends kt{constructor(t){super(),this.precision=t}get typeId(){return l.Float}get ArrayType(){switch(this.precision){case n.HALF:return Uint16Array;case n.SINGLE:return Float32Array;case n.DOUBLE:return Float64Array}throw new Error("Unrecognized ".concat(this[Symbol.toStringTag]," type"))}toString(){return"Float".concat(this.precision<<5||16)}}pt=Symbol.toStringTag,Ft[pt]=(t=>(t.precision=null,t[Symbol.toStringTag]="Float"))(Ft.prototype);Object.defineProperty(class extends Ft{constructor(){super(n.HALF)}}.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(class extends Ft{constructor(){super(n.SINGLE)}}.prototype,"ArrayType",{value:Float32Array}),Object.defineProperty(class extends Ft{constructor(){super(n.DOUBLE)}}.prototype,"ArrayType",{value:Float64Array});class Lt extends kt{constructor(){super()}get typeId(){return l.Binary}toString(){return"Binary"}}yt=Symbol.toStringTag,Lt[yt]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Binary"))(Lt.prototype);class Pt extends kt{constructor(){super()}get typeId(){return l.Utf8}toString(){return"Utf8"}}mt=Symbol.toStringTag,Pt[mt]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Utf8"))(Pt.prototype);class Ut extends kt{constructor(){super()}get typeId(){return l.Bool}toString(){return"Bool"}}vt=Symbol.toStringTag,Ut[vt]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Bool"))(Ut.prototype);class Rt extends kt{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:128;super(),this.scale=t,this.precision=e,this.bitWidth=i}get typeId(){return l.Decimal}toString(){return"Decimal[".concat(this.precision,"e").concat(this.scale>0?"+":"").concat(this.scale,"]")}}bt=Symbol.toStringTag,Rt[bt]=(t=>(t.scale=null,t.precision=null,t.ArrayType=Uint32Array,t[Symbol.toStringTag]="Decimal"))(Rt.prototype);class Vt extends kt{constructor(t){super(),this.unit=t}get typeId(){return l.Date}toString(){return"Date".concat(32*(this.unit+1),"<").concat(r[this.unit],">")}}gt=Symbol.toStringTag,Vt[gt]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Date"))(Vt.prototype);class zt extends kt{constructor(t,e){super(),this.unit=t,this.bitWidth=e}get typeId(){return l.Time}toString(){return"Time".concat(this.bitWidth,"<").concat(s[this.unit],">")}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return y}throw new Error("Unrecognized ".concat(this[Symbol.toStringTag]," type"))}}wt=Symbol.toStringTag,zt[wt]=(t=>(t.unit=null,t.bitWidth=null,t[Symbol.toStringTag]="Time"))(zt.prototype);class jt extends kt{constructor(t,e){super(),this.unit=t,this.timezone=e}get typeId(){return l.Timestamp}toString(){return"Timestamp<".concat(s[this.unit]).concat(this.timezone?", ".concat(this.timezone):"",">")}}_t=Symbol.toStringTag,jt[_t]=(t=>(t.unit=null,t.timezone=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Timestamp"))(jt.prototype);class $t extends kt{constructor(t){super(),this.unit=t}get typeId(){return l.Interval}toString(){return"Interval<".concat(o[this.unit],">")}}St=Symbol.toStringTag,$t[St]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Interval"))($t.prototype);class Wt extends kt{constructor(t){super(),this.children=[t]}get typeId(){return l.List}toString(){return"List<".concat(this.valueType,">")}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}Tt=Symbol.toStringTag,Wt[Tt]=(t=>(t.children=null,t[Symbol.toStringTag]="List"))(Wt.prototype);class Yt extends kt{constructor(t){super(),this.children=t}get typeId(){return l.Struct}toString(){return"Struct<{".concat(this.children.map((t=>"".concat(t.name,":").concat(t.type))).join(", "),"}>")}}It=Symbol.toStringTag,Yt[It]=(t=>(t.children=null,t[Symbol.toStringTag]="Struct"))(Yt.prototype);class Ht extends kt{constructor(t,e,i){super(),this.mode=t,this.children=i,this.typeIds=e=Int32Array.from(e),this.typeIdToChildIndex=e.reduce(((t,e,i)=>(t[e]=i)&&t||t),Object.create(null))}get typeId(){return l.Union}toString(){return"".concat(this[Symbol.toStringTag],"<").concat(this.children.map((t=>"".concat(t.type))).join(" | "),">")}}xt=Symbol.toStringTag,Ht[xt]=(t=>(t.mode=null,t.typeIds=null,t.children=null,t.typeIdToChildIndex=null,t.ArrayType=Int8Array,t[Symbol.toStringTag]="Union"))(Ht.prototype);class Zt extends kt{constructor(t){super(),this.byteWidth=t}get typeId(){return l.FixedSizeBinary}toString(){return"FixedSizeBinary[".concat(this.byteWidth,"]")}}Mt=Symbol.toStringTag,Zt[Mt]=(t=>(t.byteWidth=null,t.ArrayType=Uint8Array,t[Symbol.toStringTag]="FixedSizeBinary"))(Zt.prototype);class Kt extends kt{constructor(t,e){super(),this.listSize=t,this.children=[e]}get typeId(){return l.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return"FixedSizeList[".concat(this.listSize,"]<").concat(this.valueType,">")}}Et=Symbol.toStringTag,Kt[Et]=(t=>(t.children=null,t.listSize=null,t[Symbol.toStringTag]="FixedSizeList"))(Kt.prototype);class Jt extends kt{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(),this.children=[t],this.keysSorted=e}get typeId(){return l.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return"Map<{".concat(this.children[0].type.children.map((t=>"".concat(t.name,":").concat(t.type))).join(", "),"}>")}}Nt=Symbol.toStringTag,Jt[Nt]=(t=>(t.children=null,t.keysSorted=null,t[Symbol.toStringTag]="Map_"))(Jt.prototype);const Gt=(qt=-1,()=>++qt);var qt;class Xt extends kt{constructor(t,e,i,n){super(),this.indices=e,this.dictionary=t,this.isOrdered=n||!1,this.id=null==i?Gt():"number"===typeof i?i:i.low}get typeId(){return l.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return"Dictionary<".concat(this.indices,", ").concat(this.dictionary,">")}}function Qt(t){const e=t;switch(t.typeId){case l.Decimal:return t.bitWidth/32;case l.Timestamp:return 2;case l.Date:case l.Interval:return 1+e.unit;case l.FixedSizeList:return e.listSize;case l.FixedSizeBinary:return e.byteWidth;default:return 1}}Ct=Symbol.toStringTag,Xt[Ct]=(t=>(t.id=null,t.indices=null,t.isOrdered=null,t.dictionary=null,t[Symbol.toStringTag]="Dictionary"))(Xt.prototype);class te{visitMany(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return t.map(((t,e)=>this.visit(t,...i.map((t=>t[e])))))}visit(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(t){return function(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("number"===typeof e)return ee(t,e,i);if("string"===typeof e&&e in l)return ee(t,l[e],i);if(e&&e instanceof kt)return ee(t,ie(e),i);if((null===e||void 0===e?void 0:e.type)&&e.type instanceof kt)return ee(t,ie(e.type),i);return ee(t,l.NONE,i)}(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}getVisitFnByTypeId(t){return ee(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}visitNull(t){return null}visitBool(t){return null}visitInt(t){return null}visitFloat(t){return null}visitUtf8(t){return null}visitBinary(t){return null}visitFixedSizeBinary(t){return null}visitDate(t){return null}visitTimestamp(t){return null}visitTime(t){return null}visitDecimal(t){return null}visitList(t){return null}visitStruct(t){return null}visitUnion(t){return null}visitDictionary(t){return null}visitInterval(t){return null}visitFixedSizeList(t){return null}visitMap(t){return null}}function ee(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=null;switch(e){case l.Null:n=t.visitNull;break;case l.Bool:n=t.visitBool;break;case l.Int:n=t.visitInt;break;case l.Int8:n=t.visitInt8||t.visitInt;break;case l.Int16:n=t.visitInt16||t.visitInt;break;case l.Int32:n=t.visitInt32||t.visitInt;break;case l.Int64:n=t.visitInt64||t.visitInt;break;case l.Uint8:n=t.visitUint8||t.visitInt;break;case l.Uint16:n=t.visitUint16||t.visitInt;break;case l.Uint32:n=t.visitUint32||t.visitInt;break;case l.Uint64:n=t.visitUint64||t.visitInt;break;case l.Float:n=t.visitFloat;break;case l.Float16:n=t.visitFloat16||t.visitFloat;break;case l.Float32:n=t.visitFloat32||t.visitFloat;break;case l.Float64:n=t.visitFloat64||t.visitFloat;break;case l.Utf8:n=t.visitUtf8;break;case l.Binary:n=t.visitBinary;break;case l.FixedSizeBinary:n=t.visitFixedSizeBinary;break;case l.Date:n=t.visitDate;break;case l.DateDay:n=t.visitDateDay||t.visitDate;break;case l.DateMillisecond:n=t.visitDateMillisecond||t.visitDate;break;case l.Timestamp:n=t.visitTimestamp;break;case l.TimestampSecond:n=t.visitTimestampSecond||t.visitTimestamp;break;case l.TimestampMillisecond:n=t.visitTimestampMillisecond||t.visitTimestamp;break;case l.TimestampMicrosecond:n=t.visitTimestampMicrosecond||t.visitTimestamp;break;case l.TimestampNanosecond:n=t.visitTimestampNanosecond||t.visitTimestamp;break;case l.Time:n=t.visitTime;break;case l.TimeSecond:n=t.visitTimeSecond||t.visitTime;break;case l.TimeMillisecond:n=t.visitTimeMillisecond||t.visitTime;break;case l.TimeMicrosecond:n=t.visitTimeMicrosecond||t.visitTime;break;case l.TimeNanosecond:n=t.visitTimeNanosecond||t.visitTime;break;case l.Decimal:n=t.visitDecimal;break;case l.List:n=t.visitList;break;case l.Struct:n=t.visitStruct;break;case l.Union:n=t.visitUnion;break;case l.DenseUnion:n=t.visitDenseUnion||t.visitUnion;break;case l.SparseUnion:n=t.visitSparseUnion||t.visitUnion;break;case l.Dictionary:n=t.visitDictionary;break;case l.Interval:n=t.visitInterval;break;case l.IntervalDayTime:n=t.visitIntervalDayTime||t.visitInterval;break;case l.IntervalYearMonth:n=t.visitIntervalYearMonth||t.visitInterval;break;case l.FixedSizeList:n=t.visitFixedSizeList;break;case l.Map:n=t.visitMap}if("function"===typeof n)return n;if(!i)return()=>null;throw new Error("Unrecognized type '".concat(l[e],"'"))}function ie(t){switch(t.typeId){case l.Null:return l.Null;case l.Int:{const{bitWidth:e,isSigned:i}=t;switch(e){case 8:return i?l.Int8:l.Uint8;case 16:return i?l.Int16:l.Uint16;case 32:return i?l.Int32:l.Uint32;case 64:return i?l.Int64:l.Uint64}return l.Int}case l.Float:switch(t.precision){case n.HALF:return l.Float16;case n.SINGLE:return l.Float32;case n.DOUBLE:return l.Float64}return l.Float;case l.Binary:return l.Binary;case l.Utf8:return l.Utf8;case l.Bool:return l.Bool;case l.Decimal:return l.Decimal;case l.Time:switch(t.unit){case s.SECOND:return l.TimeSecond;case s.MILLISECOND:return l.TimeMillisecond;case s.MICROSECOND:return l.TimeMicrosecond;case s.NANOSECOND:return l.TimeNanosecond}return l.Time;case l.Timestamp:switch(t.unit){case s.SECOND:return l.TimestampSecond;case s.MILLISECOND:return l.TimestampMillisecond;case s.MICROSECOND:return l.TimestampMicrosecond;case s.NANOSECOND:return l.TimestampNanosecond}return l.Timestamp;case l.Date:switch(t.unit){case r.DAY:return l.DateDay;case r.MILLISECOND:return l.DateMillisecond}return l.Date;case l.Interval:switch(t.unit){case o.DAY_TIME:return l.IntervalDayTime;case o.YEAR_MONTH:return l.IntervalYearMonth}return l.Interval;case l.Map:return l.Map;case l.List:return l.List;case l.Struct:return l.Struct;case l.Union:switch(t.mode){case e.Dense:return l.DenseUnion;case e.Sparse:return l.SparseUnion}return l.Union;case l.FixedSizeBinary:return l.FixedSizeBinary;case l.FixedSizeList:return l.FixedSizeList;case l.Dictionary:return l.Dictionary}throw new Error("Unrecognized type '".concat(l[t.typeId],"'"))}te.prototype.visitInt8=null,te.prototype.visitInt16=null,te.prototype.visitInt32=null,te.prototype.visitInt64=null,te.prototype.visitUint8=null,te.prototype.visitUint16=null,te.prototype.visitUint32=null,te.prototype.visitUint64=null,te.prototype.visitFloat16=null,te.prototype.visitFloat32=null,te.prototype.visitFloat64=null,te.prototype.visitDateDay=null,te.prototype.visitDateMillisecond=null,te.prototype.visitTimestampSecond=null,te.prototype.visitTimestampMillisecond=null,te.prototype.visitTimestampMicrosecond=null,te.prototype.visitTimestampNanosecond=null,te.prototype.visitTimeSecond=null,te.prototype.visitTimeMillisecond=null,te.prototype.visitTimeMicrosecond=null,te.prototype.visitTimeNanosecond=null,te.prototype.visitDenseUnion=null,te.prototype.visitSparseUnion=null,te.prototype.visitIntervalDayTime=null,te.prototype.visitIntervalYearMonth=null;const ne=new Float64Array(1),re=new Uint32Array(ne.buffer);function se(t){const e=(31744&t)>>10,i=(1023&t)/1024,n=Math.pow(-1,(32768&t)>>15);switch(e){case 31:return n*(i?Number.NaN:1/0);case 0:return n*(i?6103515625e-14*i:0)}return n*Math.pow(2,e-15)*(1+i)}class oe extends te{}function ae(t){return(e,i,n)=>{if(e.setValid(i,null!=n))return t(e,i,n)}}const le=(t,e,i)=>{t[e]=Math.trunc(i%4294967296),t[e+1]=Math.trunc(i/4294967296)},ue=(t,e,i,n)=>{if(i+1<e.length){const{[i]:r,[i+1]:s}=e;t.set(n.subarray(0,s-r),r)}},ce=(t,e,i)=>{let{values:n}=t;n[e]=i},he=(t,e,i)=>{let{values:n}=t;n[e]=i},de=(t,e,i)=>{let{values:n}=t;n[e]=function(t){if(t!==t)return 32256;ne[0]=t;const e=(2147483648&re[1])>>16&65535;let i=2146435072&re[1],n=0;return i>=1089470464?re[0]>0?i=31744:(i=(2080374784&i)>>16,n=(1048575&re[1])>>10):i<=1056964608?(n=1048576+(1048575&re[1]),n=1048576+(n<<(i>>20)-998)>>21,i=0):(i=i-1056964608>>10,n=512+(1048575&re[1])>>10),e|i|65535&n}(i)},fe=(t,e,i)=>{let{values:n}=t;((t,e,i)=>{t[e]=Math.trunc(i/864e5)})(n,e,i.valueOf())},pe=(t,e,i)=>{let{values:n}=t;le(n,2*e,i.valueOf())},ye=(t,e,i)=>{let{values:n}=t;return le(n,2*e,i/1e3)},me=(t,e,i)=>{let{values:n}=t;return le(n,2*e,i)},ve=(t,e,i)=>{let{values:n}=t;return((t,e,i)=>{t[e]=Math.trunc(1e3*i%4294967296),t[e+1]=Math.trunc(1e3*i/4294967296)})(n,2*e,i)},be=(t,e,i)=>{let{values:n}=t;return((t,e,i)=>{t[e]=Math.trunc(1e6*i%4294967296),t[e+1]=Math.trunc(1e6*i/4294967296)})(n,2*e,i)},ge=(t,e,i)=>{let{values:n}=t;n[e]=i},we=(t,e,i)=>{let{values:n}=t;n[e]=i},_e=(t,e,i)=>{let{values:n}=t;n[e]=i},Se=(t,e,i)=>{let{values:n}=t;n[e]=i},Te=(t,e,i)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[n];Ee.visit(r,t.valueOffsets[e],i)},Ie=(t,e,i)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[n];Ee.visit(r,e,i)},xe=(t,e,i)=>{let{values:n}=t;n.set(i.subarray(0,2),2*e)},Me=(t,e,i)=>{let{values:n}=t;n[e]=12*i[0]+i[1]%12};oe.prototype.visitBool=ae(((t,e,i)=>{let{offset:n,values:r}=t;const s=n+e;i?r[s>>3]|=1<<s%8:r[s>>3]&=~(1<<s%8)})),oe.prototype.visitInt=ae(ce),oe.prototype.visitInt8=ae(ce),oe.prototype.visitInt16=ae(ce),oe.prototype.visitInt32=ae(ce),oe.prototype.visitInt64=ae(ce),oe.prototype.visitUint8=ae(ce),oe.prototype.visitUint16=ae(ce),oe.prototype.visitUint32=ae(ce),oe.prototype.visitUint64=ae(ce),oe.prototype.visitFloat=ae(((t,e,i)=>{switch(t.type.precision){case n.HALF:return de(t,e,i);case n.SINGLE:case n.DOUBLE:return he(t,e,i)}})),oe.prototype.visitFloat16=ae(de),oe.prototype.visitFloat32=ae(he),oe.prototype.visitFloat64=ae(he),oe.prototype.visitUtf8=ae(((t,e,i)=>{let{values:n,valueOffsets:r}=t;ue(n,r,e,W(i))})),oe.prototype.visitBinary=ae(((t,e,i)=>{let{values:n,valueOffsets:r}=t;return ue(n,r,e,i)})),oe.prototype.visitFixedSizeBinary=ae(((t,e,i)=>{let{stride:n,values:r}=t;r.set(i.subarray(0,n),n*e)})),oe.prototype.visitDate=ae(((t,e,i)=>{t.type.unit===r.DAY?fe(t,e,i):pe(t,e,i)})),oe.prototype.visitDateDay=ae(fe),oe.prototype.visitDateMillisecond=ae(pe),oe.prototype.visitTimestamp=ae(((t,e,i)=>{switch(t.type.unit){case s.SECOND:return ye(t,e,i);case s.MILLISECOND:return me(t,e,i);case s.MICROSECOND:return ve(t,e,i);case s.NANOSECOND:return be(t,e,i)}})),oe.prototype.visitTimestampSecond=ae(ye),oe.prototype.visitTimestampMillisecond=ae(me),oe.prototype.visitTimestampMicrosecond=ae(ve),oe.prototype.visitTimestampNanosecond=ae(be),oe.prototype.visitTime=ae(((t,e,i)=>{switch(t.type.unit){case s.SECOND:return ge(t,e,i);case s.MILLISECOND:return we(t,e,i);case s.MICROSECOND:return _e(t,e,i);case s.NANOSECOND:return Se(t,e,i)}})),oe.prototype.visitTimeSecond=ae(ge),oe.prototype.visitTimeMillisecond=ae(we),oe.prototype.visitTimeMicrosecond=ae(_e),oe.prototype.visitTimeNanosecond=ae(Se),oe.prototype.visitDecimal=ae(((t,e,i)=>{let{values:n,stride:r}=t;n.set(i.subarray(0,r),r*e)})),oe.prototype.visitList=ae(((t,e,i)=>{const n=t.children[0],r=t.valueOffsets,s=Ee.getVisitFn(n);if(Array.isArray(i))for(let o=-1,a=r[e],l=r[e+1];a<l;)s(n,a++,i[++o]);else for(let o=-1,a=r[e],l=r[e+1];a<l;)s(n,a++,i.get(++o))})),oe.prototype.visitStruct=ae(((t,e,i)=>{const n=t.type.children.map((t=>Ee.getVisitFn(t.type))),r=i instanceof Map?((t,e)=>(i,n,r,s)=>n&&i(n,t,e.get(r.name)))(e,i):i instanceof Wi?((t,e)=>(i,n,r,s)=>n&&i(n,t,e.get(s)))(e,i):Array.isArray(i)?((t,e)=>(i,n,r,s)=>n&&i(n,t,e[s]))(e,i):((t,e)=>(i,n,r,s)=>n&&i(n,t,e[r.name]))(e,i);t.type.children.forEach(((e,i)=>r(n[i],t.children[i],e,i)))})),oe.prototype.visitUnion=ae(((t,i,n)=>{t.type.mode===e.Dense?Te(t,i,n):Ie(t,i,n)})),oe.prototype.visitDenseUnion=ae(Te),oe.prototype.visitSparseUnion=ae(Ie),oe.prototype.visitDictionary=ae(((t,e,i)=>{var n;null===(n=t.dictionary)||void 0===n||n.set(t.values[e],i)})),oe.prototype.visitInterval=ae(((t,e,i)=>{t.type.unit===o.DAY_TIME?xe(t,e,i):Me(t,e,i)})),oe.prototype.visitIntervalDayTime=ae(xe),oe.prototype.visitIntervalYearMonth=ae(Me),oe.prototype.visitFixedSizeList=ae(((t,e,i)=>{const{stride:n}=t,r=t.children[0],s=Ee.getVisitFn(r);if(Array.isArray(i))for(let o=-1,a=e*n;++o<n;)s(r,a+o,i[o]);else for(let o=-1,a=e*n;++o<n;)s(r,a+o,i.get(o))})),oe.prototype.visitMap=ae(((t,e,i)=>{const n=t.children[0],{valueOffsets:r}=t,s=Ee.getVisitFn(n);let{[e]:o,[e+1]:a}=r;const l=i instanceof Map?i.entries():Object.entries(i);for(const u of l)if(s(n,o,u),++o>=a)break}));const Ee=new oe,Ne=Symbol.for("parent"),Ce=Symbol.for("rowIndex");class De{constructor(t,e){return this[Ne]=t,this[Ce]=e,new Proxy(this,new Oe)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Ce],e=this[Ne],i=e.type.children,n={};for(let r=-1,s=i.length;++r<s;)n[i[r].name]=ti.visit(e.children[r],t);return n}toString(){return"{".concat([...this].map((t=>{let[e,i]=t;return"".concat(B(e),": ").concat(B(i))})).join(", "),"}")}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new ke(this[Ne],this[Ce])}}class ke{constructor(t,e){this.childIndex=0,this.children=t.children,this.rowIndex=e,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,ti.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(De.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Ne]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Ce]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class Oe{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Ne].type.children.map((t=>t.name))}has(t,e){return-1!==t[Ne].type.children.findIndex((t=>t.name===e))}getOwnPropertyDescriptor(t,e){if(-1!==t[Ne].type.children.findIndex((t=>t.name===e)))return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const i=t[Ne].type.children.findIndex((t=>t.name===e));if(-1!==i){const n=ti.visit(t[Ne].children[i],t[Ce]);return Reflect.set(t,e,n),n}}set(t,e,i){const n=t[Ne].type.children.findIndex((t=>t.name===e));return-1!==n?(Ee.visit(t[Ne].children[n],t[Ce],i),Reflect.set(t,e,i)):!(!Reflect.has(t,e)&&"symbol"!==typeof e)&&Reflect.set(t,e,i)}}class Ae extends te{}function Be(t){return(e,i)=>e.getValid(i)?t(e,i):null}const Fe=(t,e)=>4294967296*t[e+1]+(t[e]>>>0),Le=t=>new Date(t),Pe=(t,e,i)=>{if(i+1>=e.length)return null;const n=e[i],r=e[i+1];return t.subarray(n,r)},Ue=(t,e)=>{let{values:i}=t;return((t,e)=>Le(((t,e)=>864e5*t[e])(t,e)))(i,e)},Re=(t,e)=>{let{values:i}=t;return((t,e)=>Le(Fe(t,e)))(i,2*e)},Ve=(t,e)=>{let{stride:i,values:n}=t;return n[i*e]},ze=(t,e)=>{let{values:i}=t;return i[e]},je=(t,e)=>{let{values:i}=t;return 1e3*Fe(i,2*e)},$e=(t,e)=>{let{values:i}=t;return Fe(i,2*e)},We=(t,e)=>{let{values:i}=t;return((t,e)=>t[e+1]/1e3*4294967296+(t[e]>>>0)/1e3)(i,2*e)},Ye=(t,e)=>{let{values:i}=t;return((t,e)=>t[e+1]/1e6*4294967296+(t[e]>>>0)/1e6)(i,2*e)},He=(t,e)=>{let{values:i}=t;return i[e]},Ze=(t,e)=>{let{values:i}=t;return i[e]},Ke=(t,e)=>{let{values:i}=t;return i[e]},Je=(t,e)=>{let{values:i}=t;return i[e]},Ge=(t,e)=>{const i=t.type.typeIdToChildIndex[t.typeIds[e]],n=t.children[i];return ti.visit(n,t.valueOffsets[e])},qe=(t,e)=>{const i=t.type.typeIdToChildIndex[t.typeIds[e]],n=t.children[i];return ti.visit(n,e)},Xe=(t,e)=>{let{values:i}=t;return i.subarray(2*e,2*(e+1))},Qe=(t,e)=>{let{values:i}=t;const n=i[e],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r};Ae.prototype.visitNull=Be(((t,e)=>null)),Ae.prototype.visitBool=Be(((t,e)=>{let{offset:i,values:n}=t;const r=i+e;return 0!==(n[r>>3]&1<<r%8)})),Ae.prototype.visitInt=Be(((t,e)=>{let{values:i}=t;return i[e]})),Ae.prototype.visitInt8=Be(Ve),Ae.prototype.visitInt16=Be(Ve),Ae.prototype.visitInt32=Be(Ve),Ae.prototype.visitInt64=Be(ze),Ae.prototype.visitUint8=Be(Ve),Ae.prototype.visitUint16=Be(Ve),Ae.prototype.visitUint32=Be(Ve),Ae.prototype.visitUint64=Be(ze),Ae.prototype.visitFloat=Be(((t,e)=>{let{type:i,values:r}=t;return i.precision!==n.HALF?r[e]:se(r[e])})),Ae.prototype.visitFloat16=Be(((t,e)=>{let{stride:i,values:n}=t;return se(n[i*e])})),Ae.prototype.visitFloat32=Be(Ve),Ae.prototype.visitFloat64=Be(Ve),Ae.prototype.visitUtf8=Be(((t,e)=>{let{values:i,valueOffsets:n}=t;const r=Pe(i,n,e);return null!==r?j(r):null})),Ae.prototype.visitBinary=Be(((t,e)=>{let{values:i,valueOffsets:n}=t;return Pe(i,n,e)})),Ae.prototype.visitFixedSizeBinary=Be(((t,e)=>{let{stride:i,values:n}=t;return n.subarray(i*e,i*(e+1))})),Ae.prototype.visitDate=Be(((t,e)=>t.type.unit===r.DAY?Ue(t,e):Re(t,e))),Ae.prototype.visitDateDay=Be(Ue),Ae.prototype.visitDateMillisecond=Be(Re),Ae.prototype.visitTimestamp=Be(((t,e)=>{switch(t.type.unit){case s.SECOND:return je(t,e);case s.MILLISECOND:return $e(t,e);case s.MICROSECOND:return We(t,e);case s.NANOSECOND:return Ye(t,e)}})),Ae.prototype.visitTimestampSecond=Be(je),Ae.prototype.visitTimestampMillisecond=Be($e),Ae.prototype.visitTimestampMicrosecond=Be(We),Ae.prototype.visitTimestampNanosecond=Be(Ye),Ae.prototype.visitTime=Be(((t,e)=>{switch(t.type.unit){case s.SECOND:return He(t,e);case s.MILLISECOND:return Ze(t,e);case s.MICROSECOND:return Ke(t,e);case s.NANOSECOND:return Je(t,e)}})),Ae.prototype.visitTimeSecond=Be(He),Ae.prototype.visitTimeMillisecond=Be(Ze),Ae.prototype.visitTimeMicrosecond=Be(Ke),Ae.prototype.visitTimeNanosecond=Be(Je),Ae.prototype.visitDecimal=Be(((t,e)=>{let{values:i,stride:n}=t;return ct.decimal(i.subarray(n*e,n*(e+1)))})),Ae.prototype.visitList=Be(((t,e)=>{const{valueOffsets:i,stride:n,children:r}=t,{[e*n]:s,[e*n+1]:o}=i,a=r[0].slice(s,o-s);return new Wi([a])})),Ae.prototype.visitStruct=Be(((t,e)=>new De(t,e))),Ae.prototype.visitUnion=Be(((t,i)=>t.type.mode===e.Dense?Ge(t,i):qe(t,i))),Ae.prototype.visitDenseUnion=Be(Ge),Ae.prototype.visitSparseUnion=Be(qe),Ae.prototype.visitDictionary=Be(((t,e)=>{var i;return null===(i=t.dictionary)||void 0===i?void 0:i.get(t.values[e])})),Ae.prototype.visitInterval=Be(((t,e)=>t.type.unit===o.DAY_TIME?Xe(t,e):Qe(t,e))),Ae.prototype.visitIntervalDayTime=Be(Xe),Ae.prototype.visitIntervalYearMonth=Be(Qe),Ae.prototype.visitFixedSizeList=Be(((t,e)=>{const{stride:i,children:n}=t,r=n[0].slice(e*i,i);return new Wi([r])})),Ae.prototype.visitMap=Be(((t,e)=>{const{valueOffsets:i,children:n}=t,{[e]:r,[e+1]:s}=i,o=n[0];return new ni(o.slice(r,s-r))}));const ti=new Ae,ei=Symbol.for("keys"),ii=Symbol.for("vals");class ni{constructor(t){return this[ei]=new Wi([t.children[0]]).memoize(),this[ii]=t.children[1],new Proxy(this,new si)}[Symbol.iterator](){return new ri(this[ei],this[ii])}get size(){return this[ei].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[ei],e=this[ii],i={};for(let n=-1,r=t.length;++n<r;)i[t.get(n)]=ti.visit(e,n);return i}toString(){return"{".concat([...this].map((t=>{let[e,i]=t;return"".concat(B(e),": ").concat(B(i))})).join(", "),"}")}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class ri{constructor(t,e){this.keys=t,this.vals=e,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),ti.visit(this.vals,t)]})}}class si{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[ei].toArray().map(String)}has(t,e){return t[ei].includes(e)}getOwnPropertyDescriptor(t,e){if(-1!==t[ei].indexOf(e))return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const i=t[ei].indexOf(e);if(-1!==i){const n=ti.visit(Reflect.get(t,ii),i);return Reflect.set(t,e,n),n}}set(t,e,i){const n=t[ei].indexOf(e);return-1!==n?(Ee.visit(Reflect.get(t,ii),n,i),Reflect.set(t,e,i)):!!Reflect.has(t,e)&&Reflect.set(t,e,i)}}let oi;function ai(t,e,i,n){const{length:r=0}=t;let s="number"!==typeof e?0:e,o="number"!==typeof i?r:i;return s<0&&(s=(s%r+r)%r),o<0&&(o=(o%r+r)%r),o<s&&(oi=s,s=o,o=oi),o>r&&(o=r),n?n(t,s,o):[s,o]}Object.defineProperties(ni.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[ei]:{writable:!0,enumerable:!1,configurable:!1,value:null},[ii]:{writable:!0,enumerable:!1,configurable:!1,value:null}});const li=t=>t!==t;function ui(t){if("object"!==typeof t||null===t)return li(t)?li:e=>e===t;if(t instanceof Date){const e=t.valueOf();return t=>t instanceof Date&&t.valueOf()===e}return ArrayBuffer.isView(t)?e=>!!e&&function(t,e){let i=0;const n=t.length;if(n!==e.length)return!1;if(n>0)do{if(t[i]!==e[i])return!1}while(++i<n);return!0}(t,e):t instanceof Map?function(t){let e=-1;const i=[];for(const n of t.values())i[++e]=ui(n);return ci(i)}(t):Array.isArray(t)?function(t){const e=[];for(let i=-1,n=t.length;++i<n;)e[i]=ui(t[i]);return ci(e)}(t):t instanceof Wi?function(t){const e=[];for(let i=-1,n=t.length;++i<n;)e[i]=ui(t.get(i));return ci(e)}(t):function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=Object.keys(t);if(!e&&0===i.length)return()=>!1;const n=[];for(let r=-1,s=i.length;++r<s;)n[r]=ui(t[i[r]]);return ci(n,i)}(t,!0)}function ci(t,e){return i=>{if(!i||"object"!==typeof i)return!1;switch(i.constructor){case Array:return function(t,e){const i=t.length;if(e.length!==i)return!1;for(let n=-1;++n<i;)if(!t[n](e[n]))return!1;return!0}(t,i);case Map:return hi(t,i,i.keys());case ni:case De:case Object:case void 0:return hi(t,i,e||Object.keys(i))}return i instanceof Wi&&function(t,e){const i=t.length;if(e.length!==i)return!1;for(let n=-1;++n<i;)if(!t[n](e.get(n)))return!1;return!0}(t,i)}}function hi(t,e,i){const n=i[Symbol.iterator](),r=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),s=e instanceof Map?e.values():Object.values(e)[Symbol.iterator]();let o=0;const a=t.length;let l=s.next(),u=n.next(),c=r.next();for(;o<a&&!u.done&&!c.done&&!l.done&&(u.value===c.value&&t[o](l.value));++o,u=n.next(),c=r.next(),l=s.next());return!!(o===a&&u.done&&c.done&&l.done)||(n.return&&n.return(),r.return&&r.return(),s.return&&s.return(),!1)}class di{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;this.numChunks=t,this.getChunkIterator=e,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function fi(t){return t.reduce(((t,e)=>t+e.nullCount),0)}function pi(t){return t.reduce(((t,e,i)=>(t[i+1]=t[i]+e.length,t)),new Uint32Array(t.length+1))}function yi(t,e,i,n){const r=[];for(let s=-1,o=t.length;++s<o;){const o=t[s],a=e[s],{length:l}=o;if(a>=n)break;if(i>=a+l)continue;if(a>=i&&a+l<=n){r.push(o);continue}const u=Math.max(0,i-a),c=Math.min(n-a,l);r.push(o.slice(u,c-u))}return 0===r.length&&r.push(t[0].slice(0,0)),r}function mi(t,e,i,n){let r=0,s=0,o=e.length-1;do{if(r>=o-1)return i<e[o]?n(t,r,i-e[r]):null;s=r+Math.trunc(.5*(o-r)),i<e[s]?o=s:r=s}while(r<o)}function vi(t,e){return t.getValid(e)}function bi(t){function e(e,i,n){return t(e[i],n)}return function(t){return mi(this.data,this._offsets,t,e)}}function gi(t){let e;function i(i,n,r){return t(i[n],r,e)}return function(t,n){const r=this.data;e=n;const s=mi(r,this._offsets,t,i);return e=void 0,s}}function wi(t){let e;function i(i,n,r){let s=r,o=0,a=0;for(let l=n-1,u=i.length;++l<u;){const n=i[l];if(~(o=t(n,e,s)))return a+o;s=0,a+=n.length}return-1}return function(t,n){e=t;const r=this.data,s="number"!==typeof n?i(r,0,0):mi(r,this._offsets,n,i);return e=void 0,s}}function _i(t,e,i,n){return 0!==(i&1<<n)}function Si(t,e,i,n){return(i&1<<n)>>n}function Ti(t,e,i){const n=i.byteLength+7&-8;if(t>0||i.byteLength<n){const r=new Uint8Array(n);return r.set(t%8===0?i.subarray(t>>3):Ii(new xi(i,t,e,null,_i)).subarray(0,n)),r}return i}function Ii(t){const e=[];let i=0,n=0,r=0;for(const o of t)o&&(r|=1<<n),8===++n&&(e[i++]=r,r=n=0);(0===i||n>0)&&(e[i++]=r);const s=new Uint8Array(e.length+7&-8);return s.set(e),s}class xi{constructor(t,e,i,n,r){this.bytes=t,this.length=i,this.context=n,this.get=r,this.bit=e%8,this.byteIndex=e>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(8===this.bit&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function Mi(t,e,i){if(i-e<=0)return 0;if(i-e<8){let n=0;for(const r of new xi(t,e,i-e,t,Si))n+=r;return n}const n=i>>3<<3,r=e+(e%8===0?0:8-e%8);return Mi(t,e,r)+Mi(t,n,i)+function(t,e,i){let n=0,r=Math.trunc(e);const s=new DataView(t.buffer,t.byteOffset,t.byteLength),o=void 0===i?t.byteLength:r+i;for(;o-r>=4;)n+=Ei(s.getUint32(r)),r+=4;for(;o-r>=2;)n+=Ei(s.getUint16(r)),r+=2;for(;o-r>=1;)n+=Ei(s.getUint8(r)),r+=1;return n}(t,r>>3,n-r>>3)}function Ei(t){let e=Math.trunc(t);return e-=e>>>1&1431655765,e=(858993459&e)+(e>>>2&858993459),16843009*(e+(e>>>4)&252645135)>>>24}class Ni extends te{}function Ci(t,e,i){if(void 0===e)return-1;if(null===e)return function(t,e){const{nullBitmap:i}=t;if(!i||t.nullCount<=0)return-1;let n=0;for(const r of new xi(i,t.offset+(e||0),t.length,i,_i)){if(!r)return n;++n}return-1}(t,i);const n=ti.getVisitFn(t),r=ui(e);for(let s=(i||0)-1,o=t.length;++s<o;)if(r(n(t,s)))return s;return-1}function Di(t,e,i){const n=ti.getVisitFn(t),r=ui(e);for(let s=(i||0)-1,o=t.length;++s<o;)if(r(n(t,s)))return s;return-1}Ni.prototype.visitNull=function(t,e){return null===e&&t.length>0?0:-1},Ni.prototype.visitBool=Ci,Ni.prototype.visitInt=Ci,Ni.prototype.visitInt8=Ci,Ni.prototype.visitInt16=Ci,Ni.prototype.visitInt32=Ci,Ni.prototype.visitInt64=Ci,Ni.prototype.visitUint8=Ci,Ni.prototype.visitUint16=Ci,Ni.prototype.visitUint32=Ci,Ni.prototype.visitUint64=Ci,Ni.prototype.visitFloat=Ci,Ni.prototype.visitFloat16=Ci,Ni.prototype.visitFloat32=Ci,Ni.prototype.visitFloat64=Ci,Ni.prototype.visitUtf8=Ci,Ni.prototype.visitBinary=Ci,Ni.prototype.visitFixedSizeBinary=Ci,Ni.prototype.visitDate=Ci,Ni.prototype.visitDateDay=Ci,Ni.prototype.visitDateMillisecond=Ci,Ni.prototype.visitTimestamp=Ci,Ni.prototype.visitTimestampSecond=Ci,Ni.prototype.visitTimestampMillisecond=Ci,Ni.prototype.visitTimestampMicrosecond=Ci,Ni.prototype.visitTimestampNanosecond=Ci,Ni.prototype.visitTime=Ci,Ni.prototype.visitTimeSecond=Ci,Ni.prototype.visitTimeMillisecond=Ci,Ni.prototype.visitTimeMicrosecond=Ci,Ni.prototype.visitTimeNanosecond=Ci,Ni.prototype.visitDecimal=Ci,Ni.prototype.visitList=Ci,Ni.prototype.visitStruct=Ci,Ni.prototype.visitUnion=Ci,Ni.prototype.visitDenseUnion=Di,Ni.prototype.visitSparseUnion=Di,Ni.prototype.visitDictionary=Ci,Ni.prototype.visitInterval=Ci,Ni.prototype.visitIntervalDayTime=Ci,Ni.prototype.visitIntervalYearMonth=Ci,Ni.prototype.visitFixedSizeList=Ci,Ni.prototype.visitMap=Ci;const ki=new Ni;class Oi extends te{}function Ai(t){const{type:e}=t;if(0===t.nullCount&&1===t.stride&&(e.typeId===l.Timestamp||e instanceof At&&64!==e.bitWidth||e instanceof zt&&64!==e.bitWidth||e instanceof Ft&&e.precision!==n.HALF))return new di(t.data.length,(e=>{const i=t.data[e];return i.values.subarray(0,i.length)[Symbol.iterator]()}));let i=0;return new di(t.data.length,(e=>{const n=t.data[e].length,r=t.slice(i,i+n);return i+=n,new Bi(r)}))}class Bi{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}Oi.prototype.visitNull=Ai,Oi.prototype.visitBool=Ai,Oi.prototype.visitInt=Ai,Oi.prototype.visitInt8=Ai,Oi.prototype.visitInt16=Ai,Oi.prototype.visitInt32=Ai,Oi.prototype.visitInt64=Ai,Oi.prototype.visitUint8=Ai,Oi.prototype.visitUint16=Ai,Oi.prototype.visitUint32=Ai,Oi.prototype.visitUint64=Ai,Oi.prototype.visitFloat=Ai,Oi.prototype.visitFloat16=Ai,Oi.prototype.visitFloat32=Ai,Oi.prototype.visitFloat64=Ai,Oi.prototype.visitUtf8=Ai,Oi.prototype.visitBinary=Ai,Oi.prototype.visitFixedSizeBinary=Ai,Oi.prototype.visitDate=Ai,Oi.prototype.visitDateDay=Ai,Oi.prototype.visitDateMillisecond=Ai,Oi.prototype.visitTimestamp=Ai,Oi.prototype.visitTimestampSecond=Ai,Oi.prototype.visitTimestampMillisecond=Ai,Oi.prototype.visitTimestampMicrosecond=Ai,Oi.prototype.visitTimestampNanosecond=Ai,Oi.prototype.visitTime=Ai,Oi.prototype.visitTimeSecond=Ai,Oi.prototype.visitTimeMillisecond=Ai,Oi.prototype.visitTimeMicrosecond=Ai,Oi.prototype.visitTimeNanosecond=Ai,Oi.prototype.visitDecimal=Ai,Oi.prototype.visitList=Ai,Oi.prototype.visitStruct=Ai,Oi.prototype.visitUnion=Ai,Oi.prototype.visitDenseUnion=Ai,Oi.prototype.visitSparseUnion=Ai,Oi.prototype.visitDictionary=Ai,Oi.prototype.visitInterval=Ai,Oi.prototype.visitIntervalDayTime=Ai,Oi.prototype.visitIntervalYearMonth=Ai,Oi.prototype.visitFixedSizeList=Ai,Oi.prototype.visitMap=Ai;const Fi=new Oi,Li=(t,e)=>t+e;class Pi extends te{visitNull(t,e){return 0}visitInt(t,e){return t.type.bitWidth/8}visitFloat(t,e){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,e){return 1/8}visitDecimal(t,e){return t.type.bitWidth/8}visitDate(t,e){return 4*(t.type.unit+1)}visitTime(t,e){return t.type.bitWidth/8}visitTimestamp(t,e){return t.type.unit===s.SECOND?4:8}visitInterval(t,e){return 4*(t.type.unit+1)}visitStruct(t,e){return t.children.reduce(((t,i)=>t+Vi.visit(i,e)),0)}visitFixedSizeBinary(t,e){return t.type.byteWidth}visitMap(t,e){return 8+t.children.reduce(((t,i)=>t+Vi.visit(i,e)),0)}visitDictionary(t,e){var i;return t.type.indices.bitWidth/8+((null===(i=t.dictionary)||void 0===i?void 0:i.getByteLength(t.values[e]))||0)}}const Ui=(t,e)=>{let{type:i,children:n,typeIds:r,valueOffsets:s}=t;const o=i.typeIdToChildIndex[r[e]];return 8+Vi.visit(n[o],s[e])},Ri=(t,e)=>{let{children:i}=t;return 4+Vi.visitMany(i,i.map((()=>e))).reduce(Li,0)};Pi.prototype.visitUtf8=(t,e)=>{let{valueOffsets:i}=t;return i[e+1]-i[e]+8},Pi.prototype.visitBinary=(t,e)=>{let{valueOffsets:i}=t;return i[e+1]-i[e]+8},Pi.prototype.visitList=(t,e)=>{let{valueOffsets:i,stride:n,children:r}=t;const s=r[0],{[e*n]:o}=i,{[e*n+1]:a}=i,l=Vi.getVisitFn(s.type),u=s.slice(o,a-o);let c=8;for(let h=-1,d=a-o;++h<d;)c+=l(u,h);return c},Pi.prototype.visitFixedSizeList=(t,e)=>{let{stride:i,children:n}=t;const r=n[0],s=r.slice(e*i,i),o=Vi.getVisitFn(r.type);let a=0;for(let l=-1,u=s.length;++l<u;)a+=o(s,l);return a},Pi.prototype.visitUnion=(t,i)=>t.type.mode===e.Dense?Ui(t,i):Ri(t,i),Pi.prototype.visitDenseUnion=Ui,Pi.prototype.visitSparseUnion=Ri;const Vi=new Pi;var zi;const ji={},$i={};class Wi{constructor(t){var e,i,n;const r=t[0]instanceof Wi?t.flatMap((t=>t.data)):t;if(0===r.length||r.some((t=>!(t instanceof Hi))))throw new TypeError("Vector constructor expects an Array of Data instances.");const s=null===(e=r[0])||void 0===e?void 0:e.type;switch(r.length){case 0:this._offsets=[0];break;case 1:{const{get:t,set:e,indexOf:i,byteLength:n}=ji[s.typeId],o=r[0];this.isValid=t=>vi(o,t),this.get=e=>t(o,e),this.set=(t,i)=>e(o,t,i),this.indexOf=t=>i(o,t),this.getByteLength=t=>n(o,t),this._offsets=[0,o.length];break}default:Object.setPrototypeOf(this,$i[s.typeId]),this._offsets=pi(r)}this.data=r,this.type=s,this.stride=Qt(s),this.numChildren=null!==(n=null===(i=s.children)||void 0===i?void 0:i.length)&&void 0!==n?n:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return-1===this._byteLength&&(this._byteLength=this.data.reduce(((t,e)=>t+e.byteLength),0)),this._byteLength}get nullCount(){return-1===this._nullCount&&(this._nullCount=fi(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return"".concat(this.VectorName,"<").concat(this.type[Symbol.toStringTag],">")}get VectorName(){return"".concat(l[this.type.typeId],"Vector")}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}includes(t,e){return this.indexOf(t,e)>0}getByteLength(t){return 0}[Symbol.iterator](){return Fi.visit(this)}concat(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new Wi(this.data.concat(e.flatMap((t=>t.data)).flat(Number.POSITIVE_INFINITY)))}slice(t,e){return new Wi(ai(this,t,e,((t,e,i)=>{let{data:n,_offsets:r}=t;return yi(n,r,e,i)})))}toJSON(){return[...this]}toArray(){const{type:t,data:e,length:i,stride:n,ArrayType:r}=this;switch(t.typeId){case l.Int:case l.Float:case l.Decimal:case l.Time:case l.Timestamp:switch(e.length){case 0:return new r;case 1:return e[0].values.subarray(0,i*n);default:return e.reduce(((t,e)=>{let{values:i,length:r}=e;return t.array.set(i.subarray(0,r*n),t.offset),t.offset+=r*n,t}),{array:new r(i*n),offset:0}).array}}return[...this]}toString(){return"[".concat([...this].join(","),"]")}getChild(t){var e;return this.getChildAt(null===(e=this.type.children)||void 0===e?void 0:e.findIndex((e=>e.name===t)))}getChildAt(t){return t>-1&&t<this.numChildren?new Wi(this.data.map((e=>{let{children:i}=e;return i[t]}))):null}get isMemoized(){return!!kt.isDictionary(this.type)&&this.data[0].dictionary.isMemoized}memoize(){if(kt.isDictionary(this.type)){const t=new Yi(this.data[0].dictionary),e=this.data.map((e=>{const i=e.clone();return i.dictionary=t,i}));return new Wi(e)}return new Yi(this)}unmemoize(){if(kt.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),e=this.data.map((e=>{const i=e.clone();return i.dictionary=t,i}));return new Wi(e)}return this}}zi=Symbol.toStringTag,Wi[zi]=(t=>{t.type=kt.prototype,t.data=[],t.length=0,t.stride=1,t.numChildren=0,t._nullCount=-1,t._byteLength=-1,t._offsets=new Uint32Array([0]),t[Symbol.isConcatSpreadable]=!0;const e=Object.keys(l).map((t=>l[t])).filter((t=>"number"===typeof t&&t!==l.NONE));for(const i of e){const e=ti.getVisitFnByTypeId(i),n=Ee.getVisitFnByTypeId(i),r=ki.getVisitFnByTypeId(i),s=Vi.getVisitFnByTypeId(i);ji[i]={get:e,set:n,indexOf:r,byteLength:s},$i[i]=Object.create(t,{isValid:{value:bi(vi)},get:{value:bi(ti.getVisitFnByTypeId(i))},set:{value:gi(Ee.getVisitFnByTypeId(i))},indexOf:{value:wi(ki.getVisitFnByTypeId(i))},getByteLength:{value:bi(Vi.getVisitFnByTypeId(i))}})}return"Vector"})(Wi.prototype);class Yi extends Wi{constructor(t){super(t.data);const e=this.get,i=this.set,n=this.slice,r=new Array(this.length);Object.defineProperty(this,"get",{value(t){const i=r[t];if(void 0!==i)return i;const n=e.call(this,t);return r[t]=n,n}}),Object.defineProperty(this,"set",{value(t,e){i.call(this,t,e),r[t]=e}}),Object.defineProperty(this,"slice",{value:(t,e)=>new Yi(n.call(this,t,e))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Wi(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class Hi{constructor(t,e,i,n,r){let s,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;this.type=t,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(e||0,0)),this.length=Math.floor(Math.max(i||0,0)),this._nullCount=Math.floor(Math.max(n||0,-1)),r instanceof Hi?(this.stride=r.stride,this.values=r.values,this.typeIds=r.typeIds,this.nullBitmap=r.nullBitmap,this.valueOffsets=r.valueOffsets):(this.stride=Qt(t),r&&((s=r[0])&&(this.valueOffsets=s),(s=r[1])&&(this.values=s),(s=r[2])&&(this.nullBitmap=s),(s=r[3])&&(this.typeIds=s))),this.nullable=0!==this._nullCount&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0;const{valueOffsets:e,values:i,nullBitmap:n,typeIds:r}=this;return e&&(t+=e.byteLength),i&&(t+=i.byteLength),n&&(t+=n.byteLength),r&&(t+=r.byteLength),this.children.reduce(((t,e)=>t+e.byteLength),t)}get nullCount(){let t,e=this._nullCount;return e<=-1&&(t=this.nullBitmap)&&(this._nullCount=e=this.length-Mi(t,this.offset,this.offset+this.length)),e}getValid(t){if(this.nullable&&this.nullCount>0){const e=this.offset+t;return 0!==(this.nullBitmap[e>>3]&1<<e%8)}return!0}setValid(t,e){if(!this.nullable)return e;if(!this.nullBitmap||this.nullBitmap.byteLength<=t>>3){const{nullBitmap:t}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:t,_nullCount:0})}const{nullBitmap:i,offset:n}=this,r=n+t>>3,s=(n+t)%8,o=i[r]>>s&1;return e?0===o&&(i[r]|=1<<s,this._nullCount=this.nullCount+1):1===o&&(i[r]&=~(1<<s),this._nullCount=this.nullCount-1),e}clone(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.type,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.offset,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.length,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._nullCount,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.children;return new Hi(t,e,i,n,r,s,this.dictionary)}slice(t,e){const{stride:i,typeId:n,children:r}=this,s=+(0===this._nullCount)-1,o=16===n?i:1,a=this._sliceBuffers(t,e,i,n);return this.clone(this.type,this.offset+t,e,s,a,0===r.length||this.valueOffsets?r:this._sliceChildren(r,o*t,o*e))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===l.Null)return this.clone(this.type,0,t,0);const{length:e,nullCount:i}=this,n=new Uint8Array((t+63&-64)>>3).fill(255,0,e>>3);n[e>>3]=(1<<e-(-8&e))-1,i>0&&n.set(Ti(this.offset,e,this.nullBitmap),0);const r=this.buffers;return r[u.VALIDITY]=n,this.clone(this.type,0,t,i+(t-e),r)}_sliceBuffers(t,e,i,n){let r;const{buffers:s}=this;return(r=s[u.TYPE])&&(s[u.TYPE]=r.subarray(t,t+e)),(r=s[u.OFFSET])&&(s[u.OFFSET]=r.subarray(t,t+e+1))||(r=s[u.DATA])&&(s[u.DATA]=6===n?r:r.subarray(i*t,i*(t+e))),s}_sliceChildren(t,e,i){return t.map((t=>t.slice(e,i)))}}Hi.prototype.children=Object.freeze([]);class Zi extends te{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{type:e,offset:i=0,length:n=0}=t;return new Hi(e,i,n,0)}visitBool(t){const{type:e,offset:i=0}=t,n=G(t.nullBitmap),r=K(e.ArrayType,t.data),{length:s=r.length>>3,nullCount:o=(t.nullBitmap?-1:0)}=t;return new Hi(e,i,s,o,[void 0,r,n])}visitInt(t){const{type:e,offset:i=0}=t,n=G(t.nullBitmap),r=K(e.ArrayType,t.data),{length:s=r.length,nullCount:o=(t.nullBitmap?-1:0)}=t;return new Hi(e,i,s,o,[void 0,r,n])}visitFloat(t){const{type:e,offset:i=0}=t,n=G(t.nullBitmap),r=K(e.ArrayType,t.data),{length:s=r.length,nullCount:o=(t.nullBitmap?-1:0)}=t;return new Hi(e,i,s,o,[void 0,r,n])}visitUtf8(t){const{type:e,offset:i=0}=t,n=G(t.data),r=G(t.nullBitmap),s=J(t.valueOffsets),{length:o=s.length-1,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Hi(e,i,o,a,[s,n,r])}visitBinary(t){const{type:e,offset:i=0}=t,n=G(t.data),r=G(t.nullBitmap),s=J(t.valueOffsets),{length:o=s.length-1,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Hi(e,i,o,a,[s,n,r])}visitFixedSizeBinary(t){const{type:e,offset:i=0}=t,n=G(t.nullBitmap),r=K(e.ArrayType,t.data),{length:s=r.length/Qt(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Hi(e,i,s,o,[void 0,r,n])}visitDate(t){const{type:e,offset:i=0}=t,n=G(t.nullBitmap),r=K(e.ArrayType,t.data),{length:s=r.length/Qt(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Hi(e,i,s,o,[void 0,r,n])}visitTimestamp(t){const{type:e,offset:i=0}=t,n=G(t.nullBitmap),r=K(e.ArrayType,t.data),{length:s=r.length/Qt(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Hi(e,i,s,o,[void 0,r,n])}visitTime(t){const{type:e,offset:i=0}=t,n=G(t.nullBitmap),r=K(e.ArrayType,t.data),{length:s=r.length/Qt(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Hi(e,i,s,o,[void 0,r,n])}visitDecimal(t){const{type:e,offset:i=0}=t,n=G(t.nullBitmap),r=K(e.ArrayType,t.data),{length:s=r.length/Qt(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Hi(e,i,s,o,[void 0,r,n])}visitList(t){const{type:e,offset:i=0,child:n}=t,r=G(t.nullBitmap),s=J(t.valueOffsets),{length:o=s.length-1,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Hi(e,i,o,a,[s,void 0,r],[n])}visitStruct(t){const{type:e,offset:i=0,children:n=[]}=t,r=G(t.nullBitmap),{length:s=n.reduce(((t,e)=>{let{length:i}=e;return Math.max(t,i)}),0),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Hi(e,i,s,o,[void 0,void 0,r],n)}visitUnion(t){const{type:e,offset:i=0,children:n=[]}=t,r=G(t.nullBitmap),s=K(e.ArrayType,t.typeIds),{length:o=s.length,nullCount:a=(t.nullBitmap?-1:0)}=t;if(kt.isSparseUnion(e))return new Hi(e,i,o,a,[void 0,void 0,r,s],n);const l=J(t.valueOffsets);return new Hi(e,i,o,a,[l,void 0,r,s],n)}visitDictionary(t){const{type:e,offset:i=0}=t,n=G(t.nullBitmap),r=K(e.indices.ArrayType,t.data),{dictionary:s=new Wi([(new Zi).visit({type:e.dictionary})])}=t,{length:o=r.length,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Hi(e,i,o,a,[void 0,r,n],[],s)}visitInterval(t){const{type:e,offset:i=0}=t,n=G(t.nullBitmap),r=K(e.ArrayType,t.data),{length:s=r.length/Qt(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Hi(e,i,s,o,[void 0,r,n])}visitFixedSizeList(t){const{type:e,offset:i=0,child:n=(new Zi).visit({type:e.valueType})}=t,r=G(t.nullBitmap),{length:s=n.length/Qt(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Hi(e,i,s,o,[void 0,void 0,r],[n])}visitMap(t){const{type:e,offset:i=0,child:n=(new Zi).visit({type:e.childType})}=t,r=G(t.nullBitmap),s=J(t.valueOffsets),{length:o=s.length-1,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Hi(e,i,o,a,[s,void 0,r],[n])}}function Ki(t){return(new Zi).visit(t)}class Ji{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;this.fields=t||[],this.metadata=e||new Map,i||(i=Xi(t)),this.dictionaries=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map((t=>t.name))}toString(){return"Schema<{ ".concat(this.fields.map(((t,e)=>"".concat(e,": ").concat(t))).join(", ")," }>")}select(t){const e=new Set(t),i=this.fields.filter((t=>e.has(t.name)));return new Ji(i,this.metadata)}selectAt(t){const e=t.map((t=>this.fields[t])).filter(Boolean);return new Ji(e,this.metadata)}assign(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const n=e[0]instanceof Ji?e[0]:Array.isArray(e[0])?new Ji(e[0]):new Ji(e),r=[...this.fields],s=qi(qi(new Map,this.metadata),n.metadata),o=n.fields.filter((t=>{const e=r.findIndex((e=>e.name===t.name));return!~e||(r[e]=t.clone({metadata:qi(qi(new Map,r[e].metadata),t.metadata)}))&&!1})),a=Xi(o,new Map);return new Ji([...r,...o],s,new Map([...this.dictionaries,...a]))}}Ji.prototype.fields=null,Ji.prototype.metadata=null,Ji.prototype.dictionaries=null;class Gi{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;this.name=t,this.type=e,this.nullable=i,this.metadata=n||new Map}static new(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let[n,r,s,o]=e;return e[0]&&"object"===typeof e[0]&&(({name:n}=e[0]),void 0===r&&(r=e[0].type),void 0===s&&(s=e[0].nullable),void 0===o&&(o=e[0].metadata)),new Gi("".concat(n),r,s,o)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return"".concat(this.name,": ").concat(this.type)}clone(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let[n,r,s,o]=e;return e[0]&&"object"===typeof e[0]?({name:n=this.name,type:r=this.type,nullable:s=this.nullable,metadata:o=this.metadata}=e[0]):[n=this.name,r=this.type,s=this.nullable,o=this.metadata]=e,Gi.new(n,r,s,o)}}function qi(t,e){return new Map([...t||new Map,...e||new Map])}function Xi(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;for(let i=-1,n=t.length;++i<n;){const n=t[i].type;if(kt.isDictionary(n))if(e.has(n.id)){if(e.get(n.id)!==n.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else e.set(n.id,n.dictionary);n.children&&n.children.length>0&&Xi(n.children,e)}return e}Gi.prototype.type=null,Gi.prototype.name=null,Gi.prototype.nullable=null,Gi.prototype.metadata=null;class Qi extends te{compareSchemas(t,e){return t===e||e instanceof t.constructor&&this.compareManyFields(t.fields,e.fields)}compareManyFields(t,e){return t===e||Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every(((t,i)=>this.compareFields(t,e[i])))}compareFields(t,e){return t===e||e instanceof t.constructor&&t.name===e.name&&t.nullable===e.nullable&&this.visit(t.type,e.type)}}function tn(t,e){return e instanceof t.constructor}function en(t,e){return t===e||tn(t,e)}function nn(t,e){return t===e||tn(t,e)&&t.bitWidth===e.bitWidth&&t.isSigned===e.isSigned}function rn(t,e){return t===e||tn(t,e)&&t.precision===e.precision}function sn(t,e){return t===e||tn(t,e)&&t.unit===e.unit}function on(t,e){return t===e||tn(t,e)&&t.unit===e.unit&&t.timezone===e.timezone}function an(t,e){return t===e||tn(t,e)&&t.unit===e.unit&&t.bitWidth===e.bitWidth}function ln(t,e){return t===e||tn(t,e)&&t.mode===e.mode&&t.typeIds.every(((t,i)=>t===e.typeIds[i]))&&cn.compareManyFields(t.children,e.children)}function un(t,e){return t===e||tn(t,e)&&t.unit===e.unit}Qi.prototype.visitNull=en,Qi.prototype.visitBool=en,Qi.prototype.visitInt=nn,Qi.prototype.visitInt8=nn,Qi.prototype.visitInt16=nn,Qi.prototype.visitInt32=nn,Qi.prototype.visitInt64=nn,Qi.prototype.visitUint8=nn,Qi.prototype.visitUint16=nn,Qi.prototype.visitUint32=nn,Qi.prototype.visitUint64=nn,Qi.prototype.visitFloat=rn,Qi.prototype.visitFloat16=rn,Qi.prototype.visitFloat32=rn,Qi.prototype.visitFloat64=rn,Qi.prototype.visitUtf8=en,Qi.prototype.visitBinary=en,Qi.prototype.visitFixedSizeBinary=function(t,e){return t===e||tn(t,e)&&t.byteWidth===e.byteWidth},Qi.prototype.visitDate=sn,Qi.prototype.visitDateDay=sn,Qi.prototype.visitDateMillisecond=sn,Qi.prototype.visitTimestamp=on,Qi.prototype.visitTimestampSecond=on,Qi.prototype.visitTimestampMillisecond=on,Qi.prototype.visitTimestampMicrosecond=on,Qi.prototype.visitTimestampNanosecond=on,Qi.prototype.visitTime=an,Qi.prototype.visitTimeSecond=an,Qi.prototype.visitTimeMillisecond=an,Qi.prototype.visitTimeMicrosecond=an,Qi.prototype.visitTimeNanosecond=an,Qi.prototype.visitDecimal=en,Qi.prototype.visitList=function(t,e){return t===e||tn(t,e)&&t.children.length===e.children.length&&cn.compareManyFields(t.children,e.children)},Qi.prototype.visitStruct=function(t,e){return t===e||tn(t,e)&&t.children.length===e.children.length&&cn.compareManyFields(t.children,e.children)},Qi.prototype.visitUnion=ln,Qi.prototype.visitDenseUnion=ln,Qi.prototype.visitSparseUnion=ln,Qi.prototype.visitDictionary=function(t,e){return t===e||tn(t,e)&&t.id===e.id&&t.isOrdered===e.isOrdered&&cn.visit(t.indices,e.indices)&&cn.visit(t.dictionary,e.dictionary)},Qi.prototype.visitInterval=un,Qi.prototype.visitIntervalDayTime=un,Qi.prototype.visitIntervalYearMonth=un,Qi.prototype.visitFixedSizeList=function(t,e){return t===e||tn(t,e)&&t.listSize===e.listSize&&t.children.length===e.children.length&&cn.compareManyFields(t.children,e.children)},Qi.prototype.visitMap=function(t,e){return t===e||tn(t,e)&&t.keysSorted===e.keysSorted&&t.children.length===e.children.length&&cn.compareManyFields(t.children,e.children)};const cn=new Qi;function hn(t,e){return cn.compareSchemas(t,e)}var dn,fn;class pn{constructor(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];switch(e.length){case 2:if([this.schema]=e,!(this.schema instanceof Ji))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Ki({nullCount:0,type:new Yt(this.schema.fields),children:this.schema.fields.map((t=>Ki({type:t.type,nullCount:0})))})]=e,!(this.data instanceof Hi))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=yn(this.schema,this.data.children);break;case 1:{const[t]=e,{fields:i,children:n,length:r}=Object.keys(t).reduce(((e,i,n)=>(e.children[n]=t[i],e.length=Math.max(e.length,t[i].length),e.fields[n]=Gi.new({name:i,type:t[i].type,nullable:!0}),e)),{length:0,fields:new Array,children:new Array}),s=new Ji(i),o=Ki({type:new Yt(i),length:r,children:n,nullCount:0});[this.schema,this.data]=yn(s,o.children,r);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=mn(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return ti.visit(this.data,t)}set(t,e){return Ee.visit(this.data,t,e)}indexOf(t,e){return ki.visit(this.data,t,e)}getByteLength(t){return Vi.visit(this.data,t)}[Symbol.iterator](){return Fi.visit(new Wi([this.data]))}toArray(){return[...this]}concat(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new wn(this.schema,[this,...e])}slice(t,e){const[i]=new Wi([this.data]).slice(t,e).data;return new pn(this.schema,i)}getChild(t){var e;return this.getChildAt(null===(e=this.schema.fields)||void 0===e?void 0:e.findIndex((e=>e.name===t)))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new Wi([this.data.children[t]]):null}setChild(t,e){var i;return this.setChildAt(null===(i=this.schema.fields)||void 0===i?void 0:i.findIndex((e=>e.name===t)),e)}setChildAt(t,e){let i=this.schema,n=this.data;if(t>-1&&t<this.numCols){e||(e=new Wi([Ki({type:new Ot,length:this.numRows})]));const r=i.fields.slice(),s=n.children.slice(),o=r[t].clone({type:e.type});[r[t],s[t]]=[o,e.data[0]],i=new Ji(r,new Map(this.schema.metadata)),n=Ki({type:new Yt(r),children:s})}return new pn(i,n)}select(t){const e=this.schema.select(t),i=new Yt(e.fields),n=[];for(const r of t){const t=this.schema.fields.findIndex((t=>t.name===r));~t&&(n[t]=this.data.children[t])}return new pn(e,Ki({type:i,length:this.numRows,children:n}))}selectAt(t){const e=this.schema.selectAt(t),i=t.map((t=>this.data.children[t])).filter(Boolean),n=Ki({type:new Yt(e.fields),length:this.numRows,children:i});return new pn(e,n)}}function yn(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.reduce(((t,e)=>Math.max(t,e.length)),0);var n;const r=[...t.fields],s=[...e],o=(i+63&-64)>>3;for(const[a,l]of t.fields.entries()){const t=e[a];t&&t.length===i||(r[a]=l.clone({nullable:!0}),s[a]=null!==(n=null===t||void 0===t?void 0:t._changeLengthAndBackfillNullBitmap(i))&&void 0!==n?n:Ki({type:l.type,length:i,nullCount:i,nullBitmap:new Uint8Array(o)}))}return[t.assign(r),Ki({type:new Yt(r),length:i,children:s})]}function mn(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map;for(let n=-1,r=t.length;++n<r;){const r=t[n].type,s=e[n];if(kt.isDictionary(r))if(i.has(r.id)){if(i.get(r.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else s.dictionary&&i.set(r.id,s.dictionary);r.children&&r.children.length>0&&mn(r.children,s.children,i)}return i}dn=Symbol.toStringTag,pn[dn]=(t=>(t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(pn.prototype);class vn extends pn{constructor(t){const e=t.fields.map((t=>Ki({type:t.type})));super(t,Ki({type:new Yt(t.fields),nullCount:0,children:e}))}}function bn(t,e){return function(t,e){const i=[...t.fields],n=[],r={numBatches:e.reduce(((t,e)=>Math.max(t,e.length)),0)};let s=0,o=0,a=-1;const l=e.length;let u,c=[];for(;r.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<l;)c[a]=u=e[a].shift(),o=Math.min(o,u?u.length:o);Number.isFinite(o)&&(c=gn(i,o,c,e,r),o>0&&(n[s++]=Ki({type:new Yt(i),length:o,nullCount:0,children:c.slice()})))}return[t=t.assign(i),n.map((e=>new pn(t,e)))]}(t,e.map((t=>t.data.concat())))}function gn(t,e,i,n,r){var s;const o=(e+63&-64)>>3;for(let a=-1,l=n.length;++a<l;){const l=i[a],u=null===l||void 0===l?void 0:l.length;if(u>=e)u===e?i[a]=l:(i[a]=l.slice(0,e),r.numBatches=Math.max(r.numBatches,n[a].unshift(l.slice(e,u-e))));else{const n=t[a];t[a]=n.clone({nullable:!0}),i[a]=null!==(s=null===l||void 0===l?void 0:l._changeLengthAndBackfillNullBitmap(e))&&void 0!==s?s:Ki({type:n.type,length:e,nullCount:e,nullBitmap:new Uint8Array(o)})}}return i}class wn{constructor(){for(var t,e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];if(0===n.length)return this.batches=[],this.schema=new Ji([]),this._offsets=[0],this;let s,o;n[0]instanceof Ji&&(s=n.shift()),n[n.length-1]instanceof Uint32Array&&(o=n.pop());const a=t=>{if(t){if(t instanceof pn)return[t];if(t instanceof wn)return t.batches;if(t instanceof Hi){if(t.type instanceof Yt)return[new pn(new Ji(t.type.children),t)]}else{if(Array.isArray(t))return t.flatMap((t=>a(t)));if("function"===typeof t[Symbol.iterator])return[...t].flatMap((t=>a(t)));if("object"===typeof t){const e=Object.keys(t),i=e.map((e=>new Wi([t[e]]))),n=new Ji(e.map(((t,e)=>new Gi(String(t),i[e].type)))),[,r]=bn(n,i);return 0===r.length?[new pn(t)]:r}}}return[]},l=n.flatMap((t=>a(t)));if(s=null!==(e=null!==s&&void 0!==s?s:null===(t=l[0])||void 0===t?void 0:t.schema)&&void 0!==e?e:new Ji([]),!(s instanceof Ji))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const u of l){if(!(u instanceof pn))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!hn(s,u.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=s,this.batches=l,this._offsets=null!==o&&void 0!==o?o:pi(this.data)}get data(){return this.batches.map((t=>{let{data:e}=t;return e}))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce(((t,e)=>t+e.length),0)}get nullCount(){return-1===this._nullCount&&(this._nullCount=fi(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?Fi.visit(new Wi(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return"[\n  ".concat(this.toArray().join(",\n  "),"\n]")}concat(){const t=this.schema;for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];const r=this.data.concat(i.flatMap((t=>{let{data:e}=t;return e})));return new wn(t,r.map((e=>new pn(t,e))))}slice(t,e){const i=this.schema;[t,e]=ai({length:this.numRows},t,e);const n=yi(this.data,this._offsets,t,e);return new wn(i,n.map((t=>new pn(i,t))))}getChild(t){return this.getChildAt(this.schema.fields.findIndex((e=>e.name===t)))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const e=this.data.map((e=>e.children[t]));if(0===e.length){const{type:i}=this.schema.fields[t],n=Ki({type:i,length:0,nullCount:0});e.push(n._changeLengthAndBackfillNullBitmap(this.numRows))}return new Wi(e)}return null}setChild(t,e){var i;return this.setChildAt(null===(i=this.schema.fields)||void 0===i?void 0:i.findIndex((e=>e.name===t)),e)}setChildAt(t,e){let i=this.schema,n=[...this.batches];if(t>-1&&t<this.numCols){e||(e=new Wi([Ki({type:new Ot,length:this.numRows})]));const r=i.fields.slice(),s=r[t].clone({type:e.type}),o=this.schema.fields.map(((t,e)=>this.getChildAt(e)));[r[t],o[t]]=[s,e],[i,n]=bn(i,o)}return new wn(i,n)}select(t){const e=this.schema.fields.reduce(((t,e,i)=>t.set(e.name,i)),new Map);return this.selectAt(t.map((t=>e.get(t))).filter((t=>t>-1)))}selectAt(t){const e=this.schema.selectAt(t),i=this.batches.map((e=>e.selectAt(t)));return new wn(e,i)}assign(t){const e=this.schema.fields,[i,n]=t.schema.fields.reduce(((t,i,n)=>{const[r,s]=t,o=e.findIndex((t=>t.name===i.name));return~o?s[o]=n:r.push(n),t}),[[],[]]),r=this.schema.assign(t.schema),s=[...e.map(((t,e)=>[e,n[e]])).map((e=>{let[i,n]=e;return void 0===n?this.getChildAt(i):t.getChildAt(n)})),...i.map((e=>t.getChildAt(e)))].filter(Boolean);return new wn(...bn(r,s))}}fn=Symbol.toStringTag,wn[fn]=(t=>(t.schema=null,t.batches=[],t._offsets=new Uint32Array([0]),t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,t.isValid=bi(vi),t.get=bi(ti.getVisitFn(l.Struct)),t.set=gi(Ee.getVisitFn(l.Struct)),t.indexOf=wi(ki.getVisitFn(l.Struct)),t.getByteLength=bi(Vi.getVisitFn(l.Struct)),"Table"))(wn.prototype);class _n{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,e,i,n){return t.prep(8,24),t.writeInt64(n),t.pad(4),t.writeInt32(i),t.writeInt64(e),t.offset()}}const Sn=new Int32Array(2),Tn=new Float32Array(Sn.buffer),In=new Float64Array(Sn.buffer),xn=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0];class Mn{constructor(t,e){this.low=0|t,this.high=0|e}static create(t,e){return 0==t&&0==e?Mn.ZERO:new Mn(t,e)}toFloat64(){return(this.low>>>0)+4294967296*this.high}equals(t){return this.low==t.low&&this.high==t.high}}var En,Nn,Cn,Dn,kn;Mn.ZERO=new Mn(0,0),function(t){t[t.UTF8_BYTES=1]="UTF8_BYTES",t[t.UTF16_STRING=2]="UTF16_STRING"}(En||(En={}));class On{constructor(t){this.bytes_=t,this.position_=0}static allocate(t){return new On(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return new Mn(this.readInt32(t),this.readInt32(t+4))}readUint64(t){return new Mn(this.readUint32(t),this.readUint32(t+4))}readFloat32(t){return Sn[0]=this.readInt32(t),Tn[0]}readFloat64(t){return Sn[xn?0:1]=this.readInt32(t),Sn[xn?1:0]=this.readInt32(t+4),In[0]}writeInt8(t,e){this.bytes_[t]=e}writeUint8(t,e){this.bytes_[t]=e}writeInt16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeUint16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeInt32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeUint32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeInt64(t,e){this.writeInt32(t,e.low),this.writeInt32(t+4,e.high)}writeUint64(t,e){this.writeUint32(t,e.low),this.writeUint32(t+4,e.high)}writeFloat32(t,e){Tn[0]=e,this.writeInt32(t,Sn[0])}writeFloat64(t,e){In[0]=e,this.writeInt32(t,Sn[xn?0:1]),this.writeInt32(t+4,Sn[xn?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+4+4)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let e=0;e<4;e++)t+=String.fromCharCode(this.readInt8(this.position_+4+e));return t}__offset(t,e){const i=t-this.readInt32(t);return e<this.readInt16(i)?this.readInt16(i+e):0}__union(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t}__string(t,e){t+=this.readInt32(t);const i=this.readInt32(t);let n="",r=0;if(t+=4,e===En.UTF8_BYTES)return this.bytes_.subarray(t,t+i);for(;r<i;){let e;const i=this.readUint8(t+r++);if(i<192)e=i;else{const n=this.readUint8(t+r++);if(i<224)e=(31&i)<<6|63&n;else{const s=this.readUint8(t+r++);if(i<240)e=(15&i)<<12|(63&n)<<6|63&s;else{e=(7&i)<<18|(63&n)<<12|(63&s)<<6|63&this.readUint8(t+r++)}}}e<65536?n+=String.fromCharCode(e):(e-=65536,n+=String.fromCharCode(55296+(e>>10),56320+(1023&e)))}return n}__union_with_string(t,e){return"string"===typeof t?this.__string(e):this.__union(t,e)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+4}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(4!=t.length)throw new Error("FlatBuffers: file identifier must be length 4");for(let e=0;e<4;e++)if(t.charCodeAt(e)!=this.readInt8(this.position()+4+e))return!1;return!0}createLong(t,e){return Mn.create(t,e)}createScalarList(t,e){const i=[];for(let n=0;n<e;++n)null!==t(n)&&i.push(t(n));return i}createObjList(t,e){const i=[];for(let n=0;n<e;++n){const e=t(n);null!==e&&i.push(e.unpack())}return i}}class An{constructor(t){let e;this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,e=t||1024,this.bb=On.allocate(e),this.space=e}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,e){t>this.minalign&&(this.minalign=t);const i=1+~(this.bb.capacity()-this.space+e)&t-1;for(;this.space<i+t+e;){const t=this.bb.capacity();this.bb=An.growByteBuffer(this.bb),this.space+=this.bb.capacity()-t}this.pad(i)}pad(t){for(let e=0;e<t;e++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,e,i){(this.force_defaults||e!=i)&&(this.addInt8(e),this.slot(t))}addFieldInt16(t,e,i){(this.force_defaults||e!=i)&&(this.addInt16(e),this.slot(t))}addFieldInt32(t,e,i){(this.force_defaults||e!=i)&&(this.addInt32(e),this.slot(t))}addFieldInt64(t,e,i){!this.force_defaults&&e.equals(i)||(this.addInt64(e),this.slot(t))}addFieldFloat32(t,e,i){(this.force_defaults||e!=i)&&(this.addFloat32(e),this.slot(t))}addFieldFloat64(t,e,i){(this.force_defaults||e!=i)&&(this.addFloat64(e),this.slot(t))}addFieldOffset(t,e,i){(this.force_defaults||e!=i)&&(this.addOffset(e),this.slot(t))}addFieldStruct(t,e,i){e!=i&&(this.nested(e),this.slot(t))}nested(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(t){null!==this.vtable&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const e=t.capacity();if(3221225472&e)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const i=e<<1,n=On.allocate(i);return n.setPosition(i-e),n.bytes().set(t.bytes(),i-e),n}addOffset(t){this.prep(4,0),this.writeInt32(this.offset()-t+4)}startObject(t){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=t;for(let e=0;e<t;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let e=this.vtable_in_use-1;for(;e>=0&&0==this.vtable[e];e--);const i=e+1;for(;e>=0;e--)this.addInt16(0!=this.vtable[e]?t-this.vtable[e]:0);this.addInt16(t-this.object_start);const n=2*(i+2);this.addInt16(n);let r=0;const s=this.space;t:for(e=0;e<this.vtables.length;e++){const t=this.bb.capacity()-this.vtables[e];if(n==this.bb.readInt16(t)){for(let e=2;e<n;e+=2)if(this.bb.readInt16(s+e)!=this.bb.readInt16(t+e))continue t;r=this.vtables[e];break}}return r?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,r-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,e,i){const n=i?4:0;if(e){const t=e;if(this.prep(this.minalign,8+n),4!=t.length)throw new Error("FlatBuffers: file identifier must be length 4");for(let e=3;e>=0;e--)this.writeInt8(t.charCodeAt(e))}this.prep(this.minalign,4+n),this.addOffset(t),n&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,e){this.finish(t,e,!0)}requiredField(t,e){const i=this.bb.capacity()-t,n=i-this.bb.readInt32(i);if(!(0!=this.bb.readInt16(n+e)))throw new Error("FlatBuffers: field "+e+" must be set")}startVector(t,e,i){this.notNested(),this.vector_num_elems=e,this.prep(4,t*e),this.prep(i,t*e)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const e=this.createString(t);return this.string_maps.set(t,e),e}createString(t){if(!t)return 0;let e;if(t instanceof Uint8Array)e=t;else{e=[];let i=0;for(;i<t.length;){let n;const r=t.charCodeAt(i++);if(r<55296||r>=56320)n=r;else{n=(r<<10)+t.charCodeAt(i++)+-56613888}n<128?e.push(n):(n<2048?e.push(n>>6&31|192):(n<65536?e.push(n>>12&15|224):e.push(n>>18&7|240,n>>12&63|128),e.push(n>>6&63|128)),e.push(63&n|128))}}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);for(let i=0,n=this.space,r=this.bb.bytes();i<e.length;i++)r[n++]=e[i];return this.endVector()}createLong(t,e){return Mn.create(t,e)}createObjectOffset(t){return null===t?0:"string"===typeof t?this.createString(t):t.pack(this)}createObjectOffsetList(t){const e=[];for(let i=0;i<t.length;++i){const n=t[i];if(null===n)throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.");e.push(this.createObjectOffset(n))}return e}createStructOffsetList(t,e){return e(this,t.length),this.createObjectOffsetList(t),this.endVector()}}class Bn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsKeyValue(t,e){return(e||new Bn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,e){return t.setPosition(t.position()+4),(e||new Bn).__init(t.readInt32(t.position())+t.position(),t)}key(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}value(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,e){t.addFieldOffset(0,e,0)}static addValue(t,e){t.addFieldOffset(1,e,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,e,i){return Bn.startKeyValue(t),Bn.addKey(t,e),Bn.addValue(t,i),Bn.endKeyValue(t)}}!function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"}(Nn||(Nn={})),function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"}(Cn||(Cn={})),function(t){t[t.DenseArray=0]="DenseArray"}(Dn||(Dn={}));class Fn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInt(t,e){return(e||new Fn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,e){return t.setPosition(t.position()+4),(e||new Fn).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startInt(t){t.startObject(2)}static addBitWidth(t,e){t.addFieldInt32(0,e,0)}static addIsSigned(t,e){t.addFieldInt8(1,+e,0)}static endInt(t){return t.endObject()}static createInt(t,e,i){return Fn.startInt(t),Fn.addBitWidth(t,e),Fn.addIsSigned(t,i),Fn.endInt(t)}}class Ln{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryEncoding(t,e){return(e||new Ln).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,e){return t.setPosition(t.position()+4),(e||new Ln).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}indexType(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Fn).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):Dn.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addIndexType(t,e){t.addFieldOffset(1,e,0)}static addIsOrdered(t,e){t.addFieldInt8(2,+e,0)}static addDictionaryKind(t,e){t.addFieldInt16(3,e,Dn.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}!function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.FloatingPoint=3]="FloatingPoint",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct_=13]="Struct_",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.LargeBinary=19]="LargeBinary",t[t.LargeUtf8=20]="LargeUtf8",t[t.LargeList=21]="LargeList"}(kn||(kn={}));class Pn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsField(t,e){return(e||new Pn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,e){return t.setPosition(t.position()+4),(e||new Pn).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):kn.NONE}type(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__union(t,this.bb_pos+e):null}dictionary(t){const e=this.bb.__offset(this.bb_pos,12);return e?(t||new Ln).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}children(t,e){const i=this.bb.__offset(this.bb_pos,14);return i?(e||new Pn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const i=this.bb.__offset(this.bb_pos,16);return i?(e||new Bn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,e){t.addFieldOffset(0,e,0)}static addNullable(t,e){t.addFieldInt8(1,+e,0)}static addTypeType(t,e){t.addFieldInt8(2,e,kn.NONE)}static addType(t,e){t.addFieldOffset(3,e,0)}static addDictionary(t,e){t.addFieldOffset(4,e,0)}static addChildren(t,e){t.addFieldOffset(5,e,0)}static createChildrenVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startChildrenVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(6,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endField(t){return t.endObject()}}class Un{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSchema(t,e){return(e||new Un).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,e){return t.setPosition(t.position()+4),(e||new Un).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Cn.Little}fields(t,e){const i=this.bb.__offset(this.bb_pos,6);return i?(e||new Pn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const i=this.bb.__offset(this.bb_pos,8);return i?(e||new Bn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*t):this.bb.createLong(0,0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,e){t.addFieldInt16(0,e,Cn.Little)}static addFields(t,e){t.addFieldOffset(1,e,0)}static createFieldsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startFieldsVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(2,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static addFeatures(t,e){t.addFieldOffset(3,e,0)}static createFeaturesVector(t,e){t.startVector(8,e.length,8);for(let i=e.length-1;i>=0;i--)t.addInt64(e[i]);return t.endVector()}static startFeaturesVector(t,e){t.startVector(8,e,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,e){t.finish(e)}static finishSizePrefixedSchemaBuffer(t,e){t.finish(e,void 0,!0)}static createSchema(t,e,i,n,r){return Un.startSchema(t),Un.addEndianness(t,e),Un.addFields(t,i),Un.addCustomMetadata(t,n),Un.addFeatures(t,r),Un.endSchema(t)}}class Rn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFooter(t,e){return(e||new Rn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,e){return t.setPosition(t.position()+4),(e||new Rn).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Nn.V1}schema(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Un).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}dictionaries(t,e){const i=this.bb.__offset(this.bb_pos,8);return i?(e||new _n).__init(this.bb.__vector(this.bb_pos+i)+24*t,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,e){const i=this.bb.__offset(this.bb_pos,10);return i?(e||new _n).__init(this.bb.__vector(this.bb_pos+i)+24*t,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const i=this.bb.__offset(this.bb_pos,12);return i?(e||new Bn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,Nn.V1)}static addSchema(t,e){t.addFieldOffset(1,e,0)}static addDictionaries(t,e){t.addFieldOffset(2,e,0)}static startDictionariesVector(t,e){t.startVector(24,e,8)}static addRecordBatches(t,e){t.addFieldOffset(3,e,0)}static startRecordBatchesVector(t,e){t.startVector(24,e,8)}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,e){t.finish(e)}static finishSizePrefixedFooterBuffer(t,e){t.finish(e,void 0,!0)}}var Vn=Mn,zn=An,jn=On;class $n{constructor(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.V4,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.schema=e,this.version=i,n&&(this._recordBatches=n),r&&(this._dictionaryBatches=r)}static decode(t){t=new jn(G(t));const e=Rn.getRootAsFooter(t),i=Ji.decode(e.schema());return new Wn(i,e)}static encode(e){const i=new zn,n=Ji.encode(i,e.schema);Rn.startRecordBatchesVector(i,e.numRecordBatches);for(const t of[...e.recordBatches()].slice().reverse())Yn.encode(i,t);const r=i.endVector();Rn.startDictionariesVector(i,e.numDictionaries);for(const t of[...e.dictionaryBatches()].slice().reverse())Yn.encode(i,t);const s=i.endVector();return Rn.startFooter(i),Rn.addSchema(i,n),Rn.addVersion(i,t.V4),Rn.addRecordBatches(i,r),Rn.addDictionaries(i,s),Rn.finishFooterBuffer(i,Rn.endFooter(i)),i.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let t,e=-1,i=this.numRecordBatches;++e<i;)(t=this.getRecordBatch(e))&&(yield t)}*dictionaryBatches(){for(let t,e=-1,i=this.numDictionaries;++e<i;)(t=this.getDictionaryBatch(e))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class Wn extends $n{constructor(t,e){super(t,e.version()),this._footer=e}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const e=this._footer.recordBatches(t);if(e)return Yn.decode(e)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const e=this._footer.dictionaries(t);if(e)return Yn.decode(e)}return null}}class Yn{constructor(t,e,i){this.metaDataLength=t,this.offset="number"===typeof i?i:i.low,this.bodyLength="number"===typeof e?e:e.low}static decode(t){return new Yn(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,e){const{metaDataLength:i}=e,n=new Vn(e.offset,0),r=new Vn(e.bodyLength,0);return _n.createBlock(t,n,i,r)}}const Hn={fromIterable:t=>Zn(function*(t){let e,i,n,r,s=!1,o=[],a=0;function l(){return"peek"===n?Z(o,r)[0]:([i,o,a]=Z(o,r),i)}({cmd:n,size:r}=yield null);const u=(c=t,X(Uint8Array,c))[Symbol.iterator]();var c;try{do{if(({done:e,value:i}=Number.isNaN(r-a)?u.next():u.next(r-a)),!e&&i.byteLength>0&&(o.push(i),a+=i.byteLength),e||r<=a)do{({cmd:n,size:r}=yield l())}while(r<a)}while(!e)}catch(fo){(s=!0)&&"function"===typeof u.throw&&u.throw(fo)}finally{!1===s&&"function"===typeof u.return&&u.return(null)}return null}(t)),fromAsyncIterable:t=>Zn(function(t){return U(this,arguments,(function*(){let e,i,n,r,s=!1,o=[],a=0;function l(){return"peek"===n?Z(o,r)[0]:([i,o,a]=Z(o,r),i)}({cmd:n,size:r}=yield yield P(null));const u=(c=t,Q(Uint8Array,c))[Symbol.asyncIterator]();var c;try{do{if(({done:e,value:i}=Number.isNaN(r-a)?yield P(u.next()):yield P(u.next(r-a))),!e&&i.byteLength>0&&(o.push(i),a+=i.byteLength),e||r<=a)do{({cmd:n,size:r}=yield yield P(l()))}while(r<a)}while(!e)}catch(fo){(s=!0)&&"function"===typeof u.throw&&(yield P(u.throw(fo)))}finally{!1===s&&"function"===typeof u.return&&(yield P(u.return(new Uint8Array(0))))}return yield P(null)}))}(t)),fromDOMStream:t=>Zn(function(t){return U(this,arguments,(function*(){let e,i,n,r=!1,s=!1,o=[],a=0;function l(){return"peek"===i?Z(o,n)[0]:([e,o,a]=Z(o,n),e)}({cmd:i,size:n}=yield yield P(null));const u=new Kn(t);try{do{if(({done:r,value:e}=Number.isNaN(n-a)?yield P(u.read()):yield P(u.read(n-a))),!r&&e.byteLength>0&&(o.push(G(e)),a+=e.byteLength),r||n<=a)do{({cmd:i,size:n}=yield yield P(l()))}while(n<a)}while(!r)}catch(fo){(s=!0)&&(yield P(u.cancel(fo)))}finally{!1===s?yield P(u.cancel()):t.locked&&u.releaseLock()}return yield P(null)}))}(t)),fromNodeStream:t=>Zn(function(t){return U(this,arguments,(function*(){const e=[];let i,n,r,s="error",o=!1,a=null,l=0,u=[];function c(){return"peek"===i?Z(u,n)[0]:([r,u,l]=Z(u,n),r)}if(({cmd:i,size:n}=yield yield P(null)),t.isTTY)return yield yield P(new Uint8Array(0)),yield P(null);try{e[0]=Jn(t,"end"),e[1]=Jn(t,"error");do{if(e[2]=Jn(t,"readable"),[s,a]=yield P(Promise.race(e.map((t=>t[2])))),"error"===s)break;if((o="end"===s)||(Number.isFinite(n-l)?(r=G(t.read(n-l)),r.byteLength<n-l&&(r=G(t.read()))):r=G(t.read()),r.byteLength>0&&(u.push(r),l+=r.byteLength)),o||n<=l)do{({cmd:i,size:n}=yield yield P(c()))}while(n<l)}while(!o)}finally{yield P(h(e,"error"===s?a:null))}return yield P(null);function h(e,i){return r=u=null,new Promise(((n,r)=>{for(const[i,s]of e)t.off(i,s);try{const e=t.destroy;e&&e.call(t,i),i=void 0}catch(fo){i=fo||i}finally{null!=i?r(i):n()}}))}}))}(t)),toDOMStream(t,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(t,e){throw new Error('"toNodeStream" not available in this environment')}},Zn=t=>(t.next(),t);class Kn{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch((()=>{}))}get closed(){return this.reader?this.reader.closed.catch((()=>{})):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return F(this,void 0,void 0,(function*(){const{reader:e,source:i}=this;e&&(yield e.cancel(t).catch((()=>{}))),i&&i.locked&&this.releaseLock()}))}read(t){return F(this,void 0,void 0,(function*(){if(0===t)return{done:null==this.reader,value:new Uint8Array(0)};const e=yield this.reader.read();return!e.done&&(e.value=G(e)),e}))}}const Jn=(t,e)=>{const i=t=>n([e,t]);let n;return[e,i,new Promise((r=>(n=r)&&t.once(e,i)))]};const Gn=Object.freeze({done:!0,value:void 0});class qn{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class Xn{tee(){return this._getDOMStream().tee()}pipe(t,e){return this._getNodeStream().pipe(t,e)}pipeTo(t,e){return this._getDOMStream().pipeTo(t,e)}pipeThrough(t,e){return this._getDOMStream().pipeThrough(t,e)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class Qn extends Xn{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise((t=>this._closedPromiseResolve=t))}get closed(){return this._closedPromise}cancel(t){return F(this,void 0,void 0,(function*(){yield this.return(t)}))}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(Gn);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return Hn.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return Hn.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return F(this,void 0,void 0,(function*(){return yield this.abort(t),Gn}))}return(t){return F(this,void 0,void 0,(function*(){return yield this.close(),Gn}))}read(t){return F(this,void 0,void 0,(function*(){return(yield this.next(t,"read")).value}))}peek(t){return F(this,void 0,void 0,(function*(){return(yield this.next(t,"peek")).value}))}next(){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise(((t,e)=>{this.resolvers.push({resolve:t,reject:e})})):Promise.resolve(Gn)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class tr extends Qn{write(t){if((t=G(t)).byteLength>0)return super.write(t)}toString(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?j(this.toUint8Array(!0)):this.toUint8Array(!1).then(j)}toUint8Array(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?Z(this._values)[0]:(()=>F(this,void 0,void 0,(function*(){var t,e;const i=[];let n=0;try{for(var r,s=V(this);!(r=yield s.next()).done;){const t=r.value;i.push(t),n+=t.byteLength}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=s.return)&&(yield e.call(s))}finally{if(t)throw t.error}}return Z(i,n)[0]})))()}}class er{constructor(t){t&&(this.source=new nr(Hn.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class ir{constructor(t){t instanceof ir?this.source=t.source:t instanceof tr?this.source=new rr(Hn.fromAsyncIterable(t)):O(t)?this.source=new rr(Hn.fromNodeStream(t)):k(t)?this.source=new rr(Hn.fromDOMStream(t)):C(t)?this.source=new rr(Hn.fromDOMStream(t.body)):I(t)?this.source=new rr(Hn.fromIterable(t)):(T(t)||x(t))&&(this.source=new rr(Hn.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class nr{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read";return this.source.next({cmd:e,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||Gn)}return(t){return Object.create(this.source.return&&this.source.return(t)||Gn)}}class rr{constructor(t){this.source=t,this._closedPromise=new Promise((t=>this._closedPromiseResolve=t))}cancel(t){return F(this,void 0,void 0,(function*(){yield this.return(t)}))}get closed(){return this._closedPromise}read(t){return F(this,void 0,void 0,(function*(){return(yield this.next(t,"read")).value}))}peek(t){return F(this,void 0,void 0,(function*(){return(yield this.next(t,"peek")).value}))}next(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read";return F(this,void 0,void 0,(function*(){return yield this.source.next({cmd:e,size:t})}))}throw(t){return F(this,void 0,void 0,(function*(){const e=this.source.throw&&(yield this.source.throw(t))||Gn;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)}))}return(t){return F(this,void 0,void 0,(function*(){const e=this.source.return&&(yield this.source.return(t))||Gn;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)}))}}class sr extends er{constructor(t,e){super(),this.position=0,this.buffer=G(t),this.size="undefined"===typeof e?this.buffer.byteLength:e}readInt32(t){const{buffer:e,byteOffset:i}=this.readAt(t,4);return new DataView(e,i).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){const{buffer:e,size:i,position:n}=this;return e&&n<i?("number"!==typeof t&&(t=Number.POSITIVE_INFINITY),this.position=Math.min(i,n+Math.min(i-n,t)),e.subarray(n,this.position)):null}readAt(t,e){const i=this.buffer,n=Math.min(this.size,t+e);return i?i.subarray(t,n):new Uint8Array(e)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}}class or extends ir{constructor(t,e){super(),this.position=0,this._handle=t,"number"===typeof e?this.size=e:this._pending=(()=>F(this,void 0,void 0,(function*(){this.size=(yield t.stat()).size,delete this._pending})))()}readInt32(t){return F(this,void 0,void 0,(function*(){const{buffer:e,byteOffset:i}=yield this.readAt(t,4);return new DataView(e,i).getInt32(0,!0)}))}seek(t){return F(this,void 0,void 0,(function*(){return this._pending&&(yield this._pending),this.position=Math.min(t,this.size),t<this.size}))}read(t){return F(this,void 0,void 0,(function*(){this._pending&&(yield this._pending);const{_handle:e,size:i,position:n}=this;if(e&&n<i){"number"!==typeof t&&(t=Number.POSITIVE_INFINITY);let r=n,s=0,o=0;const a=Math.min(i,r+Math.min(i-r,t)),l=new Uint8Array(Math.max(0,(this.position=a)-r));for(;(r+=o)<a&&(s+=o)<l.byteLength;)({bytesRead:o}=yield e.read(l,s,l.byteLength-s,r));return l}return null}))}readAt(t,e){return F(this,void 0,void 0,(function*(){this._pending&&(yield this._pending);const{_handle:i,size:n}=this;if(i&&t+e<n){const r=Math.min(n,t+e),s=new Uint8Array(r-t);return(yield i.read(s,0,e,t)).buffer}return new Uint8Array(e)}))}close(){return F(this,void 0,void 0,(function*(){const t=this._handle;this._handle=null,t&&(yield t.close())}))}throw(t){return F(this,void 0,void 0,(function*(){return yield this.close(),{done:!0,value:t}}))}return(t){return F(this,void 0,void 0,(function*(){return yield this.close(),{done:!0,value:t}}))}}function ar(t){return t<0&&(t=4294967295+t+1),"0x".concat(t.toString(16))}const lr=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class ur{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){const e=new Uint32Array([this.buffer[1]>>>16,65535&this.buffer[1],this.buffer[0]>>>16,65535&this.buffer[0]]),i=new Uint32Array([t.buffer[1]>>>16,65535&t.buffer[1],t.buffer[0]>>>16,65535&t.buffer[0]]);let n=e[3]*i[3];this.buffer[0]=65535&n;let r=n>>>16;return n=e[2]*i[3],r+=n,n=e[3]*i[2]>>>0,r+=n,this.buffer[0]+=r<<16,this.buffer[1]=r>>>0<n?65536:0,this.buffer[1]+=r>>>16,this.buffer[1]+=e[1]*i[3]+e[2]*i[2]+e[3]*i[1],this.buffer[1]+=e[0]*i[3]+e[1]*i[2]+e[2]*i[1]+e[3]*i[0]<<16,this}_plus(t){const e=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],e<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=e}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return"".concat(ar(this.buffer[1])," ").concat(ar(this.buffer[0]))}}class cr extends ur{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return cr.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return cr.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);const i=t.length,n=new cr(e);for(let r=0;r<i;){const e=8<i-r?8:i-r,s=new cr(new Uint32Array([Number.parseInt(t.slice(r,r+e),10),0])),o=new cr(new Uint32Array([lr[e],0]));n.times(o),n.plus(s),r+=e}return n}static convertArray(t){const e=new Uint32Array(2*t.length);for(let i=-1,n=t.length;++i<n;)cr.from(t[i],new Uint32Array(e.buffer,e.byteOffset+2*i*4,2));return e}static multiply(t,e){return new cr(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new cr(new Uint32Array(t.buffer)).plus(e)}}class hr extends ur{negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],0==this.buffer[0]&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){const e=this.buffer[1]<<0,i=t.buffer[1]<<0;return e<i||e===i&&this.buffer[0]<t.buffer[0]}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return hr.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return hr.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);const i=t.startsWith("-"),n=t.length,r=new hr(e);for(let s=i?1:0;s<n;){const e=8<n-s?8:n-s,i=new hr(new Uint32Array([Number.parseInt(t.slice(s,s+e),10),0])),o=new hr(new Uint32Array([lr[e],0]));r.times(o),r.plus(i),s+=e}return i?r.negate():r}static convertArray(t){const e=new Uint32Array(2*t.length);for(let i=-1,n=t.length;++i<n;)hr.from(t[i],new Uint32Array(e.buffer,e.byteOffset+2*i*4,2));return e}static multiply(t,e){return new hr(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new hr(new Uint32Array(t.buffer)).plus(e)}}class dr{constructor(t){this.buffer=t}high(){return new hr(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new hr(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],0==this.buffer[0]&&++this.buffer[1],0==this.buffer[1]&&++this.buffer[2],0==this.buffer[2]&&++this.buffer[3],this}times(t){const e=new cr(new Uint32Array([this.buffer[3],0])),i=new cr(new Uint32Array([this.buffer[2],0])),n=new cr(new Uint32Array([this.buffer[1],0])),r=new cr(new Uint32Array([this.buffer[0],0])),s=new cr(new Uint32Array([t.buffer[3],0])),o=new cr(new Uint32Array([t.buffer[2],0])),a=new cr(new Uint32Array([t.buffer[1],0])),l=new cr(new Uint32Array([t.buffer[0],0]));let u=cr.multiply(r,l);this.buffer[0]=u.low();const c=new cr(new Uint32Array([u.high(),0]));u=cr.multiply(n,l),c.plus(u),u=cr.multiply(r,a),c.plus(u),this.buffer[1]=c.low(),this.buffer[3]=c.lessThan(u)?1:0,this.buffer[2]=c.high();return new cr(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(cr.multiply(i,l)).plus(cr.multiply(n,a)).plus(cr.multiply(r,o)),this.buffer[3]+=cr.multiply(e,l).plus(cr.multiply(i,a)).plus(cr.multiply(n,o)).plus(cr.multiply(r,s)).low(),this}plus(t){const e=new Uint32Array(4);return e[3]=this.buffer[3]+t.buffer[3]>>>0,e[2]=this.buffer[2]+t.buffer[2]>>>0,e[1]=this.buffer[1]+t.buffer[1]>>>0,e[0]=this.buffer[0]+t.buffer[0]>>>0,e[0]<this.buffer[0]>>>0&&++e[1],e[1]<this.buffer[1]>>>0&&++e[2],e[2]<this.buffer[2]>>>0&&++e[3],this.buffer[3]=e[3],this.buffer[2]=e[2],this.buffer[1]=e[1],this.buffer[0]=e[0],this}hex(){return"".concat(ar(this.buffer[3])," ").concat(ar(this.buffer[2])," ").concat(ar(this.buffer[1])," ").concat(ar(this.buffer[0]))}static multiply(t,e){return new dr(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new dr(new Uint32Array(t.buffer)).plus(e)}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);return dr.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);return dr.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);const i=t.startsWith("-"),n=t.length,r=new dr(e);for(let s=i?1:0;s<n;){const e=8<n-s?8:n-s,i=new dr(new Uint32Array([Number.parseInt(t.slice(s,s+e),10),0,0,0])),o=new dr(new Uint32Array([lr[e],0,0,0]));r.times(o),r.plus(i),s+=e}return i?r.negate():r}static convertArray(t){const e=new Uint32Array(4*t.length);for(let i=-1,n=t.length;++i<n;)dr.from(t[i],new Uint32Array(e.buffer,e.byteOffset+16*i,4));return e}}class fr extends te{constructor(t,e,i,n){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=e,this.buffers=i,this.dictionaries=n}visit(t){return super.visit(t instanceof Gi?t.type:t)}visitNull(t){let{length:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e})}visitBool(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitInt(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitFloat(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitUtf8(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitBinary(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitFixedSizeBinary(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitDate(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitTimestamp(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitTime(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitDecimal(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitList(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}visitStruct(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),children:this.visitMany(t.children)})}visitUnion(t){return t.mode===e.Sparse?this.visitSparseUnion(t):this.visitDenseUnion(t)}visitDenseUnion(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),typeIds:this.readTypeIds(t),valueOffsets:this.readOffsets(t),children:this.visitMany(t.children)})}visitSparseUnion(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),typeIds:this.readTypeIds(t),children:this.visitMany(t.children)})}visitDictionary(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t.indices),dictionary:this.readDictionary(t)})}visitInterval(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitFixedSizeList(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),child:this.visit(t.children[0])})}visitMap(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nextBufferRange();return e>0&&this.readData(t,i)||new Uint8Array(0)}readOffsets(t,e){return this.readData(t,e)}readTypeIds(t,e){return this.readData(t,e)}readData(t){let{length:e,offset:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return this.bytes.subarray(i,i+e)}readDictionary(t){return this.dictionaries.get(t.id)}}class pr extends fr{constructor(t,e,i,n){super(new Uint8Array(0),e,i,n),this.sources=t}readNullBitmap(t,e){let{offset:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nextBufferRange();return e<=0?new Uint8Array(0):Ii(this.sources[i])}readOffsets(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return K(Uint8Array,K(Int32Array,this.sources[e]))}readTypeIds(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return K(Uint8Array,K(t.ArrayType,this.sources[e]))}readData(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();const{sources:i}=this;return kt.isTimestamp(t)||(kt.isInt(t)||kt.isTime(t))&&64===t.bitWidth||kt.isDate(t)&&t.unit===r.MILLISECOND?K(Uint8Array,hr.convertArray(i[e])):kt.isDecimal(t)?K(Uint8Array,dr.convertArray(i[e])):kt.isBinary(t)||kt.isFixedSizeBinary(t)?function(t){const e=t.join(""),i=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)i[n>>1]=Number.parseInt(e.slice(n,n+2),16);return i}(i[e]):kt.isBool(t)?Ii(i[e]):kt.isUtf8(t)?W(i[e].join("")):K(Uint8Array,K(t.ArrayType,i[e].map((t=>+t))))}}var yr,mr,vr,br,gr,wr,_r,Sr;!function(t){t[t.BUFFER=0]="BUFFER"}(yr||(yr={})),function(t){t[t.LZ4_FRAME=0]="LZ4_FRAME",t[t.ZSTD=1]="ZSTD"}(mr||(mr={}));class Tr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBodyCompression(t,e){return(e||new Tr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,e){return t.setPosition(t.position()+4),(e||new Tr).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):mr.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):yr.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,e){t.addFieldInt8(0,e,mr.LZ4_FRAME)}static addMethod(t,e){t.addFieldInt8(1,e,yr.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,e,i){return Tr.startBodyCompression(t),Tr.addCodec(t,e),Tr.addMethod(t,i),Tr.endBodyCompression(t)}}class Ir{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,e,i){return t.prep(8,16),t.writeInt64(i),t.writeInt64(e),t.offset()}}class xr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,e,i){return t.prep(8,16),t.writeInt64(i),t.writeInt64(e),t.offset()}}class Mr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsRecordBatch(t,e){return(e||new Mr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,e){return t.setPosition(t.position()+4),(e||new Mr).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}nodes(t,e){const i=this.bb.__offset(this.bb_pos,6);return i?(e||new xr).__init(this.bb.__vector(this.bb_pos+i)+16*t,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,e){const i=this.bb.__offset(this.bb_pos,8);return i?(e||new Ir).__init(this.bb.__vector(this.bb_pos+i)+16*t,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const e=this.bb.__offset(this.bb_pos,10);return e?(t||new Tr).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addNodes(t,e){t.addFieldOffset(1,e,0)}static startNodesVector(t,e){t.startVector(16,e,8)}static addBuffers(t,e){t.addFieldOffset(2,e,0)}static startBuffersVector(t,e){t.startVector(16,e,8)}static addCompression(t,e){t.addFieldOffset(3,e,0)}static endRecordBatch(t){return t.endObject()}}class Er{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryBatch(t,e){return(e||new Er).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,e){return t.setPosition(t.position()+4),(e||new Er).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}data(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Mr).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startDictionaryBatch(t){t.startObject(3)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addData(t,e){t.addFieldOffset(1,e,0)}static addIsDelta(t,e){t.addFieldInt8(2,+e,0)}static endDictionaryBatch(t){return t.endObject()}}!function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"}(vr||(vr={}));class Nr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFloatingPoint(t,e){return(e||new Nr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,e){return t.setPosition(t.position()+4),(e||new Nr).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):vr.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,e){t.addFieldInt16(0,e,vr.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,e){return Nr.startFloatingPoint(t),Nr.addPrecision(t,e),Nr.endFloatingPoint(t)}}class Cr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDecimal(t,e){return(e||new Cr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,e){return t.setPosition(t.position()+4),(e||new Cr).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,e){t.addFieldInt32(0,e,0)}static addScale(t,e){t.addFieldInt32(1,e,0)}static addBitWidth(t,e){t.addFieldInt32(2,e,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,e,i,n){return Cr.startDecimal(t),Cr.addPrecision(t,e),Cr.addScale(t,i),Cr.addBitWidth(t,n),Cr.endDecimal(t)}}!function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"}(br||(br={}));class Dr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDate(t,e){return(e||new Dr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,e){return t.setPosition(t.position()+4),(e||new Dr).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):br.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,br.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,e){return Dr.startDate(t),Dr.addUnit(t,e),Dr.endDate(t)}}!function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"}(gr||(gr={}));class kr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTime(t,e){return(e||new kr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,e){return t.setPosition(t.position()+4),(e||new kr).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):gr.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,gr.MILLISECOND)}static addBitWidth(t,e){t.addFieldInt32(1,e,32)}static endTime(t){return t.endObject()}static createTime(t,e,i){return kr.startTime(t),kr.addUnit(t,e),kr.addBitWidth(t,i),kr.endTime(t)}}class Or{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTimestamp(t,e){return(e||new Or).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,e){return t.setPosition(t.position()+4),(e||new Or).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):gr.SECOND}timezone(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,gr.SECOND)}static addTimezone(t,e){t.addFieldOffset(1,e,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,e,i){return Or.startTimestamp(t),Or.addUnit(t,e),Or.addTimezone(t,i),Or.endTimestamp(t)}}!function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"}(wr||(wr={}));class Ar{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInterval(t,e){return(e||new Ar).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,e){return t.setPosition(t.position()+4),(e||new Ar).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):wr.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,wr.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,e){return Ar.startInterval(t),Ar.addUnit(t,e),Ar.endInterval(t)}}!function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"}(_r||(_r={}));class Br{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUnion(t,e){return(e||new Br).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,e){return t.setPosition(t.position()+4),(e||new Br).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):_r.Sparse}typeIds(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,e){t.addFieldInt16(0,e,_r.Sparse)}static addTypeIds(t,e){t.addFieldOffset(1,e,0)}static createTypeIdsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addInt32(e[i]);return t.endVector()}static startTypeIdsVector(t,e){t.startVector(4,e,4)}static endUnion(t){return t.endObject()}static createUnion(t,e,i){return Br.startUnion(t),Br.addMode(t,e),Br.addTypeIds(t,i),Br.endUnion(t)}}class Fr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeBinary(t,e){return(e||new Fr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,e){return t.setPosition(t.position()+4),(e||new Fr).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,e){return Fr.startFixedSizeBinary(t),Fr.addByteWidth(t,e),Fr.endFixedSizeBinary(t)}}class Lr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeList(t,e){return(e||new Lr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,e){return t.setPosition(t.position()+4),(e||new Lr).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,e){return Lr.startFixedSizeList(t),Lr.addListSize(t,e),Lr.endFixedSizeList(t)}}class Pr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMap(t,e){return(e||new Pr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,e){return t.setPosition(t.position()+4),(e||new Pr).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startMap(t){t.startObject(1)}static addKeysSorted(t,e){t.addFieldInt8(0,+e,0)}static endMap(t){return t.endObject()}static createMap(t,e){return Pr.startMap(t),Pr.addKeysSorted(t,e),Pr.endMap(t)}}!function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"}(Sr||(Sr={}));class Ur{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMessage(t,e){return(e||new Ur).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,e){return t.setPosition(t.position()+4),(e||new Ur).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Nn.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):Sr.NONE}header(t){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}customMetadata(t,e){const i=this.bb.__offset(this.bb_pos,12);return i?(e||new Bn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,Nn.V1)}static addHeaderType(t,e){t.addFieldInt8(1,e,Sr.NONE)}static addHeader(t,e){t.addFieldOffset(2,e,0)}static addBodyLength(t,e){t.addFieldInt64(3,e,t.createLong(0,0))}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,e){t.finish(e)}static finishSizePrefixedMessageBuffer(t,e){t.finish(e,void 0,!0)}static createMessage(t,e,i,n,r,s){return Ur.startMessage(t),Ur.addVersion(t,e),Ur.addHeaderType(t,i),Ur.addHeader(t,n),Ur.addBodyLength(t,r),Ur.addCustomMetadata(t,s),Ur.endMessage(t)}}class Rr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsNull(t,e){return(e||new Rr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,e){return t.setPosition(t.position()+4),(e||new Rr).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return Rr.startNull(t),Rr.endNull(t)}}class Vr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBinary(t,e){return(e||new Vr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,e){return t.setPosition(t.position()+4),(e||new Vr).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return Vr.startBinary(t),Vr.endBinary(t)}}class zr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBool(t,e){return(e||new zr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,e){return t.setPosition(t.position()+4),(e||new zr).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return zr.startBool(t),zr.endBool(t)}}class jr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUtf8(t,e){return(e||new jr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,e){return t.setPosition(t.position()+4),(e||new jr).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return jr.startUtf8(t),jr.endUtf8(t)}}class $r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsList(t,e){return(e||new $r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,e){return t.setPosition(t.position()+4),(e||new $r).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return $r.startList(t),$r.endList(t)}}class Wr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsStruct_(t,e){return(e||new Wr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,e){return t.setPosition(t.position()+4),(e||new Wr).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return Wr.startStruct_(t),Wr.endStruct_(t)}}var Yr=Mn;const Hr=new class extends te{visit(t,e){return null==t||null==e?void 0:super.visit(t,e)}visitNull(t,e){return Rr.startNull(e),Rr.endNull(e)}visitInt(t,e){return Fn.startInt(e),Fn.addBitWidth(e,t.bitWidth),Fn.addIsSigned(e,t.isSigned),Fn.endInt(e)}visitFloat(t,e){return Nr.startFloatingPoint(e),Nr.addPrecision(e,t.precision),Nr.endFloatingPoint(e)}visitBinary(t,e){return Vr.startBinary(e),Vr.endBinary(e)}visitBool(t,e){return zr.startBool(e),zr.endBool(e)}visitUtf8(t,e){return jr.startUtf8(e),jr.endUtf8(e)}visitDecimal(t,e){return Cr.startDecimal(e),Cr.addScale(e,t.scale),Cr.addPrecision(e,t.precision),Cr.addBitWidth(e,t.bitWidth),Cr.endDecimal(e)}visitDate(t,e){return Dr.startDate(e),Dr.addUnit(e,t.unit),Dr.endDate(e)}visitTime(t,e){return kr.startTime(e),kr.addUnit(e,t.unit),kr.addBitWidth(e,t.bitWidth),kr.endTime(e)}visitTimestamp(t,e){const i=t.timezone&&e.createString(t.timezone)||void 0;return Or.startTimestamp(e),Or.addUnit(e,t.unit),void 0!==i&&Or.addTimezone(e,i),Or.endTimestamp(e)}visitInterval(t,e){return Ar.startInterval(e),Ar.addUnit(e,t.unit),Ar.endInterval(e)}visitList(t,e){return $r.startList(e),$r.endList(e)}visitStruct(t,e){return Wr.startStruct_(e),Wr.endStruct_(e)}visitUnion(t,e){Br.startTypeIdsVector(e,t.typeIds.length);const i=Br.createTypeIdsVector(e,t.typeIds);return Br.startUnion(e),Br.addMode(e,t.mode),Br.addTypeIds(e,i),Br.endUnion(e)}visitDictionary(t,e){const i=this.visit(t.indices,e);return Ln.startDictionaryEncoding(e),Ln.addId(e,new Yr(t.id,0)),Ln.addIsOrdered(e,t.isOrdered),void 0!==i&&Ln.addIndexType(e,i),Ln.endDictionaryEncoding(e)}visitFixedSizeBinary(t,e){return Fr.startFixedSizeBinary(e),Fr.addByteWidth(e,t.byteWidth),Fr.endFixedSizeBinary(e)}visitFixedSizeList(t,e){return Lr.startFixedSizeList(e),Lr.addListSize(e,t.listSize),Lr.endFixedSizeList(e)}visitMap(t,e){return Pr.startMap(e),Pr.addKeysSorted(e,t.keysSorted),Pr.endMap(e)}};function Zr(t){return new rs(t.count,Jr(t.columns),Gr(t.columns))}function Kr(t,e){return(t.children||[]).filter(Boolean).map((t=>Gi.fromJSON(t,e)))}function Jr(t){return(t||[]).reduce(((t,e)=>{return[...t,new as(e.count,(i=e.VALIDITY,(i||[]).reduce(((t,e)=>t+ +(0===e)),0))),...Jr(e.children)];var i}),[])}function Gr(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(let i=-1,n=(t||[]).length;++i<n;){const n=t[i];n.VALIDITY&&e.push(new os(e.length,n.VALIDITY.length)),n.TYPE&&e.push(new os(e.length,n.TYPE.length)),n.OFFSET&&e.push(new os(e.length,n.OFFSET.length)),n.DATA&&e.push(new os(e.length,n.DATA.length)),e=Gr(n.children,e)}return e}function qr(t){return new Map(Object.entries(t||{}))}function Xr(t){return new At(t.isSigned,t.bitWidth)}function Qr(t,i){const a=t.type.name;switch(a){case"NONE":case"null":return new Ot;case"binary":return new Lt;case"utf8":return new Pt;case"bool":return new Ut;case"list":return new Wt((i||[])[0]);case"struct":case"struct_":return new Yt(i||[])}switch(a){case"int":{const e=t.type;return new At(e.isSigned,e.bitWidth)}case"floatingpoint":{const e=t.type;return new Ft(n[e.precision])}case"decimal":{const e=t.type;return new Rt(e.scale,e.precision,e.bitWidth)}case"date":{const e=t.type;return new Vt(r[e.unit])}case"time":{const e=t.type;return new zt(s[e.unit],e.bitWidth)}case"timestamp":{const e=t.type;return new jt(s[e.unit],e.timezone)}case"interval":{const e=t.type;return new $t(o[e.unit])}case"union":{const n=t.type;return new Ht(e[n.mode],n.typeIds||[],i||[])}case"fixedsizebinary":{const e=t.type;return new Zt(e.byteWidth)}case"fixedsizelist":{const e=t.type;return new Kt(e.listSize,(i||[])[0])}case"map":{const e=t.type;return new Jt((i||[])[0],e.keysSorted)}}throw new Error('Unrecognized type: "'.concat(a,'"'))}var ts=Mn,es=An,is=On;class ns{constructor(t,e,i,n){this._version=e,this._headerType=i,this.body=new Uint8Array(0),n&&(this._createHeader=()=>n),this._bodyLength="number"===typeof t?t:t.low}static fromJSON(e,i){const n=new ns(0,t.V4,i);return n._createHeader=function(t,e){return()=>{switch(e){case a.Schema:return Ji.fromJSON(t);case a.RecordBatch:return rs.fromJSON(t);case a.DictionaryBatch:return ss.fromJSON(t)}throw new Error("Unrecognized Message type: { name: ".concat(a[e],", type: ").concat(e," }"))}}(e,i),n}static decode(t){t=new is(G(t));const e=Ur.getRootAsMessage(t),i=e.bodyLength(),n=e.version(),r=e.headerType(),s=new ns(i,n,r);return s._createHeader=function(t,e){return()=>{switch(e){case a.Schema:return Ji.decode(t.header(new Un));case a.RecordBatch:return rs.decode(t.header(new Mr),t.version());case a.DictionaryBatch:return ss.decode(t.header(new Er),t.version())}throw new Error("Unrecognized Message type: { name: ".concat(a[e],", type: ").concat(e," }"))}}(e,r),s}static encode(e){const i=new es;let n=-1;return e.isSchema()?n=Ji.encode(i,e.header()):e.isRecordBatch()?n=rs.encode(i,e.header()):e.isDictionaryBatch()&&(n=ss.encode(i,e.header())),Ur.startMessage(i),Ur.addVersion(i,t.V4),Ur.addHeader(i,n),Ur.addHeaderType(i,e.headerType),Ur.addBodyLength(i,new ts(e.bodyLength,0)),Ur.finishMessageBuffer(i,Ur.endMessage(i)),i.asUint8Array()}static from(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e instanceof Ji)return new ns(0,t.V4,a.Schema,e);if(e instanceof rs)return new ns(i,t.V4,a.RecordBatch,e);if(e instanceof ss)return new ns(i,t.V4,a.DictionaryBatch,e);throw new Error("Unrecognized Message header: ".concat(e))}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===a.Schema}isRecordBatch(){return this.headerType===a.RecordBatch}isDictionaryBatch(){return this.headerType===a.DictionaryBatch}}class rs{constructor(t,e,i){this._nodes=e,this._buffers=i,this._length="number"===typeof t?t:t.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class ss{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._data=t,this._isDelta=i,this._id="number"===typeof e?e:e.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class os{constructor(t,e){this.offset="number"===typeof t?t:t.low,this.length="number"===typeof e?e:e.low}}class as{constructor(t,e){this.length="number"===typeof t?t:t.low,this.nullCount="number"===typeof e?e:e.low}}function ls(t,e){const i=[];for(let n,r=-1,s=-1,o=t.childrenLength();++r<o;)(n=t.children(r))&&(i[++s]=Gi.decode(n,e));return i}function us(t){const e=new Map;if(t)for(let i,n,r=-1,s=Math.trunc(t.customMetadataLength());++r<s;)(i=t.customMetadata(r))&&null!=(n=i.key())&&e.set(n,i.value());return e}function cs(t){return new At(t.isSigned(),t.bitWidth())}function hs(t,e){const i=t.typeType();switch(i){case kn.NONE:case kn.Null:return new Ot;case kn.Binary:return new Lt;case kn.Utf8:return new Pt;case kn.Bool:return new Ut;case kn.List:return new Wt((e||[])[0]);case kn.Struct_:return new Yt(e||[])}switch(i){case kn.Int:{const e=t.type(new Fn);return new At(e.isSigned(),e.bitWidth())}case kn.FloatingPoint:{const e=t.type(new Nr);return new Ft(e.precision())}case kn.Decimal:{const e=t.type(new Cr);return new Rt(e.scale(),e.precision(),e.bitWidth())}case kn.Date:{const e=t.type(new Dr);return new Vt(e.unit())}case kn.Time:{const e=t.type(new kr);return new zt(e.unit(),e.bitWidth())}case kn.Timestamp:{const e=t.type(new Or);return new jt(e.unit(),e.timezone())}case kn.Interval:{const e=t.type(new Ar);return new $t(e.unit())}case kn.Union:{const i=t.type(new Br);return new Ht(i.mode(),i.typeIdsArray()||[],e||[])}case kn.FixedSizeBinary:{const e=t.type(new Fr);return new Zt(e.byteWidth())}case kn.FixedSizeList:{const i=t.type(new Lr);return new Kt(i.listSize(),(e||[])[0])}case kn.Map:{const i=t.type(new Pr);return new Jt((e||[])[0],i.keysSorted())}}throw new Error('Unrecognized type: "'.concat(kn[i],'" (').concat(i,")"))}Gi.encode=function(t,e){let i=-1,n=-1,r=-1;const s=e.type;let o=e.typeId;kt.isDictionary(s)?(o=s.dictionary.typeId,r=Hr.visit(s,t),n=Hr.visit(s.dictionary,t)):n=Hr.visit(s,t);const a=(s.children||[]).map((e=>Gi.encode(t,e))),l=Pn.createChildrenVector(t,a),u=e.metadata&&e.metadata.size>0?Pn.createCustomMetadataVector(t,[...e.metadata].map((e=>{let[i,n]=e;const r=t.createString("".concat(i)),s=t.createString("".concat(n));return Bn.startKeyValue(t),Bn.addKey(t,r),Bn.addValue(t,s),Bn.endKeyValue(t)}))):-1;e.name&&(i=t.createString(e.name));Pn.startField(t),Pn.addType(t,n),Pn.addTypeType(t,o),Pn.addChildren(t,l),Pn.addNullable(t,!!e.nullable),-1!==i&&Pn.addName(t,i);-1!==r&&Pn.addDictionary(t,r);-1!==u&&Pn.addCustomMetadata(t,u);return Pn.endField(t)},Gi.decode=function(t,e){let i,n,r,s,o,a;e&&(a=t.dictionary())?e.has(i=a.id().low)?(s=(s=a.indexType())?cs(s):new Bt,o=new Xt(e.get(i),s,i,a.isOrdered()),n=new Gi(t.name(),o,t.nullable(),us(t))):(s=(s=a.indexType())?cs(s):new Bt,e.set(i,r=hs(t,ls(t,e))),o=new Xt(r,s,i,a.isOrdered()),n=new Gi(t.name(),o,t.nullable(),us(t))):(r=hs(t,ls(t,e)),n=new Gi(t.name(),r,t.nullable(),us(t)));return n||null},Gi.fromJSON=function(t,e){let i,n,r,s,o,a;return e&&(s=t.dictionary)?e.has(i=s.id)?(n=(n=s.indexType)?Xr(n):new Bt,a=new Xt(e.get(i),n,i,s.isOrdered),r=new Gi(t.name,a,t.nullable,qr(t.customMetadata))):(n=(n=s.indexType)?Xr(n):new Bt,e.set(i,o=Qr(t,Kr(t,e))),a=new Xt(o,n,i,s.isOrdered),r=new Gi(t.name,a,t.nullable,qr(t.customMetadata))):(o=Qr(t,Kr(t,e)),r=new Gi(t.name,o,t.nullable,qr(t.customMetadata))),r||null},Ji.encode=function(t,e){const i=e.fields.map((e=>Gi.encode(t,e)));Un.startFieldsVector(t,i.length);const n=Un.createFieldsVector(t,i),r=e.metadata&&e.metadata.size>0?Un.createCustomMetadataVector(t,[...e.metadata].map((e=>{let[i,n]=e;const r=t.createString("".concat(i)),s=t.createString("".concat(n));return Bn.startKeyValue(t),Bn.addKey(t,r),Bn.addValue(t,s),Bn.endKeyValue(t)}))):-1;Un.startSchema(t),Un.addFields(t,n),Un.addEndianness(t,ds?Cn.Little:Cn.Big),-1!==r&&Un.addCustomMetadata(t,r);return Un.endSchema(t)},Ji.decode=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;const i=function(t,e){const i=[];for(let n,r=-1,s=-1,o=t.fieldsLength();++r<o;)(n=t.fields(r))&&(i[++s]=Gi.decode(n,e));return i}(t,e);return new Ji(i,us(t),e)},Ji.fromJSON=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;return new Ji(function(t,e){return(t.fields||[]).filter(Boolean).map((t=>Gi.fromJSON(t,e)))}(t,e),qr(t.customMetadata),e)},rs.encode=function(t,e){const i=e.nodes||[],n=e.buffers||[];Mr.startNodesVector(t,i.length);for(const o of i.slice().reverse())as.encode(t,o);const r=t.endVector();Mr.startBuffersVector(t,n.length);for(const o of n.slice().reverse())os.encode(t,o);const s=t.endVector();return Mr.startRecordBatch(t),Mr.addLength(t,new ts(e.length,0)),Mr.addNodes(t,r),Mr.addBuffers(t,s),Mr.endRecordBatch(t)},rs.decode=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.V4;if(null!==e.compression())throw new Error("Record batch compression not implemented");return new rs(e.length(),function(t){const e=[];for(let i,n=-1,r=-1,s=t.nodesLength();++n<s;)(i=t.nodes(n))&&(e[++r]=as.decode(i));return e}(e),function(e,i){const n=[];for(let r,s=-1,o=-1,a=e.buffersLength();++s<a;)(r=e.buffers(s))&&(i<t.V4&&(r.bb_pos+=8*(s+1)),n[++o]=os.decode(r));return n}(e,i))},rs.fromJSON=Zr,ss.encode=function(t,e){const i=rs.encode(t,e.data);return Er.startDictionaryBatch(t),Er.addId(t,new ts(e.id,0)),Er.addIsDelta(t,e.isDelta),Er.addData(t,i),Er.endDictionaryBatch(t)},ss.decode=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.V4;return new ss(rs.decode(e.data(),i),e.id(),e.isDelta())},ss.fromJSON=function(t){return new ss(Zr(t.data),t.id,t.isDelta)},as.encode=function(t,e){return xr.createFieldNode(t,new ts(e.length,0),new ts(e.nullCount,0))},as.decode=function(t){return new as(t.length(),t.nullCount())},os.encode=function(t,e){return Ir.createBuffer(t,new ts(e.offset,0),new ts(e.length,0))},os.decode=function(t){return new os(t.offset(),t.length())};const ds=(()=>{const t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),256===new Int16Array(t)[0]})(),fs=t=>"Expected ".concat(a[t]," Message in stream, but was null or length 0."),ps=t=>"Header pointer of flatbuffer-encoded ".concat(a[t]," Message is null or length 0."),ys=(t,e)=>"Expected to read ".concat(t," metadata bytes, but only read ").concat(e,"."),ms=(t,e)=>"Expected to read ".concat(t," bytes for message body, but only read ").concat(e,".");class vs{constructor(t){this.source=t instanceof er?t:new er(t)}[Symbol.iterator](){return this}next(){let t;return(t=this.readMetadataLength()).done||-1===t.value&&(t=this.readMetadataLength()).done||(t=this.readMetadata(t.value)).done?Gn:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let e;if((e=this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(fs(t));return e.value}readMessageBody(t){if(t<=0)return new Uint8Array(0);const e=G(this.source.read(t));if(e.byteLength<t)throw new Error(ms(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}readSchema(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=a.Schema,i=this.readMessage(e),n=null===i||void 0===i?void 0:i.header();if(t&&!n)throw new Error(ps(e));return n}readMetadataLength(){const t=this.source.read(ws),e=t&&new On(t),i=(null===e||void 0===e?void 0:e.readInt32(0))||0;return{done:0===i,value:i}}readMetadata(t){const e=this.source.read(t);if(!e)return Gn;if(e.byteLength<t)throw new Error(ys(t,e.byteLength));return{done:!1,value:ns.decode(e)}}}class bs{constructor(t,e){this.source=t instanceof ir?t:N(t)?new or(t,e):new ir(t)}[Symbol.asyncIterator](){return this}next(){return F(this,void 0,void 0,(function*(){let t;return(t=yield this.readMetadataLength()).done||-1===t.value&&(t=yield this.readMetadataLength()).done||(t=yield this.readMetadata(t.value)).done?Gn:t}))}throw(t){return F(this,void 0,void 0,(function*(){return yield this.source.throw(t)}))}return(t){return F(this,void 0,void 0,(function*(){return yield this.source.return(t)}))}readMessage(t){return F(this,void 0,void 0,(function*(){let e;if((e=yield this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(fs(t));return e.value}))}readMessageBody(t){return F(this,void 0,void 0,(function*(){if(t<=0)return new Uint8Array(0);const e=G(yield this.source.read(t));if(e.byteLength<t)throw new Error(ms(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}))}readSchema(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return F(this,void 0,void 0,(function*(){const e=a.Schema,i=yield this.readMessage(e),n=null===i||void 0===i?void 0:i.header();if(t&&!n)throw new Error(ps(e));return n}))}readMetadataLength(){return F(this,void 0,void 0,(function*(){const t=yield this.source.read(ws),e=t&&new On(t),i=(null===e||void 0===e?void 0:e.readInt32(0))||0;return{done:0===i,value:i}}))}readMetadata(t){return F(this,void 0,void 0,(function*(){const e=yield this.source.read(t);if(!e)return Gn;if(e.byteLength<t)throw new Error(ys(t,e.byteLength));return{done:!1,value:ns.decode(e)}}))}}class gs extends vs{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof qn?t:new qn(t)}next(){const{_json:t}=this;if(!this._schema){this._schema=!0;return{done:!1,value:ns.fromJSON(t.schema,a.Schema)}}if(this._dictionaryIndex<t.dictionaries.length){const e=t.dictionaries[this._dictionaryIndex++];this._body=e.data.columns;return{done:!1,value:ns.fromJSON(e,a.DictionaryBatch)}}if(this._batchIndex<t.batches.length){const e=t.batches[this._batchIndex++];this._body=e.columns;return{done:!1,value:ns.fromJSON(e,a.RecordBatch)}}return this._body=[],Gn}readMessageBody(t){return function t(e){return(e||[]).reduce(((e,i)=>[...e,...i.VALIDITY&&[i.VALIDITY]||[],...i.TYPE&&[i.TYPE]||[],...i.OFFSET&&[i.OFFSET]||[],...i.DATA&&[i.DATA]||[],...t(i.children)]),[])}(this._body)}readMessage(t){let e;if((e=this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(fs(t));return e.value}readSchema(){const t=a.Schema,e=this.readMessage(t),i=null===e||void 0===e?void 0:e.header();if(!e||!i)throw new Error(ps(t));return i}}const ws=4,_s="ARROW1",Ss=new Uint8Array(6);for(let i=0;i<6;i+=1)Ss[i]=_s.codePointAt(i);function Ts(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let i=-1,n=Ss.length;++i<n;)if(Ss[i]!==t[e+i])return!1;return!0}const Is=Ss.length,xs=Is+ws,Ms=2*Is+ws;class Es extends Xn{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){const e=this._impl.open(t);return T(e)?e.then((()=>this)):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return Hn.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return Hn.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}static from(t){return t instanceof Es?t:M(t)?function(t){return new Ns(new Ps(t))}(t):N(t)?function(t){return F(this,void 0,void 0,(function*(){const{size:e}=yield t.stat(),i=new or(t,e);return e>=Ms&&Ts(yield i.readAt(0,Is+7&-8))?new ks(new Ls(i)):new Cs(new Bs(i))}))}(t):T(t)?(()=>F(this,void 0,void 0,(function*(){return yield Es.from(yield t)})))():C(t)||k(t)||O(t)||x(t)?function(t){return F(this,void 0,void 0,(function*(){const e=yield t.peek(Is+7&-8);return e&&e.byteLength>=4?Ts(e)?new Ds(new Fs(yield t.read())):new Cs(new Bs(t)):new Cs(new Bs(function(){return U(this,arguments,(function*(){}))}()))}))}(new ir(t)):function(t){const e=t.peek(Is+7&-8);return e&&e.byteLength>=4?Ts(e)?new Ds(new Fs(t.read())):new Ns(new As(t)):new Ns(new As(function*(){}()))}(new er(t))}static readAll(t){return t instanceof Es?t.isSync()?Rs(t):Vs(t):M(t)||ArrayBuffer.isView(t)||I(t)||E(t)?Rs(t):Vs(t)}}class Ns extends Es{constructor(t){super(t),this._impl=t}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return U(this,arguments,(function*(){yield P(yield*R(V(this[Symbol.iterator]())))}))}}class Cs extends Es{constructor(t){super(t),this._impl=t}readAll(){var t,e;return F(this,void 0,void 0,(function*(){const i=new Array;try{for(var n,r=V(this);!(n=yield r.next()).done;){const t=n.value;i.push(t)}}catch(s){t={error:s}}finally{try{n&&!n.done&&(e=r.return)&&(yield e.call(r))}finally{if(t)throw t.error}}return i}))}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class Ds extends Ns{constructor(t){super(t),this._impl=t}}class ks extends Cs{constructor(t){super(t),this._impl=t}}class Os{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,e){const i=this._loadVectors(t,e,this.schema.fields),n=Ki({type:new Yt(this.schema.fields),length:t.length,children:i});return new pn(this.schema,n)}_loadDictionaryBatch(t,e){const{id:i,isDelta:n}=t,{dictionaries:r,schema:s}=this,o=r.get(i);if(n||!o){const r=s.dictionaries.get(i),a=this._loadVectors(t.data,e,[r]);return(o&&n?o.concat(new Wi(a)):new Wi(a)).memoize()}return o.memoize()}_loadVectors(t,e,i){return new fr(e,t.nodes,t.buffers,this.dictionaries).visitMany(i)}}class As extends Os{constructor(t,e){super(e),this._reader=M(t)?new gs(this._handle=t):new vs(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return this.closed||(this.autoDestroy=Us(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):Gn}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):Gn}next(){if(this.closed)return Gn;let t;const{_reader:e}=this;for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header());else{if(t.isRecordBatch()){this._recordBatchIndex++;const i=t.header(),n=e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(i,n)}}if(t.isDictionaryBatch()){this._dictionaryIndex++;const i=t.header(),n=e.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(i,n);this.dictionaries.set(i.id,r)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new vn(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}}class Bs extends Os{constructor(t,e){super(e),this._reader=new bs(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return F(this,void 0,void 0,(function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}))}open(t){return F(this,void 0,void 0,(function*(){return this.closed||(this.autoDestroy=Us(this,t),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this}))}throw(t){return F(this,void 0,void 0,(function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(t):Gn}))}return(t){return F(this,void 0,void 0,(function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(t):Gn}))}next(){return F(this,void 0,void 0,(function*(){if(this.closed)return Gn;let t;const{_reader:e}=this;for(;t=yield this._readNextMessageAndValidate();)if(t.isSchema())yield this.reset(t.header());else{if(t.isRecordBatch()){this._recordBatchIndex++;const i=t.header(),n=yield e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(i,n)}}if(t.isDictionaryBatch()){this._dictionaryIndex++;const i=t.header(),n=yield e.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(i,n);this.dictionaries.set(i.id,r)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new vn(this.schema)}):yield this.return()}))}_readNextMessageAndValidate(t){return F(this,void 0,void 0,(function*(){return yield this._reader.readMessage(t)}))}}class Fs extends As{constructor(t,e){super(t instanceof sr?t:new sr(t),e)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const t of this._footer.dictionaryBatches())t&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(t)}readRecordBatch(t){var e;if(this.closed)return null;this._footer||this.open();const i=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(t);if(i&&this._handle.seek(i.offset)){const t=this._reader.readMessage(a.RecordBatch);if(null===t||void 0===t?void 0:t.isRecordBatch()){const e=t.header(),i=this._reader.readMessageBody(t.bodyLength);return this._loadRecordBatch(e,i)}}return null}_readDictionaryBatch(t){var e;const i=null===(e=this._footer)||void 0===e?void 0:e.getDictionaryBatch(t);if(i&&this._handle.seek(i.offset)){const t=this._reader.readMessage(a.DictionaryBatch);if(null===t||void 0===t?void 0:t.isDictionaryBatch()){const e=t.header(),i=this._reader.readMessageBody(t.bodyLength),n=this._loadDictionaryBatch(e,i);this.dictionaries.set(e.id,n)}}}_readFooter(){const{_handle:t}=this,e=t.size-xs,i=t.readInt32(e),n=t.readAt(e-i,i);return $n.decode(n)}_readNextMessageAndValidate(t){var e;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const i=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(this._recordBatchIndex);if(i&&this._handle.seek(i.offset))return this._reader.readMessage(t)}return null}}class Ls extends Bs{constructor(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];const r="number"!==typeof i[0]?i.shift():void 0,s=i[0]instanceof Map?i.shift():void 0;super(t instanceof or?t:new or(t,r),s)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(t){const e=Object.create(null,{open:{get:()=>super.open}});return F(this,void 0,void 0,(function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const t of this._footer.dictionaryBatches())t&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield e.open.call(this,t)}))}readRecordBatch(t){var e;return F(this,void 0,void 0,(function*(){if(this.closed)return null;this._footer||(yield this.open());const i=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(t);if(i&&(yield this._handle.seek(i.offset))){const t=yield this._reader.readMessage(a.RecordBatch);if(null===t||void 0===t?void 0:t.isRecordBatch()){const e=t.header(),i=yield this._reader.readMessageBody(t.bodyLength);return this._loadRecordBatch(e,i)}}return null}))}_readDictionaryBatch(t){var e;return F(this,void 0,void 0,(function*(){const i=null===(e=this._footer)||void 0===e?void 0:e.getDictionaryBatch(t);if(i&&(yield this._handle.seek(i.offset))){const t=yield this._reader.readMessage(a.DictionaryBatch);if(null===t||void 0===t?void 0:t.isDictionaryBatch()){const e=t.header(),i=yield this._reader.readMessageBody(t.bodyLength),n=this._loadDictionaryBatch(e,i);this.dictionaries.set(e.id,n)}}}))}_readFooter(){return F(this,void 0,void 0,(function*(){const{_handle:t}=this;t._pending&&(yield t._pending);const e=t.size-xs,i=yield t.readInt32(e),n=yield t.readAt(e-i,i);return $n.decode(n)}))}_readNextMessageAndValidate(t){return F(this,void 0,void 0,(function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const e=this._footer.getRecordBatch(this._recordBatchIndex);if(e&&(yield this._handle.seek(e.offset)))return yield this._reader.readMessage(t)}return null}))}}class Ps extends As{constructor(t,e){super(t,e)}_loadVectors(t,e,i){return new pr(e,t.nodes,t.buffers,this.dictionaries).visitMany(i)}}function Us(t,e){return e&&"boolean"===typeof e.autoDestroy?e.autoDestroy:t.autoDestroy}function*Rs(t){const e=Es.from(t);try{if(!e.open({autoDestroy:!1}).closed)do{yield e}while(!e.reset().open().closed)}finally{e.cancel()}}function Vs(t){return U(this,arguments,(function*(){const e=yield P(Es.from(t));try{if(!(yield P(e.open({autoDestroy:!1}))).closed)do{yield yield P(e)}while(!(yield P(e.reset().open())).closed)}finally{yield P(e.cancel())}}))}class zs extends te{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(){const t=e=>e.flatMap((e=>Array.isArray(e)?t(e):e instanceof pn?e.data.children:e.data)),e=new zs;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return e.visitMany(t(n)),e}visit(t){if(t instanceof Wi)return this.visitMany(t.data),this;const{type:e}=t;if(!kt.isDictionary(e)){const{length:i,nullCount:n}=t;if(i>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");kt.isNull(e)||js.call(this,n<=0?new Uint8Array(0):Ti(t.offset,i,t.nullBitmap)),this.nodes.push(new as(i,n))}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function js(t){const e=t.byteLength+7&-8;return this.buffers.push(t),this.bufferRegions.push(new os(this._byteLength,e)),this._byteLength+=e,this}function $s(t){return js.call(this,t.values.subarray(0,t.length*t.stride))}function Ws(t){const{length:e,values:i,valueOffsets:n}=t,r=n[0],s=n[e],o=Math.min(s-r,i.byteLength-r);return js.call(this,tt(-n[0],e,n)),js.call(this,i.subarray(r,r+o)),this}function Ys(t){const{length:e,valueOffsets:i}=t;return i&&js.call(this,tt(i[0],e,i)),this.visit(t.children[0])}function Hs(t){return this.visitMany(t.type.children.map(((e,i)=>t.children[i])).filter(Boolean))[0]}zs.prototype.visitBool=function(t){let e;return t.nullCount>=t.length?js.call(this,new Uint8Array(0)):(e=t.values)instanceof Uint8Array?js.call(this,Ti(t.offset,t.length,e)):js.call(this,Ii(t.values))},zs.prototype.visitInt=$s,zs.prototype.visitFloat=$s,zs.prototype.visitUtf8=Ws,zs.prototype.visitBinary=Ws,zs.prototype.visitFixedSizeBinary=$s,zs.prototype.visitDate=$s,zs.prototype.visitTimestamp=$s,zs.prototype.visitTime=$s,zs.prototype.visitDecimal=$s,zs.prototype.visitList=Ys,zs.prototype.visitStruct=Hs,zs.prototype.visitUnion=function(t){const{type:i,length:n,typeIds:r,valueOffsets:s}=t;if(js.call(this,r),i.mode===e.Sparse)return Hs.call(this,t);if(i.mode===e.Dense){if(t.offset<=0)return js.call(this,s),Hs.call(this,t);{const e=r.reduce(((t,e)=>Math.max(t,e)),r[0]),o=new Int32Array(e+1),a=new Int32Array(e+1).fill(-1),l=new Int32Array(n),u=tt(-s[0],n,s);for(let t,i,s=-1;++s<n;)-1===(i=a[t=r[s]])&&(i=a[t]=u[t]),l[s]=u[s]-i,++o[t];js.call(this,l);for(let r,s=-1,c=i.children.length;++s<c;)if(r=t.children[s]){const t=i.typeIds[s],e=Math.min(n,o[t]);this.visit(r.slice(a[t],e))}}}return this},zs.prototype.visitInterval=$s,zs.prototype.visitFixedSizeList=Ys,zs.prototype.visitMap=Ys;class Zs extends Xn{constructor(t){super(),this._position=0,this._started=!1,this._sink=new tr,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,S(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy="boolean"!==typeof t.autoDestroy||t.autoDestroy,this._writeLegacyIpcFormat="boolean"===typeof t.writeLegacyIpcFormat&&t.writeLegacyIpcFormat}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}toString(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sink.toString(t)}toUint8Array(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sink.toUint8Array(t)}writeAll(t){return T(t)?t.then((t=>this.writeAll(t))):x(t)?qs(this,t):Gs(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._sink,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t===this._sink||t instanceof tr?this._sink=t:(this._sink=new tr,t&&(t=>S(t)&&_(t.abort)&&_(t.getWriter)&&!D(t))(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&(t=>S(t)&&_(t.end)&&_(t.write)&&w(t.writable)&&!D(t))(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,e&&hn(e,this._schema)||(null==e?(this._position=0,this._schema=null):(this._started=!0,this._schema=e,this._writeSchema(e))),this}write(t){let e=null;if(!this._sink)throw new Error("RecordBatchWriter is closed");if(null==t)return this.finish()&&void 0;if(t instanceof wn&&!(e=t.schema))return this.finish()&&void 0;if(t instanceof pn&&!(e=t.schema))return this.finish()&&void 0;if(e&&!hn(e,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,e)}t instanceof pn?t instanceof vn||this._writeRecordBatch(t):t instanceof wn?this.writeAll(t.batches):I(t)&&this.writeAll(t)}_writeMessage(t){const e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:8)-1,i=ns.encode(t),n=i.byteLength,r=this._writeLegacyIpcFormat?4:8,s=n+r+e&~e,o=s-n-r;return t.headerType===a.RecordBatch?this._recordBatchBlocks.push(new Yn(s,t.bodyLength,this._position)):t.headerType===a.DictionaryBatch&&this._dictionaryBlocks.push(new Yn(s,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(s-r)),n>0&&this._write(i),this._writePadding(o)}_write(t){if(this._started){const e=G(t);e&&e.byteLength>0&&(this._sink.write(e),this._position+=e.byteLength)}return this}_writeSchema(t){return this._writeMessage(ns.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(Ss)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:e,nodes:i,bufferRegions:n,buffers:r}=zs.assemble(t),s=new rs(t.numRows,i,n),o=ns.from(s,e);return this._writeDictionaries(t)._writeMessage(o)._writeBodyBuffers(r)}_writeDictionaryBatch(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._dictionaryDeltaOffsets.set(e,t.length+(this._dictionaryDeltaOffsets.get(e)||0));const{byteLength:n,nodes:r,bufferRegions:s,buffers:o}=zs.assemble(new Wi([t])),a=new rs(t.length,r,s),l=new ss(a,e,i),u=ns.from(l,n);return this._writeMessage(u)._writeBodyBuffers(o)}_writeBodyBuffers(t){let e,i,n;for(let r=-1,s=t.length;++r<s;)(e=t[r])&&(i=e.byteLength)>0&&(this._write(e),(n=(i+7&-8)-i)>0&&this._writePadding(n));return this}_writeDictionaries(t){for(let[e,i]of t.dictionaries){let t=this._dictionaryDeltaOffsets.get(e)||0;if(0===t||(i=null===i||void 0===i?void 0:i.slice(t)).length>0)for(const n of i.data)this._writeDictionaryBatch(n,e,t>0),t+=n.length}return this}}class Ks extends Zs{static writeAll(t,e){const i=new Ks(e);return T(t)?t.then((t=>i.writeAll(t))):x(t)?qs(i,t):Gs(i,t)}}class Js extends Zs{static writeAll(t){const e=new Js;return T(t)?t.then((t=>e.writeAll(t))):x(t)?qs(e,t):Gs(e,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(e){const i=$n.encode(new $n(e,t.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(i)._write(Int32Array.of(i.byteLength))._writeMagic()}}function Gs(t,e){let i=e;e instanceof wn&&(i=e.batches,t.reset(void 0,e.schema));for(const n of i)t.write(n);return t.finish()}function qs(t,e){var i,n,r,s;return F(this,void 0,void 0,(function*(){try{for(i=V(e);!(n=yield i.next()).done;){const e=n.value;t.write(e)}}catch(o){r={error:o}}finally{try{n&&!n.done&&(s=i.return)&&(yield s.call(i))}finally{if(r)throw r.error}}return t.finish()}))}function Xs(t){const e=Es.from(t);return T(e)?e.then((t=>Xs(t))):e.isAsync()?e.readAll().then((t=>new wn(t))):new wn(e.readAll())}function Qs(t){return("stream"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"stream")?Ks:Js).writeAll(t).toUint8Array(!0)}var to,eo=function(){function t(t,e,i,n){var r=this;this.getCell=function(t,e){var i=t<r.headerRows&&e<r.headerColumns,n=t>=r.headerRows&&e<r.headerColumns,s=t<r.headerRows&&e>=r.headerColumns;if(i){var o=["blank"];return e>0&&o.push("level"+t),{type:"blank",classNames:o.join(" "),content:""}}if(s)return{type:"columns",classNames:(o=["col_heading","level"+t,"col"+(l=e-r.headerColumns)]).join(" "),content:r.getContent(r.columnsTable,l,t)};if(n){o=["row_heading","level"+e,"row"+(a=t-r.headerRows)];return{type:"index",id:"T_".concat(r.uuid,"level").concat(e,"_row").concat(a),classNames:o.join(" "),content:r.getContent(r.indexTable,a,e)}}o=["data","row"+(a=t-r.headerRows),"col"+(l=e-r.headerColumns)];var a,l,u=r.styler?r.getContent(r.styler.displayValuesTable,a,l):r.getContent(r.dataTable,a,l);return{type:"data",id:"T_".concat(r.uuid,"row").concat(a,"_col").concat(l),classNames:o.join(" "),content:u}},this.getContent=function(t,e,i){var n=t.getChildAt(i);return null===n?"":r.getColumnTypeId(t,i)===l.Timestamp?r.nanosToDate(n.get(e)):n.get(e)},this.dataTable=Xs(t),this.indexTable=Xs(e),this.columnsTable=Xs(i),this.styler=n?{caption:n.caption,displayValuesTable:Xs(n.displayValues),styles:n.styles,uuid:n.uuid}:void 0}return Object.defineProperty(t.prototype,"rows",{get:function(){return this.indexTable.numRows+this.columnsTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this.indexTable.numCols+this.columnsTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerRows",{get:function(){return this.rows-this.dataRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerColumns",{get:function(){return this.columns-this.dataColumns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataRows",{get:function(){return this.dataTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataColumns",{get:function(){return this.dataTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uuid",{get:function(){return this.styler&&this.styler.uuid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"caption",{get:function(){return this.styler&&this.styler.caption},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styles",{get:function(){return this.styler&&this.styler.styles},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"table",{get:function(){return this.dataTable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.indexTable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnTable",{get:function(){return this.columnsTable},enumerable:!1,configurable:!0}),t.prototype.serialize=function(){return{data:Qs(this.dataTable),index:Qs(this.indexTable),columns:Qs(this.columnsTable)}},t.prototype.getColumnTypeId=function(t,e){return t.schema.fields[e].type.typeId},t.prototype.nanosToDate=function(t){return new Date(t/1e6)},t}(),io=function(){return io=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},io.apply(this,arguments)};!function(t){t.COMPONENT_READY="streamlit:componentReady",t.SET_COMPONENT_VALUE="streamlit:setComponentValue",t.SET_FRAME_HEIGHT="streamlit:setFrameHeight"}(to||(to={}));var no=function(){function t(){}return t.API_VERSION=1,t.RENDER_EVENT="streamlit:render",t.events=new EventTarget,t.registeredMessageListener=!1,t.setComponentReady=function(){t.registeredMessageListener||(window.addEventListener("message",t.onMessageEvent),t.registeredMessageListener=!0),t.sendBackMsg(to.COMPONENT_READY,{apiVersion:t.API_VERSION})},t.setFrameHeight=function(e){void 0===e&&(e=document.body.scrollHeight),e!==t.lastFrameHeight&&(t.lastFrameHeight=e,t.sendBackMsg(to.SET_FRAME_HEIGHT,{height:e}))},t.setComponentValue=function(e){var i;e instanceof eo?(i="dataframe",e=e.serialize()):!function(t){var e=!1;try{e=t instanceof BigInt64Array||t instanceof BigUint64Array}catch(fo){}return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array||e}(e)?e instanceof ArrayBuffer?(i="bytes",e=new Uint8Array(e)):i="json":(i="bytes",e=new Uint8Array(e.buffer)),t.sendBackMsg(to.SET_COMPONENT_VALUE,{value:e,dataType:i})},t.onMessageEvent=function(e){if(e.data.type===t.RENDER_EVENT)t.onRenderMessage(e.data)},t.onRenderMessage=function(e){var i=e.args;null==i&&(console.error("Got null args in onRenderMessage. This should never happen"),i={});var n=e.dfs&&e.dfs.length>0?t.argsDataframeToObject(e.dfs):{};i=io(io({},i),n);var r=Boolean(e.disabled),s=e.theme;s&&ro(s);var o={disabled:r,args:i,theme:s},a=new CustomEvent(t.RENDER_EVENT,{detail:o});t.events.dispatchEvent(a)},t.argsDataframeToObject=function(e){var i=e.map((function(e){var i=e.key,n=e.value;return[i,t.toArrowTable(n)]}));return Object.fromEntries(i)},t.toArrowTable=function(t){var e,i=(e=t.data).data,n=e.index,r=e.columns,s=e.styler;return new eo(i,n,r,s)},t.sendBackMsg=function(t,e){window.parent.postMessage(io({isStreamlitMessage:!0,type:t},e),"*")},t}(),ro=function(t){var e=document.createElement("style");document.head.appendChild(e),e.innerHTML="\n    :root {\n      --primary-color: ".concat(t.primaryColor,";\n      --background-color: ").concat(t.backgroundColor,";\n      --secondary-background-color: ").concat(t.secondaryBackgroundColor,";\n      --text-color: ").concat(t.textColor,";\n      --font: ").concat(t.font,";\n    }\n\n    body {\n      background-color: var(--background-color);\n      color: var(--text-color);\n    }\n  ")};var so=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}so(e,t),e.prototype.componentDidMount=function(){no.setFrameHeight()},e.prototype.componentDidUpdate=function(){no.setFrameHeight()}}(c.PureComponent);var oo={allowDownsampling:!0};var ao,lo,uo,co=function(){function t(t,e){var i=this;this._resolutionMediaQueryList=null,this._resolutionListener=function(t){return i._onResolutionChanged()},this._canvasConfiguredListeners=[],this.canvas=t,this._canvasSize={width:this.canvas.clientWidth,height:this.canvas.clientHeight},this._options=e,this._configureCanvas(),this._installResolutionListener()}return t.prototype.destroy=function(){this._canvasConfiguredListeners.length=0,this._uninstallResolutionListener(),this.canvas=null},Object.defineProperty(t.prototype,"canvasSize",{get:function(){return{width:this._canvasSize.width,height:this._canvasSize.height}},enumerable:!0,configurable:!0}),t.prototype.resizeCanvas=function(t){this._canvasSize={width:t.width,height:t.height},this._configureCanvas()},Object.defineProperty(t.prototype,"pixelRatio",{get:function(){var t=this.canvas.ownerDocument.defaultView;if(null==t)throw new Error("No window is associated with the canvas");return t.devicePixelRatio>1||this._options.allowDownsampling?t.devicePixelRatio:1},enumerable:!0,configurable:!0}),t.prototype.subscribeCanvasConfigured=function(t){this._canvasConfiguredListeners.push(t)},t.prototype.unsubscribeCanvasConfigured=function(t){this._canvasConfiguredListeners=this._canvasConfiguredListeners.filter((function(e){return e!=t}))},t.prototype._configureCanvas=function(){var t=this.pixelRatio;this.canvas.style.width=this._canvasSize.width+"px",this.canvas.style.height=this._canvasSize.height+"px",this.canvas.width=this._canvasSize.width*t,this.canvas.height=this._canvasSize.height*t,this._emitCanvasConfigured()},t.prototype._emitCanvasConfigured=function(){var t=this;this._canvasConfiguredListeners.forEach((function(e){return e.call(t)}))},t.prototype._installResolutionListener=function(){if(null!==this._resolutionMediaQueryList)throw new Error("Resolution listener is already installed");var t=this.canvas.ownerDocument.defaultView;if(null==t)throw new Error("No window is associated with the canvas");var e=t.devicePixelRatio;this._resolutionMediaQueryList=t.matchMedia("all and (resolution: "+e+"dppx)"),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){null!==this._resolutionMediaQueryList&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){this._configureCanvas(),this._reinstallResolutionListener()},t}();function ho(t,e){const i={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(i)}function fo(t,e,i,n){t.beginPath();const r=t.lineWidth%2?.5:0;t.moveTo(i,e+r),t.lineTo(n,e+r),t.stroke()}function po(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function yo(t){if(void 0===t)throw new Error("Value is undefined");return t}function mo(t){if(null===t)throw new Error("Value is null");return t}function vo(t){return mo(yo(t))}(uo=ao||(ao={}))[uo.Simple=0]="Simple",uo[uo.WithSteps=1]="WithSteps",uo[uo.Curved=2]="Curved",function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(lo||(lo={}));const bo={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function go(t){return t<0?0:t>255?255:Math.round(t)||0}function wo(t){return t<=0||t>0?t<0?0:t>1?1:Math.round(1e4*t)/1e4:0}const _o=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,So=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,To=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,Io=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?[\d]{0,10}(?:\.\d+)?)\s*\)$/;function xo(t){(t=t.toLowerCase())in bo&&(t=bo[t]);{const e=Io.exec(t)||To.exec(t);if(e)return[go(parseInt(e[1],10)),go(parseInt(e[2],10)),go(parseInt(e[3],10)),wo(e.length<5?1:parseFloat(e[4]))]}{const e=So.exec(t);if(e)return[go(parseInt(e[1],16)),go(parseInt(e[2],16)),go(parseInt(e[3],16)),1]}{const e=_o.exec(t);if(e)return[go(17*parseInt(e[1],16)),go(17*parseInt(e[2],16)),go(17*parseInt(e[3],16)),1]}throw new Error("Cannot parse color: ".concat(t))}function Mo(t){const e=xo(t);return{t:"rgb(".concat(e[0],", ").concat(e[1],", ").concat(e[2],")"),i:(i=e,.199*i[0]+.687*i[1]+.114*i[2]>160?"black":"white")};var i}class Eo{constructor(){this.h=[]}l(t,e,i){const n={o:t,_:e,u:!0===i};this.h.push(n)}p(t){const e=this.h.findIndex((e=>t===e.o));e>-1&&this.h.splice(e,1)}v(t){this.h=this.h.filter((e=>e._!==t))}m(t,e){const i=[...this.h];this.h=this.h.filter((t=>!t.u)),i.forEach((i=>i.o(t,e)))}M(){return this.h.length>0}S(){this.h=[]}}function No(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];for(const r of i)for(const e in r)void 0!==r[e]&&("object"!=typeof r[e]||void 0===t[e]?t[e]=r[e]:No(t[e],r[e]));return t}function Co(t){return"number"==typeof t&&isFinite(t)}function Do(t){return"number"==typeof t&&t%1==0}function ko(t){return"string"==typeof t}function Oo(t){return"boolean"==typeof t}function Ao(t){const e=t;if(!e||"object"!=typeof e)return e;let i,n,r;for(n in i=Array.isArray(e)?[]:{},e)e.hasOwnProperty(n)&&(r=e[n],i[n]=r&&"object"==typeof r?Ao(r):r);return i}function Bo(t){return null!==t}function Fo(t){return null===t?void 0:t}const Lo="'Trebuchet MS', Roboto, Ubuntu, sans-serif";function Po(t,e,i){return void 0===e&&(e=Lo),"".concat(i=void 0!==i?"".concat(i," "):"").concat(t,"px ").concat(e)}class Uo{constructor(t){this.k={C:1,T:4,P:NaN,D:"",O:"",I:"",N:0,R:0,A:0,L:0,V:0},this.B=t}F(){const t=this.k,e=this.W(),i=this.j();return t.P===e&&t.O===i||(t.P=e,t.O=i,t.D=Po(e,i),t.L=Math.floor(e/3.5),t.N=t.L,t.R=Math.max(Math.ceil(e/2-t.T/2),0),t.A=Math.ceil(e/2+t.T/2),t.V=Math.round(e/10)),t.I=this.$(),this.k}$(){return this.B.F().layout.textColor}W(){return this.B.F().layout.fontSize}j(){return this.B.F().layout.fontFamily}}class Ro{constructor(){this.H=[]}U(t){this.H=t}q(t,e,i,n){this.H.forEach((r=>{t.save(),r.q(t,e,i,n),t.restore()}))}}class Vo{q(t,e,i,n){t.save(),t.scale(e,e),this.Y(t,i,n),t.restore()}X(t,e,i,n){t.save(),t.scale(e,e),this.K(t,i,n),t.restore()}K(t,e,i){}}class zo extends Vo{constructor(){super(...arguments),this.Z=null}G(t){this.Z=t}Y(t){if(null===this.Z||null===this.Z.J)return;const e=this.Z.J,i=this.Z,n=n=>{t.beginPath();for(let r=e.to-1;r>=e.from;--r){const e=i.tt[r];t.moveTo(e.it,e.st),t.arc(e.it,e.st,n,0,2*Math.PI)}t.fill()};t.fillStyle=i.nt,n(i.et+2),t.fillStyle=i.rt,n(i.et)}}function jo(){return{tt:[{it:0,st:0,ht:0,lt:0}],rt:"",nt:"",et:0,J:null}}const $o={from:0,to:1};class Wo{constructor(t,e){this.ot=new Ro,this._t=[],this.ut=[],this.ct=new Map,this.B=t,this.dt=e,this.ot.U(this._t)}ft(t){const e=this.B.vt();e.length!==this._t.length&&(this.ut=e.map(jo),this._t=this.ut.map((t=>{const e=new zo;return e.G(t),e})),this.ot.U(this._t)),this.ct.clear()}wt(t,e,i,n){let r=this.ct.get(i);if(!r){r=this.bt(i,t),this.ct.set(i,r);const e=new Ro;return e.U(r),e}const s=new Ro;return s.U(r),s}bt(t,e){const i=this.B.vt().map(((t,e)=>[t,e])).filter((e=>t.gt().includes(e[0]))),n=this.dt.Mt(),r=this.B.St();return i.map((t=>{let[i,s]=t;var o;const a=this.ut[s],l=i.yt(n);if(null!==l&&i.kt()){const t=mo(i.xt());a.rt=l.Ct,a.et=l.et,a.tt[0].lt=l.lt,a.tt[0].st=i.Pt().Tt(l.lt,t.Dt),a.nt=null!==(o=l.Et)&&void 0!==o?o:this.B.Ot(a.tt[0].st/e),a.tt[0].ht=n,a.tt[0].it=r.It(n),a.J=$o}else a.J=null;return this._t[s]}))}}class Yo{constructor(t){this.Nt=t}q(t,e,i,n){if(null===this.Nt)return;const r=this.Nt.Rt.kt,s=this.Nt.At.kt;if(!r&&!s)return;t.save();const o=Math.round(this.Nt.it*e),a=Math.round(this.Nt.st*e),l=Math.ceil(this.Nt.Lt*e),u=Math.ceil(this.Nt.Vt*e);t.lineCap="butt",r&&o>=0&&(t.lineWidth=Math.floor(this.Nt.Rt.Bt*e),t.strokeStyle=this.Nt.Rt.I,t.fillStyle=this.Nt.Rt.I,ho(t,this.Nt.Rt.Ft),function(t,e,i,n){t.beginPath();const r=t.lineWidth%2?.5:0;t.moveTo(e+r,0),t.lineTo(e+r,n),t.stroke()}(t,o,0,u)),s&&a>=0&&(t.lineWidth=Math.floor(this.Nt.At.Bt*e),t.strokeStyle=this.Nt.At.I,t.fillStyle=this.Nt.At.I,ho(t,this.Nt.At.Ft),fo(t,a,0,l)),t.restore()}}class Ho{constructor(t){this.ct=new Map,this.zt={Rt:{Bt:1,Ft:0,I:"",kt:!1},At:{Bt:1,Ft:0,I:"",kt:!1},Lt:0,Vt:0,it:0,st:0},this.Wt=new Yo(this.zt),this.jt=t}ft(){this.ct.clear()}wt(t,e,i){return this.bt(i),this.Wt}bt(t){const e=this.jt.kt(),i=mo(this.jt.Ht()).$t().F().crosshair,n=this.zt;n.At.kt=e&&this.jt.Ut(t),n.Rt.kt=e&&this.jt.qt(),n.At.Bt=i.horzLine.width,n.At.Ft=i.horzLine.style,n.At.I=i.horzLine.color,n.Rt.Bt=i.vertLine.width,n.Rt.Ft=i.vertLine.style,n.Rt.I=i.vertLine.color,n.Lt=t.Yt(),n.Vt=t.Xt(),n.it=this.jt.Kt(),n.st=this.jt.Zt()}}function Zo(t,e,i,n,r,s){t.fillRect(e+s,i,n-2*s,s),t.fillRect(e+s,i+r-s,n-2*s,s),t.fillRect(e,i,s,r),t.fillRect(e+n-s,i,s,r)}function Ko(t,e,i){t.save(),t.scale(e,e),i(),t.restore()}function Jo(t,e,i,n,r,s){t.save(),t.globalCompositeOperation="copy",t.fillStyle=s,t.fillRect(e,i,n,r),t.restore()}function Go(t,e,i,n,r,s,o){t.save(),t.globalCompositeOperation="copy";const a=t.createLinearGradient(0,0,0,r);a.addColorStop(0,s),a.addColorStop(1,o),t.fillStyle=a,t.fillRect(e,i,n,r),t.restore()}class qo{constructor(t,e){this.G(t,e)}G(t,e){this.Nt=t,this.Gt=e}q(t,e,i,n,r,s){if(!this.Nt.kt)return;t.font=e.D;const o=this.Nt.Jt||!this.Nt.Qt?e.T:0,a=e.C,l=e.L,u=e.N,c=e.R,h=e.A,d=this.Nt.ti,f=Math.ceil(i.ii(t,d)),p=e.V,y=e.P+l+u,m=Math.ceil(.5*y),v=a+f+c+h+o;let b=this.Gt.si;this.Gt.ni&&(b=this.Gt.ni),b=Math.round(b);const g=b-m,w=g+y,_="right"===r,S=_?n:0,T=Math.ceil(n*s);let I,x,M=S;if(t.fillStyle=this.Gt.t,t.lineWidth=1,t.lineCap="butt",d){_?(M=S-v,I=S-o,x=M+h):(M=S+v,I=S+o,x=S+a+o+c);const e=Math.max(1,Math.floor(s)),i=Math.max(1,Math.floor(a*s)),n=_?T:0,r=Math.round(g*s),l=Math.round(M*s),f=Math.round(b*s)-Math.floor(.5*s),y=f+e+(f-r),m=Math.round(I*s);t.save(),t.beginPath(),t.moveTo(n,r),t.lineTo(l,r),t.lineTo(l,y),t.lineTo(n,y),t.fill(),t.fillStyle=this.Nt.Et,t.fillRect(_?T-i:0,r,i,y-r),this.Nt.Jt&&(t.fillStyle=this.Gt.I,t.fillRect(n,f,m-n,e)),t.textAlign="left",t.fillStyle=this.Gt.I,Ko(t,s,(()=>{t.fillText(d,x,w-u-p)})),t.restore()}}Xt(t,e){return this.Nt.kt?t.P+t.L+t.N:0}}class Xo{constructor(t){this.ei={si:0,I:"#FFF",t:"#000"},this.ri={ti:"",kt:!1,Jt:!0,Qt:!1,Et:""},this.hi={ti:"",kt:!1,Jt:!1,Qt:!0,Et:""},this.li=!0,this.ai=new(t||qo)(this.ri,this.ei),this.oi=new(t||qo)(this.hi,this.ei)}ti(){return this._i(),this.ri.ti}si(){return this._i(),this.ei.si}ft(){this.li=!0}Xt(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Math.max(this.ai.Xt(t,e),this.oi.Xt(t,e))}ui(){return this.ei.ni||0}ci(t){this.ei.ni=t}di(){return this._i(),this.ri.kt||this.hi.kt}fi(){return this._i(),this.ri.kt}wt(t){return this._i(),this.ri.Jt=this.ri.Jt&&t.F().ticksVisible,this.hi.Jt=this.hi.Jt&&t.F().ticksVisible,this.ai.G(this.ri,this.ei),this.oi.G(this.hi,this.ei),this.ai}pi(){return this._i(),this.ai.G(this.ri,this.ei),this.oi.G(this.hi,this.ei),this.oi}_i(){this.li&&(this.ri.Jt=!0,this.hi.Jt=!1,this.vi(this.ri,this.hi,this.ei))}}class Qo extends Xo{constructor(t,e,i){super(),this.jt=t,this.mi=e,this.wi=i}vi(t,e,i){t.kt=!1;const n=this.jt.F().horzLine;if(!n.labelVisible)return;const r=this.mi.xt();if(!this.jt.kt()||this.mi.bi()||null===r)return;const s=Mo(n.labelBackgroundColor);i.t=s.t,i.I=s.i;const o=this.wi(this.mi);i.si=o.si,t.ti=this.mi.gi(o.lt,r),t.kt=!0}}const ta=/[1-9]/g;class ea{constructor(){this.Nt=null}G(t){this.Nt=t}q(t,e,i){if(null===this.Nt||!1===this.Nt.kt||0===this.Nt.ti.length)return;t.font=e.D;const n=Math.round(e.Mi.ii(t,this.Nt.ti,ta));if(n<=0)return;t.save();const r=e.Si,s=n+2*r,o=s/2,a=this.Nt.Yt;let l=this.Nt.si,u=Math.floor(l-o)+.5;u<0?(l+=Math.abs(0-u),u=Math.floor(l-o)+.5):u+s>a&&(l-=Math.abs(a-(u+s)),u=Math.floor(l-o)+.5);const c=u+s,h=0+e.C+e.L+e.P+e.N;t.fillStyle=this.Nt.t;const d=Math.round(u*i),f=Math.round(0*i),p=Math.round(c*i),y=Math.round(h*i);if(t.fillRect(d,f,p-d,y-f),this.Nt.Jt){const n=Math.round(this.Nt.si*i),r=f,s=Math.round((r+e.C+e.T)*i);t.fillStyle=this.Nt.I;const o=Math.max(1,Math.floor(i)),a=Math.floor(.5*i);t.fillRect(n-a,r,o,s-r)}const m=h-e.V-e.N;t.textAlign="left",t.fillStyle=this.Nt.I,Ko(t,i,(()=>{t.fillText(mo(this.Nt).ti,u+r,m)})),t.restore()}}class ia{constructor(t,e,i){this.li=!0,this.Wt=new ea,this.zt={kt:!1,t:"#4c525e",I:"white",ti:"",Yt:0,si:NaN,Jt:!0},this.dt=t,this.yi=e,this.wi=i}ft(){this.li=!0}wt(){return this.li&&(this.bt(),this.li=!1),this.Wt.G(this.zt),this.Wt}bt(){const t=this.zt;t.kt=!1;const e=this.dt.F().vertLine;if(!e.labelVisible)return;const i=this.yi.St();if(i.bi())return;t.Yt=i.Yt();const n=this.wi();if(!n.ht)return;t.si=n.si;const r=i.ki(this.dt.Mt());t.ti=i.xi(mo(r)),t.kt=!0;const s=Mo(e.labelBackgroundColor);t.t=s.t,t.I=s.i,t.Jt=i.F().ticksVisible}}class na{constructor(){this.Ci=null,this.Ti=0}Pi(){return this.Ti}Di(t){this.Ti=t}Pt(){return this.Ci}Ei(t){this.Ci=t}Oi(t){return[]}Ii(){return[]}kt(){return!0}}var ra;!function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet"}(ra||(ra={}));class sa extends na{constructor(t,e){super(),this.Ni=null,this.Ri=NaN,this.Ai=0,this.Li=!0,this.Vi=new Map,this.Bi=!1,this.Fi=NaN,this.zi=NaN,this.Wi=NaN,this.ji=NaN,this.yi=t,this.$i=e,this.Hi=new Wo(t,this),this.Ui=((t,e)=>i=>{const n=e(),r=t();if(i===mo(this.Ni).qi())return{lt:r,si:n};{const t=mo(i.xt());return{lt:i.Yi(n,t),si:n}}})((()=>this.Ri),(()=>this.zi));const i=((t,e)=>()=>({ht:this.yi.St().Xi(t()),si:e()}))((()=>this.Ai),(()=>this.Kt()));this.Ki=new ia(this,t,i),this.Zi=new Ho(this)}F(){return this.$i}Gi(t,e){this.Wi=t,this.ji=e}Ji(){this.Wi=NaN,this.ji=NaN}Qi(){return this.Wi}ts(){return this.ji}ss(t,e,i){this.Bi||(this.Bi=!0),this.Li=!0,this.ns(t,e,i)}Mt(){return this.Ai}Kt(){return this.Fi}Zt(){return this.zi}kt(){return this.Li}es(){this.Li=!1,this.rs(),this.Ri=NaN,this.Fi=NaN,this.zi=NaN,this.Ni=null,this.Ji()}hs(t){return null!==this.Ni?[this.Zi,this.Hi]:[]}Ut(t){return t===this.Ni&&this.$i.horzLine.visible}qt(){return this.$i.vertLine.visible}ls(t,e){this.Li&&this.Ni===t||this.Vi.clear();const i=[];return this.Ni===t&&i.push(this.os(this.Vi,e,this.Ui)),i}Ii(){return this.Li?[this.Ki]:[]}Ht(){return this.Ni}_s(){this.Zi.ft(),this.Vi.forEach((t=>t.ft())),this.Ki.ft(),this.Hi.ft()}us(t){return t&&!t.qi().bi()?t.qi():null}ns(t,e,i){this.cs(t,e,i)&&this._s()}cs(t,e,i){const n=this.Fi,r=this.zi,s=this.Ri,o=this.Ai,a=this.Ni,l=this.us(i);this.Ai=t,this.Fi=isNaN(t)?NaN:this.yi.St().It(t),this.Ni=i;const u=null!==l?l.xt():null;return null!==l&&null!==u?(this.Ri=e,this.zi=l.Tt(e,u)):(this.Ri=NaN,this.zi=NaN),n!==this.Fi||r!==this.zi||o!==this.Ai||s!==this.Ri||a!==this.Ni}rs(){const t=this.yi.vt().map((t=>t.fs().ds())).filter(Bo),e=0===t.length?null:Math.max(...t);this.Ai=null!==e?e:NaN}os(t,e,i){let n=t.get(e);return void 0===n&&(n=new Qo(this,e,i),t.set(e,n)),n}}function oa(t){return"left"===t||"right"===t}class aa{constructor(t){this.ps=new Map,this.vs=[],this.ws=t}bs(t,e){const i=function(t,e){return void 0===t?e:{gs:Math.max(t.gs,e.gs),Ms:t.Ms||e.Ms}}(this.ps.get(t),e);this.ps.set(t,i)}Ss(){return this.ws}ys(t){const e=this.ps.get(t);return void 0===e?{gs:this.ws}:{gs:Math.max(this.ws,e.gs),Ms:e.Ms}}ks(){this.vs=[{xs:0}]}Cs(t){this.vs=[{xs:1,Dt:t}]}Ts(){this.vs=[{xs:4}]}Ps(t){this.vs.push({xs:2,Dt:t})}Ds(t){this.vs.push({xs:3,Dt:t})}Es(){return this.vs}Os(t){for(const e of t.vs)this.Is(e);this.ws=Math.max(this.ws,t.ws),t.ps.forEach(((t,e)=>{this.bs(e,t)}))}Is(t){switch(t.xs){case 0:this.ks();break;case 1:this.Cs(t.Dt);break;case 2:this.Ps(t.Dt);break;case 3:this.Ds(t.Dt);break;case 4:this.Ts()}}}function la(t,e){if(!Co(t))return"n/a";if(!Do(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return 0===e?t.toString():("0000000000000000"+t.toString()).slice(-e)}class ua{constructor(t,e){if(e||(e=1),Co(t)&&Do(t)||(t=100),t<0)throw new TypeError("invalid base");this.mi=t,this.Ns=e,this.Rs()}format(t){const e=t<0?"\u2212":"";return t=Math.abs(t),e+this.As(t)}Rs(){if(this.Ls=0,this.mi>0&&this.Ns>0){let t=this.mi;for(;t>1;)t/=10,this.Ls++}}As(t){const e=this.mi/this.Ns;let i=Math.floor(t),n="";const r=void 0!==this.Ls?this.Ls:NaN;if(e>1){let s=+(Math.round(t*e)-i*e).toFixed(this.Ls);s>=e&&(s-=e,i+=1),n="."+la(+s.toFixed(this.Ls)*this.Ns,r)}else i=Math.round(i*e)/e,r>0&&(n="."+la(0,r));return i.toFixed(0)+n}}class ca extends ua{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:100)}format(t){return"".concat(super.format(t),"%")}}class ha{constructor(t){this.Vs=t}format(t){let e="";return t<0&&(e="-",t=-t),t<995?e+this.Bs(t):t<999995?e+this.Bs(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this.Bs(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this.Bs(t/1e9)+"B")}Bs(t){let e;const i=Math.pow(10,this.Vs);return e=(t=Math.round(t*i)/i)>=1e-15&&t<1?t.toFixed(this.Vs).replace(/\.?0+$/,""):String(t),e.replace(/(\.[1-9]*)0+$/,((t,e)=>e))}}function da(t,e,i,n){if(0===e.length)return;const r=e[n.from].it,s=e[n.from].st;t.moveTo(r,s);for(let o=n.from+1;o<n.to;++o){const n=e[o];switch(i){case 0:t.lineTo(n.it,n.st);break;case 1:t.lineTo(n.it,e[o-1].st),t.lineTo(n.it,n.st);break;case 2:{const[i,r]=ma(e,o-1,o);t.bezierCurveTo(i.it,i.st,r.it,r.st,n.it,n.st);break}}}}const fa=6;function pa(t,e){return{it:t.it-e.it,st:t.st-e.st}}function ya(t,e){return{it:t.it/e,st:t.st/e}}function ma(t,e,i){const n=Math.max(0,e-1),r=Math.min(t.length-1,i+1);var s,o;return[(s=t[e],o=ya(pa(t[i],t[n]),fa),{it:s.it+o.it,st:s.st+o.st}),pa(t[i],ya(pa(t[r],t[e]),fa))]}class va extends Vo{constructor(){super(...arguments),this.Z=null}G(t){this.Z=t}Y(t){if(null!==this.Z&&0!==this.Z.tt.length&&null!==this.Z.J){if(t.lineCap="butt",t.lineJoin="round",t.lineWidth=this.Z.Bt,ho(t,this.Z.Ft),t.lineWidth=1,t.beginPath(),1===this.Z.tt.length){const e=this.Z.tt[0],i=this.Z.Fs/2;t.moveTo(e.it-i,this.Z.zs),t.lineTo(e.it-i,e.st),t.lineTo(e.it+i,e.st),t.lineTo(e.it+i,this.Z.zs)}else t.moveTo(this.Z.tt[this.Z.J.from].it,this.Z.zs),t.lineTo(this.Z.tt[this.Z.J.from].it,this.Z.tt[this.Z.J.from].st),da(t,this.Z.tt,this.Z.Ws,this.Z.J),this.Z.J.to>this.Z.J.from&&(t.lineTo(this.Z.tt[this.Z.J.to-1].it,this.Z.zs),t.lineTo(this.Z.tt[this.Z.J.from].it,this.Z.zs));t.closePath(),t.fillStyle=this.js(t),t.fill()}}}class ba extends va{js(t){const e=this.Z,i=t.createLinearGradient(0,0,0,e.$s);return i.addColorStop(0,e.Hs),i.addColorStop(1,e.Us),i}}class ga extends Vo{constructor(){super(...arguments),this.Z=null}G(t){this.Z=t}Y(t){if(null!==this.Z&&0!==this.Z.tt.length&&null!==this.Z.J)if(t.lineCap="butt",t.lineWidth=this.Z.Bt,ho(t,this.Z.Ft),t.strokeStyle=this.qs(t),t.lineJoin="round",1===this.Z.tt.length){t.beginPath();const e=this.Z.tt[0];t.moveTo(e.it-this.Z.Fs/2,e.st),t.lineTo(e.it+this.Z.Fs/2,e.st),void 0!==e.I&&(t.strokeStyle=e.I),t.stroke()}else this.Ys(t,this.Z)}Ys(t,e){t.beginPath(),da(t,e.tt,e.Ws,e.J),t.stroke()}}class wa extends ga{Ys(t,e){var i,n;const{tt:r,J:s,Ws:o,rt:a}=e;if(0===r.length||null===s)return;t.beginPath();const l=r[s.from];t.moveTo(l.it,l.st);let u=null!==(i=l.I)&&void 0!==i?i:a;t.strokeStyle=u;const c=e=>{t.stroke(),t.beginPath(),t.strokeStyle=e,u=e};for(let h=s.from+1;h<s.to;++h){const e=r[h],i=null!==(n=e.I)&&void 0!==n?n:a;switch(o){case 0:t.lineTo(e.it,e.st);break;case 1:t.lineTo(e.it,r[h-1].st),i!==u&&(c(i),t.lineTo(e.it,r[h-1].st)),t.lineTo(e.it,e.st);break;case 2:{const[i,n]=ma(r,h-1,h);t.bezierCurveTo(i.it,i.st,n.it,n.st,e.it,e.st);break}}1!==o&&i!==u&&(c(i),t.moveTo(e.it,e.st))}t.stroke()}qs(){return this.Z.rt}}function _a(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=(arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.length)-n;for(;0<r;){const s=r>>1,o=n+s;i(t[o],e)?(n=o+1,r-=s+1):r=s}return n}function Sa(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=(arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.length)-n;for(;0<r;){const s=r>>1,o=n+s;i(e,t[o])?r=s:(n=o+1,r-=s+1)}return n}function Ta(t,e){return t.ht<e}function Ia(t,e){return t<e.ht}function xa(t,e,i){const n=e.Xs(),r=e.Ks(),s=_a(t,n,Ta),o=Sa(t,r,Ia);if(!i)return{from:s,to:o};let a=s,l=o;return s>0&&s<t.length&&t[s].ht>=n&&(a=s-1),o>0&&o<t.length&&t[o-1].ht<=r&&(l=o+1),{from:a,to:l}}class Ma{constructor(t,e,i){this.Zs=!0,this.Gs=!0,this.Js=!0,this.Qs=[],this.tn=null,this.sn=t,this.nn=e,this.en=i}ft(t){this.Zs=!0,"data"===t&&(this.Gs=!0),"options"===t&&(this.Js=!0)}rn(){this.Gs&&(this.hn(),this.Gs=!1),this.Zs&&(this.ln(),this.Zs=!1),this.Js&&(this.an(),this.Js=!1)}on(){this.tn=null}ln(){const t=this.sn.Pt(),e=this.nn.St();if(this.on(),e.bi()||t.bi())return;const i=e._n();if(null===i)return;if(0===this.sn.fs().un())return;const n=this.sn.xt();null!==n&&(this.tn=xa(this.Qs,i,this.en),this.cn(t,e,n.Dt))}}class Ea extends Ma{constructor(t,e){super(t,e,!0)}cn(t,e,i){e.dn(this.Qs,Fo(this.tn)),t.fn(this.Qs,i,Fo(this.tn))}pn(t,e){return{ht:t,lt:e,it:NaN,st:NaN}}an(){}hn(){const t=this.sn.vn();this.Qs=this.sn.fs().mn().map((e=>{const i=e.Dt[3];return this.wn(e.bn,i,t)}))}}class Na extends Ea{constructor(t,e){super(t,e),this.Wt=new Ro,this.gn=new ba,this.Mn=new wa,this.Wt.U([this.gn,this.Mn])}wt(t,e){if(!this.sn.kt())return null;const i=this.sn.F();return this.rn(),this.gn.G({Ws:i.lineType,tt:this.Qs,Ft:i.lineStyle,Bt:i.lineWidth,Hs:i.topColor,Us:i.bottomColor,zs:t,$s:t,J:this.tn,Fs:this.nn.St().Sn()}),this.Mn.G({Ws:i.lineType,tt:this.Qs,rt:i.lineColor,Ft:i.lineStyle,Bt:i.lineWidth,J:this.tn,Fs:this.nn.St().Sn()}),this.Wt}wn(t,e){return this.pn(t,e)}}class Ca{constructor(){this.Nt=null,this.yn=0,this.kn=0}G(t){this.Nt=t}q(t,e,i,n){if(null===this.Nt||0===this.Nt.fs.length||null===this.Nt.J)return;this.yn=this.xn(e),this.yn>=2&&Math.max(1,Math.floor(e))%2!=this.yn%2&&this.yn--,this.kn=this.Nt.Cn?Math.min(this.yn,Math.floor(e)):this.yn;let r=null;const s=this.kn<=this.yn&&this.Nt.Sn>=Math.floor(1.5*e);for(let o=this.Nt.J.from;o<this.Nt.J.to;++o){const i=this.Nt.fs[o];r!==i.I&&(t.fillStyle=i.I,r=i.I);const n=Math.floor(.5*this.kn),a=Math.round(i.it*e),l=a-n,u=this.kn,c=l+u-1,h=Math.min(i.Tn,i.Pn),d=Math.max(i.Tn,i.Pn),f=Math.round(h*e)-n,p=Math.round(d*e)+n,y=Math.max(p-f,this.kn);t.fillRect(l,f,u,y);const m=Math.ceil(1.5*this.yn);if(s){if(this.Nt.Dn){const r=a-m;let s=Math.max(f,Math.round(i.En*e)-n),o=s+u-1;o>f+y-1&&(o=f+y-1,s=o-u+1),t.fillRect(r,s,l-r,o-s+1)}const r=a+m;let s=Math.max(f,Math.round(i.On*e)-n),o=s+u-1;o>f+y-1&&(o=f+y-1,s=o-u+1),t.fillRect(c+1,s,r-c,o-s+1)}}}xn(t){const e=Math.floor(t);return Math.max(e,Math.floor(function(t,e){return Math.floor(.3*t*e)}(mo(this.Nt).Sn,t)))}}class Da extends Ma{constructor(t,e){super(t,e,!1)}cn(t,e,i){e.dn(this.Qs,Fo(this.tn)),t.In(this.Qs,i,Fo(this.tn))}Nn(t,e,i){return{ht:t,Rn:e.Dt[0],An:e.Dt[1],Ln:e.Dt[2],Vn:e.Dt[3],it:NaN,En:NaN,Tn:NaN,Pn:NaN,On:NaN}}hn(){const t=this.sn.vn();this.Qs=this.sn.fs().mn().map((e=>this.wn(e.bn,e,t)))}}class ka extends Da{constructor(){super(...arguments),this.Wt=new Ca}wt(t,e){if(!this.sn.kt())return null;const i=this.sn.F();this.rn();const n={fs:this.Qs,Sn:this.nn.St().Sn(),Dn:i.openVisible,Cn:i.thinBars,J:this.tn};return this.Wt.G(n),this.Wt}an(){this.Qs.forEach((t=>{t.I=this.sn.vn().Fn(t.ht).Bn}))}wn(t,e,i){return Object.assign(Object.assign({},this.Nn(t,e,i)),{I:i.Fn(t).Bn})}}function Oa(t,e,i){return Math.min(Math.max(t,e),i)}function Aa(t,e,i){return e-t<=i}function Ba(t){return t<=0?NaN:Math.log(t)/Math.log(10)}function Fa(t){const e=Math.ceil(t);return e%2!=0?e-1:e}function La(t){const e=Math.ceil(t);return e%2==0?e-1:e}class Pa extends va{js(t){const e=this.Z,i=t.createLinearGradient(0,0,0,e.$s),n=Oa(e.zs/e.$s,0,1);return i.addColorStop(0,e.zn),i.addColorStop(n,e.Wn),i.addColorStop(n,e.jn),i.addColorStop(1,e.$n),i}}class Ua extends ga{qs(t){const e=this.Z,i=t.createLinearGradient(0,0,0,e.$s),n=Oa(e.zs/e.$s,0,1);return i.addColorStop(0,e.Hs),i.addColorStop(n,e.Hs),i.addColorStop(n,e.Us),i.addColorStop(1,e.Us),i}}class Ra extends Ea{constructor(t,e){super(t,e),this.Hn=new Pa,this.Un=new Ua,this.ot=new Ro,this.ot.U([this.Hn,this.Un])}wt(t,e){if(!this.sn.kt())return null;const i=this.sn.xt();if(null===i)return null;const n=this.sn.F();this.rn();const r=this.sn.Pt().Tt(n.baseValue.price,i.Dt),s=this.nn.St().Sn();return this.Hn.G({tt:this.Qs,zn:n.topFillColor1,Wn:n.topFillColor2,jn:n.bottomFillColor1,$n:n.bottomFillColor2,Bt:n.lineWidth,Ft:n.lineStyle,Ws:n.lineType,zs:r,$s:t,J:this.tn,Fs:s}),this.Un.G({tt:this.Qs,Hs:n.topLineColor,Us:n.bottomLineColor,Bt:n.lineWidth,Ft:n.lineStyle,Ws:n.lineType,zs:r,$s:t,J:this.tn,Fs:s}),this.ot}wn(t,e){return this.pn(t,e)}}class Va{constructor(){this.Nt=null,this.yn=0}G(t){this.Nt=t}q(t,e,i,n){if(null===this.Nt||0===this.Nt.fs.length||null===this.Nt.J)return;this.yn=function(t,e){if(t>=2.5&&t<=4)return Math.floor(3*e);const i=1-.2*Math.atan(Math.max(4,t)-4)/(.5*Math.PI),n=Math.floor(t*i*e),r=Math.floor(t*e),s=Math.min(n,r);return Math.max(Math.floor(e),s)}(this.Nt.Sn,e),this.yn>=2&&Math.floor(e)%2!=this.yn%2&&this.yn--;const r=this.Nt.fs;this.Nt.qn&&this.Yn(t,r,this.Nt.J,e),this.Nt.Xn&&this.Kn(t,r,this.Nt.J,this.Nt.Sn,e);const s=this.Zn(e);(!this.Nt.Xn||this.yn>2*s)&&this.Gn(t,r,this.Nt.J,e)}Yn(t,e,i,n){if(null===this.Nt)return;let r="",s=Math.min(Math.floor(n),Math.floor(this.Nt.Sn*n));s=Math.max(Math.floor(n),Math.min(s,this.yn));const o=Math.floor(.5*s);let a=null;for(let l=i.from;l<i.to;l++){const i=e[l];i.Jn!==r&&(t.fillStyle=i.Jn,r=i.Jn);const u=Math.round(Math.min(i.En,i.On)*n),c=Math.round(Math.max(i.En,i.On)*n),h=Math.round(i.Tn*n),d=Math.round(i.Pn*n);let f=Math.round(n*i.it)-o;const p=f+s-1;null!==a&&(f=Math.max(a+1,f),f=Math.min(f,p));const y=p-f+1;t.fillRect(f,h,y,u-h),t.fillRect(f,c+1,y,d-c),a=p}}Zn(t){let e=Math.floor(1*t);this.yn<=2*e&&(e=Math.floor(.5*(this.yn-1)));const i=Math.max(Math.floor(t),e);return this.yn<=2*i?Math.max(Math.floor(t),Math.floor(1*t)):i}Kn(t,e,i,n,r){if(null===this.Nt)return;let s="";const o=this.Zn(r);let a=null;for(let l=i.from;l<i.to;l++){const i=e[l];i.Et!==s&&(t.fillStyle=i.Et,s=i.Et);let n=Math.round(i.it*r)-Math.floor(.5*this.yn);const u=n+this.yn-1,c=Math.round(Math.min(i.En,i.On)*r),h=Math.round(Math.max(i.En,i.On)*r);if(null!==a&&(n=Math.max(a+1,n),n=Math.min(n,u)),this.Nt.Sn*r>2*o)Zo(t,n,c,u-n+1,h-c+1,o);else{const e=u-n+1;t.fillRect(n,c,e,h-c+1)}a=u}}Gn(t,e,i,n){if(null===this.Nt)return;let r="";const s=this.Zn(n);for(let o=i.from;o<i.to;o++){const i=e[o];let a=Math.round(Math.min(i.En,i.On)*n),l=Math.round(Math.max(i.En,i.On)*n),u=Math.round(i.it*n)-Math.floor(.5*this.yn),c=u+this.yn-1;if(i.I!==r){const e=i.I;t.fillStyle=e,r=e}this.Nt.Xn&&(u+=s,a+=s,c-=s,l-=s),a>l||t.fillRect(u,a,c-u+1,l-a+1)}}}class za extends Da{constructor(){super(...arguments),this.Wt=new Va}wt(t,e){if(!this.sn.kt())return null;const i=this.sn.F();this.rn();const n={fs:this.Qs,Sn:this.nn.St().Sn(),qn:i.wickVisible,Xn:i.borderVisible,J:this.tn};return this.Wt.G(n),this.Wt}an(){this.Qs.forEach((t=>{const e=this.sn.vn().Fn(t.ht);t.I=e.Bn,t.Jn=e.Qn,t.Et=e.te}))}wn(t,e,i){const n=i.Fn(t);return Object.assign(Object.assign({},this.Nn(t,e,i)),{I:n.Bn,Jn:n.Qn,Et:n.te})}}class ja{constructor(){this.Nt=null,this.ie=[]}G(t){this.Nt=t,this.ie=[]}q(t,e,i,n){if(null===this.Nt||0===this.Nt.tt.length||null===this.Nt.J)return;this.ie.length||this.se(e);const r=Math.max(1,Math.floor(e)),s=Math.round(this.Nt.ne*e)-Math.floor(r/2),o=s+r;for(let a=this.Nt.J.from;a<this.Nt.J.to;a++){const i=this.Nt.tt[a],n=this.ie[a-this.Nt.J.from],l=Math.round(i.st*e);let u,c;t.fillStyle=i.I,l<=s?(u=l,c=o):(u=s,c=l-Math.floor(r/2)+r),t.fillRect(n.Xs,u,n.Ks-n.Xs+1,c-u)}}se(t){if(null===this.Nt||0===this.Nt.tt.length||null===this.Nt.J)return void(this.ie=[]);const e=Math.ceil(this.Nt.Sn*t)<=1?0:Math.max(1,Math.floor(t)),i=Math.round(this.Nt.Sn*t)-e;this.ie=new Array(this.Nt.J.to-this.Nt.J.from);for(let r=this.Nt.J.from;r<this.Nt.J.to;r++){const e=this.Nt.tt[r],n=Math.round(e.it*t);let s,o;if(i%2){const t=(i-1)/2;s=n-t,o=n+t}else{const t=i/2;s=n-t,o=n+t-1}this.ie[r-this.Nt.J.from]={Xs:s,Ks:o,ee:n,re:e.it*t,ht:e.ht}}for(let r=this.Nt.J.from+1;r<this.Nt.J.to;r++){const t=this.ie[r-this.Nt.J.from],i=this.ie[r-this.Nt.J.from-1];t.ht===i.ht+1&&t.Xs-i.Ks!==e+1&&(i.ee>i.re?i.Ks=t.Xs-e-1:t.Xs=i.Ks+e+1)}let n=Math.ceil(this.Nt.Sn*t);for(let r=this.Nt.J.from;r<this.Nt.J.to;r++){const t=this.ie[r-this.Nt.J.from];t.Ks<t.Xs&&(t.Ks=t.Xs);const e=t.Ks-t.Xs+1;n=Math.min(e,n)}if(e>0&&n<4)for(let r=this.Nt.J.from;r<this.Nt.J.to;r++){const t=this.ie[r-this.Nt.J.from];t.Ks-t.Xs+1>n&&(t.ee>t.re?t.Ks-=1:t.Xs+=1)}}}function $a(t){return{tt:[],Sn:t,ne:NaN,J:null}}function Wa(t,e,i){return{ht:t,lt:e,it:NaN,st:NaN,I:i}}class Ya extends Ma{constructor(t,e){super(t,e,!1),this.ot=new Ro,this.he=$a(0),this.Wt=new ja}wt(t,e){return this.sn.kt()?(this.rn(),this.ot):null}hn(){const t=this.nn.St().Sn();this.he=$a(t);let e=0,i=0;const n=this.sn.F().color;for(const r of this.sn.fs().mn()){const t=r.Dt[3],s=void 0!==r.I?r.I:n,o=Wa(r.bn,t,s);e++,e<this.he.tt.length?this.he.tt[e]=o:this.he.tt.push(o),this.Qs[i++]={ht:r.bn,it:0}}this.Wt.G(this.he),this.ot.U([this.Wt])}an(){}on(){super.on(),this.he.J=null}cn(t,e,i){if(null===this.tn)return;const n=e.Sn(),r=mo(e._n()),s=t.Tt(this.sn.F().base,i);e.dn(this.he.tt),t.fn(this.he.tt,i),this.he.ne=s,this.he.J=xa(this.he.tt,r,!1),this.he.Sn=n,this.Wt.G(this.he)}}class Ha extends Ea{constructor(t,e){super(t,e),this.Mn=new wa}wt(t,e){if(!this.sn.kt())return null;const i=this.sn.F();this.rn();const n={tt:this.Qs,rt:i.color,Ft:i.lineStyle,Ws:i.lineType,Bt:i.lineWidth,J:this.tn,Fs:this.nn.St().Sn()};return this.Mn.G(n),this.Mn}an(){this.Qs.forEach((t=>{t.I=this.sn.vn().Fn(t.ht).Bn}))}wn(t,e,i){const n=this.pn(t,e);return n.I=i.Fn(t).Bn,n}}const Za=/[2-9]/g;class Ka{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;this.le=new Map,this.ae=0,this.oe=Array.from(new Array(t))}_e(){this.le.clear(),this.oe.fill(void 0)}ii(t,e,i){const n=i||Za,r=String(e).replace(n,"0");let s=this.le.get(r);if(void 0===s){if(s=t.measureText(r).width,0===s&&0!==e.length)return 0;const i=this.oe[this.ae];void 0!==i&&this.le.delete(i),this.oe[this.ae]=r,this.ae=(this.ae+1)%this.oe.length,this.le.set(r,s)}return s}}class Ja{constructor(t){this.ue=null,this.k=null,this.ce="right",this.de=0,this.fe=t}pe(t,e,i,n){this.ue=t,this.k=e,this.de=i,this.ce=n}q(t,e){null!==this.k&&null!==this.ue&&this.ue.q(t,this.k,this.fe,this.de,this.ce,e)}}class Ga{constructor(t,e,i){this.ve=t,this.fe=new Ka(50),this.me=e,this.B=i,this.W=-1,this.Wt=new Ja(this.fe)}wt(t,e){const i=this.B.we(this.me);if(null===i)return null;const n=i.be(this.me)?i.ge():this.me.Pt();if(null===n)return null;const r=i.Me(n);if("overlay"===r)return null;const s=this.B.Se();return s.P!==this.W&&(this.W=s.P,this.fe._e()),this.Wt.pe(this.ve.pi(),s,e,r),this.Wt}}class qa{constructor(){this.Nt=null}G(t){this.Nt=t}q(t,e,i,n){if(null===this.Nt)return;if(!1===this.Nt.kt)return;const r=Math.round(this.Nt.st*e);if(r<0||r>Math.ceil(this.Nt.Xt*e))return;const s=Math.ceil(this.Nt.Yt*e);t.lineCap="butt",t.strokeStyle=this.Nt.I,t.lineWidth=Math.floor(this.Nt.Bt*e),ho(t,this.Nt.Ft),fo(t,r,0,s)}}class Xa{constructor(t){this.ye={Yt:0,Xt:0,st:0,I:"rgba(0, 0, 0, 0)",Bt:1,Ft:0,kt:!1},this.ke=new qa,this.li=!0,this.sn=t,this.nn=t.$t(),this.ke.G(this.ye)}ft(){this.li=!0}wt(t,e){return this.sn.kt()?(this.li&&(this.xe(t,e),this.li=!1),this.ke):null}}class Qa extends Xa{constructor(t){super(t)}xe(t,e){this.ye.kt=!1;const i=this.sn.Pt(),n=i.Ce().Ce;if(2!==n&&3!==n)return;const r=this.sn.F();if(!r.baseLineVisible||!this.sn.kt())return;const s=this.sn.xt();null!==s&&(this.ye.kt=!0,this.ye.st=i.Tt(s.Dt,s.Dt),this.ye.Yt=e,this.ye.Xt=t,this.ye.I=r.baseLineColor,this.ye.Bt=r.baseLineWidth,this.ye.Ft=r.baseLineStyle)}}class tl{constructor(){this.Nt=null}G(t){this.Nt=t}Te(){return this.Nt}q(t,e,i,n){const r=this.Nt;if(null===r)return;t.save();const s=Math.max(1,Math.floor(e)),o=s%2/2,a=Math.round(r.re.x*e)+o,l=r.re.y*e;t.fillStyle=r.Pe,t.beginPath();const u=Math.max(2,1.5*r.De)*e;t.arc(a,l,u,0,2*Math.PI,!1),t.fill(),t.fillStyle=r.Ee,t.beginPath(),t.arc(a,l,r.et*e,0,2*Math.PI,!1),t.fill(),t.lineWidth=s,t.strokeStyle=r.Oe,t.beginPath(),t.arc(a,l,r.et*e+s/2,0,2*Math.PI,!1),t.stroke(),t.restore()}}const el=[{Ie:0,Ne:.25,Re:4,Ae:10,Le:.25,Ve:0,Be:.4,Fe:.8},{Ie:.25,Ne:.525,Re:10,Ae:14,Le:0,Ve:0,Be:.8,Fe:0},{Ie:.525,Ne:1,Re:14,Ae:14,Le:0,Ve:0,Be:0,Fe:0}];function il(t,e,i,n){return function(t,e){if("transparent"===t)return t;const i=xo(t),n=i[3];return"rgba(".concat(i[0],", ").concat(i[1],", ").concat(i[2],", ").concat(e*n,")")}(t,i+(n-i)*e)}function nl(t,e){const i=t%2600/2600;let n;for(const l of el)if(i>=l.Ie&&i<=l.Ne){n=l;break}po(void 0!==n,"Last price animation internal logic error");const r=(i-n.Ie)/(n.Ne-n.Ie);return{Ee:il(e,r,n.Le,n.Ve),Oe:il(e,r,n.Be,n.Fe),et:(s=r,o=n.Re,a=n.Ae,o+(a-o)*s)};var s,o,a}class rl{constructor(t){this.Wt=new tl,this.li=!0,this.ze=!0,this.We=performance.now(),this.je=this.We-1,this.$e=t}He(){this.je=this.We-1,this.ft()}Ue(){if(this.ft(),2===this.$e.F().lastPriceAnimation){const t=performance.now(),e=this.je-t;if(e>0)return void(e<650&&(this.je+=2600));this.We=t,this.je=t+2600}}ft(){this.li=!0}qe(){this.ze=!0}kt(){return 0!==this.$e.F().lastPriceAnimation}Ye(){switch(this.$e.F().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.je}}wt(t,e){return this.li?(this.bt(t,e),this.li=!1,this.ze=!1):this.ze&&(this.Xe(),this.ze=!1),this.Wt}bt(t,e){this.Wt.G(null);const i=this.$e.$t().St(),n=i._n(),r=this.$e.xt();if(null===n||null===r)return;const s=this.$e.Ke(!0);if(s.Ze||!n.Ge(s.bn))return;const o={x:i.It(s.bn),y:this.$e.Pt().Tt(s.lt,r.Dt)},a=s.I,l=this.$e.F().lineWidth,u=nl(this.Je(),a);this.Wt.G({Pe:a,De:l,Ee:u.Ee,Oe:u.Oe,et:u.et,re:o})}Xe(){const t=this.Wt.Te();if(null!==t){const e=nl(this.Je(),t.Pe);t.Ee=e.Ee,t.Oe=e.Oe,t.et=e.et}}Je(){return this.Ye()?performance.now()-this.We:2599}}function sl(t,e){return La(Math.min(Math.max(t,12),30)*e)}function ol(t,e){switch(t){case"arrowDown":case"arrowUp":return sl(e,1);case"circle":return sl(e,.8);case"square":return sl(e,.7)}}function al(t){return Fa(sl(t,1))}function ll(t){return Math.max(sl(t,.1),3)}function ul(t,e,i,n,r){const s=ol("square",i),o=(s-1)/2,a=t-o,l=e-o;return n>=a&&n<=a+s&&r>=l&&r<=l+s}function cl(t,e,i,n,r){const s=(ol("arrowUp",r)-1)/2,o=(La(r/2)-1)/2;e.beginPath(),t?(e.moveTo(i-s,n),e.lineTo(i,n-s),e.lineTo(i+s,n),e.lineTo(i+o,n),e.lineTo(i+o,n+s),e.lineTo(i-o,n+s),e.lineTo(i-o,n)):(e.moveTo(i-s,n),e.lineTo(i,n+s),e.lineTo(i+s,n),e.lineTo(i+o,n),e.lineTo(i+o,n-s),e.lineTo(i-o,n-s),e.lineTo(i-o,n)),e.fill()}class hl extends Vo{constructor(){super(...arguments),this.Nt=null,this.fe=new Ka,this.W=-1,this.j="",this.Qe=""}G(t){this.Nt=t}pe(t,e){this.W===t&&this.j===e||(this.W=t,this.j=e,this.Qe=Po(t,e),this.fe._e())}tr(t,e){if(null===this.Nt||null===this.Nt.J)return null;for(let i=this.Nt.J.from;i<this.Nt.J.to;i++){const n=this.Nt.tt[i];if(fl(n,t,e))return{ir:n.sr,nr:n.nr}}return null}Y(t,e,i){if(null!==this.Nt&&null!==this.Nt.J){t.textBaseline="middle",t.font=this.Qe;for(let e=this.Nt.J.from;e<this.Nt.J.to;e++){const i=this.Nt.tt[e];void 0!==i.ti&&(i.ti.Yt=this.fe.ii(t,i.ti.er),i.ti.Xt=this.W),dl(i,t)}}}}function dl(t,e){e.fillStyle=t.I,void 0!==t.ti&&function(t,e,i,n){t.fillText(e,i,n)}(e,t.ti.er,t.it-t.ti.Yt/2,t.ti.st),function(t,e){if(0!==t.un){switch(t.rr){case"arrowDown":return void cl(!1,e,t.it,t.st,t.un);case"arrowUp":return void cl(!0,e,t.it,t.st,t.un);case"circle":return void function(t,e,i,n){const r=(ol("circle",n)-1)/2;t.beginPath(),t.arc(e,i,r,0,2*Math.PI,!1),t.fill()}(e,t.it,t.st,t.un);case"square":return void function(t,e,i,n){const r=ol("square",n),s=(r-1)/2,o=e-s,a=i-s;t.fillRect(o,a,r,r)}(e,t.it,t.st,t.un)}t.rr}}(t,e)}function fl(t,e,i){return!(void 0===t.ti||!function(t,e,i,n,r,s){const o=n/2;return r>=t&&r<=t+i&&s>=e-o&&s<=e+o}(t.it,t.ti.st,t.ti.Yt,t.ti.Xt,e,i))||function(t,e,i){if(0===t.un)return!1;switch(t.rr){case"arrowDown":case"arrowUp":return function(t,e,i,n,r,s){return ul(e,i,n,r,s)}(0,t.it,t.st,t.un,e,i);case"circle":return function(t,e,i,n,r){const s=2+ol("circle",i)/2,o=t-n,a=e-r;return Math.sqrt(o*o+a*a)<=s}(t.it,t.st,t.un,e,i);case"square":return ul(t.it,t.st,t.un,e,i)}}(t,e,i)}function pl(t,e,i,n,r,s,o,a,l){const u=Co(i)?i:i.Vn,c=Co(i)?i:i.An,h=Co(i)?i:i.Ln,d=Co(e.size)?Math.max(e.size,0):1,f=al(a.Sn())*d,p=f/2;switch(t.un=f,e.position){case"inBar":return t.st=o.Tt(u,l),void(void 0!==t.ti&&(t.ti.st=t.st+p+s+.6*r));case"aboveBar":return t.st=o.Tt(c,l)-p-n.hr,void 0!==t.ti&&(t.ti.st=t.st-p-.6*r,n.hr+=1.2*r),void(n.hr+=f+s);case"belowBar":return t.st=o.Tt(h,l)+p+n.lr,void 0!==t.ti&&(t.ti.st=t.st+p+s+.6*r,n.lr+=1.2*r),void(n.lr+=f+s)}e.position}class yl{constructor(t,e){this.li=!0,this.ar=!0,this._r=!0,this.ur=null,this.Wt=new hl,this.$e=t,this.yi=e,this.Nt={tt:[],J:null}}ft(t){this.li=!0,this._r=!0,"data"===t&&(this.ar=!0)}wt(t,e,i,n){if(!this.$e.kt())return null;this.li&&this.rn();const r=this.yi.F().layout;return this.Wt.pe(r.fontSize,r.fontFamily),this.Wt.G(this.Nt),this.Wt}cr(){if(this._r){if(this.$e.dr().length>0){const t=this.yi.St().Sn(),e=ll(t),i=1.5*al(t)+2*e;this.ur={above:i,below:i}}else this.ur=null;this._r=!1}return this.ur}rn(){const t=this.$e.Pt(),e=this.yi.St(),i=this.$e.dr();this.ar&&(this.Nt.tt=i.map((t=>({ht:t.time,it:0,st:0,un:0,rr:t.shape,I:t.color,sr:t.internalId,nr:t.id,ti:void 0}))),this.ar=!1);const n=this.yi.F().layout;this.Nt.J=null;const r=e._n();if(null===r)return;const s=this.$e.xt();if(null===s)return;if(0===this.Nt.tt.length)return;let o=NaN;const a=ll(e.Sn()),l={hr:a,lr:a};this.Nt.J=xa(this.Nt.tt,r,!0);for(let u=this.Nt.J.from;u<this.Nt.J.to;u++){const r=i[u];r.time!==o&&(l.hr=a,l.lr=a,o=r.time);const c=this.Nt.tt[u];c.it=e.It(r.time),void 0!==r.text&&r.text.length>0&&(c.ti={er:r.text,st:0,Yt:0,Xt:0});const h=this.$e.pr(r.time);null!==h&&pl(c,r,h,l,n.fontSize,a,t,e,s.Dt)}this.li=!1}}class ml extends Xa{constructor(t){super(t)}xe(t,e){const i=this.ye;i.kt=!1;const n=this.sn.F();if(!n.priceLineVisible||!this.sn.kt())return;const r=this.sn.Ke(0===n.priceLineSource);r.Ze||(i.kt=!0,i.st=r.si,i.I=this.sn.vr(r.I),i.Yt=e,i.Xt=t,i.Bt=n.priceLineWidth,i.Ft=n.priceLineStyle)}}class vl extends Xo{constructor(t){super(),this.jt=t}vi(t,e,i){t.kt=!1,e.kt=!1;const n=this.jt;if(!n.kt())return;const r=n.F(),s=r.lastValueVisible,o=""!==n.mr(),a=0===r.seriesLastValueMode,l=n.Ke(!1);if(l.Ze)return;s&&(t.ti=this.wr(l,s,a),t.kt=0!==t.ti.length),(o||a)&&(e.ti=this.br(l,s,o,a),e.kt=e.ti.length>0);const u=n.vr(l.I),c=Mo(u);i.t=c.t,i.I=c.i,i.si=l.si,e.Et=n.$t().Ot(l.si/n.Pt().Xt()),t.Et=u}br(t,e,i,n){let r="";const s=this.jt.mr();return i&&0!==s.length&&(r+="".concat(s," ")),e&&n&&(r+=this.jt.Pt().gr()?t.Mr:t.Sr),r.trim()}wr(t,e,i){return e?i?this.jt.Pt().gr()?t.Sr:t.Mr:t.ti:""}}class bl{constructor(t,e){this.yr=t,this.kr=e}Cr(t){return null!==t&&this.yr===t.yr&&this.kr===t.kr}Tr(){return new bl(this.yr,this.kr)}Pr(){return this.yr}Dr(){return this.kr}Er(){return this.kr-this.yr}bi(){return this.kr===this.yr||Number.isNaN(this.kr)||Number.isNaN(this.yr)}Os(t){return null===t?this:new bl(Math.min(this.Pr(),t.Pr()),Math.max(this.Dr(),t.Dr()))}Or(t){if(!Co(t))return;if(0===this.kr-this.yr)return;const e=.5*(this.kr+this.yr);let i=this.kr-e,n=this.yr-e;i*=t,n*=t,this.kr=e+i,this.yr=e+n}Ir(t){Co(t)&&(this.kr+=t,this.yr+=t)}Nr(){return{minValue:this.yr,maxValue:this.kr}}static Rr(t){return null===t?null:new bl(t.minValue,t.maxValue)}}class gl{constructor(t,e){this.Ar=t,this.Lr=e||null}Vr(){return this.Ar}Br(){return this.Lr}Nr(){return null===this.Ar?null:{priceRange:this.Ar.Nr(),margins:this.Lr||void 0}}static Rr(t){return null===t?null:new gl(bl.Rr(t.priceRange),t.margins)}}class wl extends Xa{constructor(t,e){super(t),this.Fr=e}xe(t,e){const i=this.ye;i.kt=!1;const n=this.Fr.F();if(!this.sn.kt()||!n.lineVisible)return;const r=this.Fr.zr();null!==r&&(i.kt=!0,i.st=r,i.I=n.color,i.Yt=e,i.Xt=t,i.Bt=n.lineWidth,i.Ft=n.lineStyle)}}class _l extends Xo{constructor(t,e){super(),this.$e=t,this.Fr=e}vi(t,e,i){t.kt=!1,e.kt=!1;const n=this.Fr.F(),r=n.axisLabelVisible,s=""!==n.title,o=this.$e;if(!r||!o.kt())return;const a=this.Fr.zr();if(null===a)return;s&&(e.ti=n.title,e.kt=!0),e.Et=o.$t().Ot(a/o.Pt().Xt()),t.ti=this.Wr(n.price),t.kt=!0;const l=Mo(n.color);i.t=l.t,i.I=l.i,i.si=a}Wr(t){const e=this.$e.xt();return null===e?"":this.$e.Pt().gi(t,e.Dt)}}class Sl{constructor(t,e){this.$e=t,this.$i=e,this.jr=new wl(t,this),this.ve=new _l(t,this),this.$r=new Ga(this.ve,t,t.$t())}Hr(t){No(this.$i,t),this.ft(),this.$e.$t().Ur()}F(){return this.$i}qr(){return this.jr}Yr(){return this.$r}Xr(){return this.ve}ft(){this.jr.ft(),this.ve.ft()}zr(){const t=this.$e,e=t.Pt();if(t.$t().St().bi()||e.bi())return null;const i=t.xt();return null===i?null:e.Tt(this.$i.price,i.Dt)}}class Tl extends na{constructor(t){super(),this.yi=t}$t(){return this.yi}}const Il={Bn:"",te:"",Qn:""};class xl{constructor(t){this.$e=t}Fn(t,e){const i=this.$e.Kr(),n=this.$e.F();switch(i){case"Line":return this.Zr(n,t,e);case"Area":return this.Gr(n);case"Baseline":return this.Jr(n,t,e);case"Bar":return this.Qr(n,t,e);case"Candlestick":return this.th(n,t,e);case"Histogram":return this.ih(n,t,e)}throw new Error("Unknown chart style")}Qr(t,e,i){const n=Object.assign({},Il),r=t.upColor,s=t.downColor,o=r,a=s,l=mo(this.sh(e,i)),u=vo(l.Dt[0])<=vo(l.Dt[3]);return void 0!==l.I?(n.Bn=l.I,n.te=l.I):(n.Bn=u?r:s,n.te=u?o:a),n}th(t,e,i){var n,r,s;const o=Object.assign({},Il),a=t.upColor,l=t.downColor,u=t.borderUpColor,c=t.borderDownColor,h=t.wickUpColor,d=t.wickDownColor,f=mo(this.sh(e,i)),p=vo(f.Dt[0])<=vo(f.Dt[3]);return o.Bn=null!==(n=f.I)&&void 0!==n?n:p?a:l,o.te=null!==(r=f.Et)&&void 0!==r?r:p?u:c,o.Qn=null!==(s=f.Jn)&&void 0!==s?s:p?h:d,o}Gr(t){return Object.assign(Object.assign({},Il),{Bn:t.lineColor})}Jr(t,e,i){const n=mo(this.sh(e,i)).Dt[3]>=t.baseValue.price;return Object.assign(Object.assign({},Il),{Bn:n?t.topLineColor:t.bottomLineColor})}Zr(t,e,i){var n;const r=mo(this.sh(e,i));return Object.assign(Object.assign({},Il),{Bn:null!==(n=r.I)&&void 0!==n?n:t.color})}ih(t,e,i){const n=Object.assign({},Il),r=mo(this.sh(e,i));return n.Bn=void 0!==r.I?r.I:t.color,n}sh(t,e){return void 0!==e?e.Dt:this.$e.fs().nh(t)}}var Ml;!function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"}(Ml||(Ml={}));const El=30;class Nl{constructor(){this.eh=[],this.rh=new Map,this.hh=new Map}lh(){return this.un()>0?this.eh[this.eh.length-1]:null}ah(){return this.un()>0?this.oh(0):null}ds(){return this.un()>0?this.oh(this.eh.length-1):null}un(){return this.eh.length}bi(){return 0===this.un()}Ge(t){return null!==this._h(t,0)}nh(t){return this.uh(t)}uh(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=this._h(t,e);return null===i?null:Object.assign(Object.assign({},this.dh(i)),{bn:this.oh(i)})}mn(){return this.eh}fh(t,e,i){if(this.bi())return null;let n=null;for(const r of i)n=Cl(n,this.ph(t,e,r));return n}G(t){this.hh.clear(),this.rh.clear(),this.eh=t}oh(t){return this.eh[t].bn}dh(t){return this.eh[t]}_h(t,e){const i=this.mh(t);if(null===i&&0!==e)switch(e){case-1:return this.wh(t);case 1:return this.bh(t);default:throw new TypeError("Unknown search mode")}return i}wh(t){let e=this.gh(t);return e>0&&(e-=1),e!==this.eh.length&&this.oh(e)<t?e:null}bh(t){const e=this.Mh(t);return e!==this.eh.length&&t<this.oh(e)?e:null}mh(t){const e=this.gh(t);return e===this.eh.length||t<this.eh[e].bn?null:e}gh(t){return _a(this.eh,t,((t,e)=>t.bn<e))}Mh(t){return Sa(this.eh,t,((t,e)=>e.bn>t))}Sh(t,e,i){let n=null;for(let r=t;r<e;r++){const t=this.eh[r].Dt[i];Number.isNaN(t)||(null===n?n={yh:t,kh:t}:(t<n.yh&&(n.yh=t),t>n.kh&&(n.kh=t)))}return n}ph(t,e,i){if(this.bi())return null;let n=null;const r=mo(this.ah()),s=mo(this.ds()),o=Math.max(t,r),a=Math.min(e,s),l=Math.ceil(o/El)*El,u=Math.max(l,Math.floor(a/El)*El);{const t=this.gh(o),r=this.Mh(Math.min(a,l,e));n=Cl(n,this.Sh(t,r,i))}let c=this.rh.get(i);void 0===c&&(c=new Map,this.rh.set(i,c));for(let h=Math.max(l+1,o);h<u;h+=El){const t=Math.floor(h/El);let e=c.get(t);if(void 0===e){const n=this.gh(t*El),r=this.Mh((t+1)*El-1);e=this.Sh(n,r,i),c.set(t,e)}n=Cl(n,e)}{const t=this.gh(u),e=this.Mh(a);n=Cl(n,this.Sh(t,e,i))}return n}}function Cl(t,e){return null===t?e:null===e?t:{yh:Math.min(t.yh,e.yh),kh:Math.max(t.kh,e.kh)}}class Dl extends Tl{constructor(t,e,i){super(t),this.Nt=new Nl,this.jr=new ml(this),this.xh=[],this.Ch=new Qa(this),this.Th=null,this.Ph=null,this.Dh=[],this.Eh=[],this.Oh=null,this.$i=e,this.Ih=i;const n=new vl(this);this.Vi=[n],this.$r=new Ga(n,this,t),"Area"!==i&&"Line"!==i&&"Baseline"!==i||(this.Th=new rl(this)),this.Nh(),this.Rh()}S(){null!==this.Oh&&clearTimeout(this.Oh)}vr(t){return this.$i.priceLineColor||t}Ke(t){const e={Ze:!0},i=this.Pt();if(this.$t().St().bi()||i.bi()||this.Nt.bi())return e;const n=this.$t().St()._n(),r=this.xt();if(null===n||null===r)return e;let s,o;if(t){const t=this.Nt.lh();if(null===t)return e;s=t,o=t.bn}else{const t=this.Nt.uh(n.Ks(),-1);if(null===t)return e;if(s=this.Nt.nh(t.bn),null===s)return e;o=t.bn}const a=s.Dt[3],l=this.vn().Fn(o,{Dt:s}),u=i.Tt(a,r.Dt);return{Ze:!1,lt:a,ti:i.gi(a,r.Dt),Mr:i.Ah(a),Sr:i.Lh(a,r.Dt),I:l.Bn,si:u,bn:o}}vn(){return null!==this.Ph||(this.Ph=new xl(this)),this.Ph}F(){return this.$i}Hr(t){var e;const i=t.priceScaleId;void 0!==i&&i!==this.$i.priceScaleId&&this.$t().Vh(this,i);const n=null!==(e=this.$i.pane)&&void 0!==e?e:0;No(this.$i,t),void 0!==t.priceFormat&&(this.Nh(),this.$t().Bh()),t.pane&&n!==t.pane&&this.$t().Fh(this,n,t.pane),this.$t().zh(this),this.$t().Wh(),this.Zi.ft("options")}G(t,e){this.Nt.G(t),this.jh(),this.Zi.ft("data"),this.Hi.ft("data"),null!==this.Th&&(e&&e.$h?this.Th.Ue():0===t.length&&this.Th.He());const i=this.$t().we(this);this.$t().Hh(i),this.$t().zh(this),this.$t().Wh(),this.$t().Ur()}Uh(t){this.Dh=t,this.jh();const e=this.$t().we(this);this.Hi.ft("data"),this.$t().Hh(e),this.$t().zh(this),this.$t().Wh(),this.$t().Ur()}qh(){return this.Dh}dr(){return this.Eh}Yh(t){const e=new Sl(this,t);return this.xh.push(e),this.$t().zh(this),e}Xh(t){const e=this.xh.indexOf(t);-1!==e&&this.xh.splice(e,1),this.$t().zh(this)}Kr(){return this.Ih}xt(){const t=this.Kh();return null===t?null:{Dt:t.Dt[3],Zh:t.ht}}Kh(){const t=this.$t().St()._n();if(null===t)return null;const e=t.Xs();return this.Nt.uh(e,1)}fs(){return this.Nt}pr(t){const e=this.Nt.nh(t);return null===e?null:"Bar"===this.Ih||"Candlestick"===this.Ih?{Rn:e.Dt[0],An:e.Dt[1],Ln:e.Dt[2],Vn:e.Dt[3]}:e.Dt[3]}Gh(t){const e=this.Th;return null!==e&&e.kt()?(null===this.Oh&&e.Ye()&&(this.Oh=setTimeout((()=>{this.Oh=null,this.$t().Jh()}),0)),e.qe(),[e]):[]}hs(){const t=[];this.Qh()||t.push(this.Ch),t.push(this.Zi,this.jr,this.Hi);const e=this.xh.map((t=>t.qr()));return t.push(...e),t}Oi(t){return[this.$r,...this.xh.map((t=>t.Yr()))]}ls(t,e){if(e!==this.Ci&&!this.Qh())return[];const i=[...this.Vi];for(const n of this.xh)i.push(n.Xr());return i}tl(t,e){if(void 0!==this.$i.autoscaleInfoProvider){const i=this.$i.autoscaleInfoProvider((()=>{const i=this.il(t,e);return null===i?null:i.Nr()}));return gl.Rr(i)}return this.il(t,e)}sl(){return this.$i.priceFormat.minMove}nl(){return this.el}_s(){var t;this.Zi.ft(),this.Hi.ft();for(const e of this.Vi)e.ft();for(const e of this.xh)e.ft();this.jr.ft(),this.Ch.ft(),null===(t=this.Th)||void 0===t||t.ft()}Pt(){return mo(super.Pt())}yt(t){if("Line"!==this.Ih&&"Area"!==this.Ih&&"Baseline"!==this.Ih||!this.$i.crosshairMarkerVisible)return null;const e=this.Nt.nh(t);return null===e?null:{lt:e.Dt[3],et:this.rl(),Et:this.hl(),Ct:this.ll(t)}}mr(){return this.$i.title}kt(){return this.$i.visible}Qh(){return!oa(this.Pt().al())}il(t,e){if(!Do(t)||!Do(e)||this.Nt.bi())return null;const i="Line"===this.Ih||"Area"===this.Ih||"Baseline"===this.Ih||"Histogram"===this.Ih?[3]:[2,1],n=this.Nt.fh(t,e,i);let r=null!==n?new bl(n.yh,n.kh):null;if("Histogram"===this.Kr()){const t=this.$i.base,e=new bl(t,t);r=null!==r?r.Os(e):e}return new gl(r,this.Hi.cr())}rl(){switch(this.Ih){case"Line":case"Area":case"Baseline":return this.$i.crosshairMarkerRadius}return 0}hl(){switch(this.Ih){case"Line":case"Area":case"Baseline":{const t=this.$i.crosshairMarkerBorderColor;if(0!==t.length)return t}}return null}ll(t){switch(this.Ih){case"Line":case"Area":case"Baseline":{const t=this.$i.crosshairMarkerBackgroundColor;if(0!==t.length)return t}}return this.vn().Fn(t).Bn}Nh(){switch(this.$i.priceFormat.type){case"custom":this.el={format:this.$i.priceFormat.formatter};break;case"volume":this.el=new ha(this.$i.priceFormat.precision);break;case"percent":this.el=new ca(this.$i.priceFormat.precision);break;default:{const t=Math.pow(10,this.$i.priceFormat.precision);this.el=new ua(t,this.$i.priceFormat.minMove*t)}}null!==this.Ci&&this.Ci.ol()}jh(){const t=this.$t().St();if(t.bi()||0===this.Nt.un())return void(this.Eh=[]);const e=mo(this.Nt.ah());this.Eh=this.Dh.map(((i,n)=>{const r=mo(t._l(i.time,!0)),s=r<e?1:-1;return{time:mo(this.Nt.uh(r,s)).bn,position:i.position,shape:i.shape,color:i.color,id:i.id,internalId:n,text:i.text,size:i.size}}))}Rh(){switch(this.Hi=new yl(this,this.$t()),this.Ih){case"Bar":this.Zi=new ka(this,this.$t());break;case"Candlestick":this.Zi=new za(this,this.$t());break;case"Line":this.Zi=new Ha(this,this.$t());break;case"Area":this.Zi=new Na(this,this.$t());break;case"Baseline":this.Zi=new Ra(this,this.$t());break;case"Histogram":this.Zi=new Ya(this,this.$t());break;default:throw Error("Unknown chart style assigned: "+this.Ih)}}}class kl{constructor(t){this.$i=t}ul(t,e,i){let n=t;if(0===this.$i.mode)return n;const r=i.qi(),s=r.xt();if(null===s)return n;const o=r.Tt(t,s),a=i.gt().filter((t=>t instanceof Dl)).reduce(((t,n)=>{if(i.be(n)||!n.kt())return t;const r=n.Pt(),s=n.fs();if(r.bi()||!s.Ge(e))return t;const o=s.nh(e);if(null===o)return t;const a=vo(n.xt());return t.concat([r.Tt(o.Dt[3],a.Dt)])}),[]);if(0===a.length)return n;a.sort(((t,e)=>Math.abs(t-o)-Math.abs(e-o)));const l=a[0];return n=r.Yi(l,s),n}}class Ol{constructor(){this.Nt=null}G(t){this.Nt=t}q(t,e,i,n){if(null===this.Nt)return;const r=Math.max(1,Math.floor(e));t.lineWidth=r;const s=Math.ceil(this.Nt.Vt*e),o=Math.ceil(this.Nt.Lt*e);!function(t,e){t.save(),t.lineWidth%2&&t.translate(.5,.5),e(),t.restore()}(t,(()=>{const i=mo(this.Nt);if(i.cl){t.strokeStyle=i.dl,ho(t,i.fl),t.beginPath();for(const n of i.pl){const i=Math.round(n.vl*e);t.moveTo(i,-r),t.lineTo(i,s+r)}t.stroke()}if(i.ml){t.strokeStyle=i.wl,ho(t,i.bl),t.beginPath();for(const n of i.gl){const i=Math.round(n.vl*e);t.moveTo(-r,i),t.lineTo(o+r,i)}t.stroke()}}))}}class Al{constructor(t){this.Wt=new Ol,this.li=!0,this.Ni=t}ft(){this.li=!0}wt(t,e){if(this.li){const i=this.Ni.$t().F().grid,n={Vt:t,Lt:e,ml:i.horzLines.visible,cl:i.vertLines.visible,wl:i.horzLines.color,dl:i.vertLines.color,bl:i.horzLines.style,fl:i.vertLines.style,gl:this.Ni.qi().Ml(),pl:this.Ni.$t().St().Ml()||[]};this.Wt.G(n),this.li=!1}return this.Wt}}class Bl{constructor(t){this.Zi=new Al(t)}qr(){return this.Zi}}const Fl={Sl:4,yl:1e-4};function Ll(t,e){const i=100*(t-e)/e;return e<0?-i:i}function Pl(t,e){const i=Ll(t.Pr(),e),n=Ll(t.Dr(),e);return new bl(i,n)}function Ul(t,e){const i=100*(t-e)/e+100;return e<0?-i:i}function Rl(t,e){const i=Ul(t.Pr(),e),n=Ul(t.Dr(),e);return new bl(i,n)}function Vl(t,e){const i=Math.abs(t);if(i<1e-15)return 0;const n=Ba(i+e.yl)+e.Sl;return t<0?-n:n}function zl(t,e){const i=Math.abs(t);if(i<1e-15)return 0;const n=Math.pow(10,i-e.Sl)-e.yl;return t<0?-n:n}function jl(t,e){if(null===t)return null;const i=Vl(t.Pr(),e),n=Vl(t.Dr(),e);return new bl(i,n)}function $l(t,e){if(null===t)return null;const i=zl(t.Pr(),e),n=zl(t.Dr(),e);return new bl(i,n)}function Wl(t){if(null===t)return Fl;const e=Math.abs(t.Dr()-t.Pr());if(e>=1||e<1e-15)return Fl;const i=Math.ceil(Math.abs(Math.log10(e))),n=Fl.Sl+i;return{Sl:n,yl:1/Math.pow(10,n)}}class Yl{constructor(t,e){if(this.kl=t,this.xl=e,function(t){if(t<0)return!1;for(let e=t;e>1;e/=10)if(e%10!=0)return!1;return!0}(this.kl))this.Cl=[2,2.5,2];else{this.Cl=[];for(let t=this.kl;1!==t;){if(t%2==0)this.Cl.push(2),t/=2;else{if(t%5!=0)throw new Error("unexpected base");this.Cl.push(2,2.5),t/=5}if(this.Cl.length>100)throw new Error("something wrong with base")}}}Tl(t,e,i){const n=0===this.kl?0:1/this.kl;let r=Math.pow(10,Math.max(0,Math.ceil(Ba(t-e)))),s=0,o=this.xl[0];for(;;){const t=Aa(r,n,1e-14)&&r>n+1e-14,e=Aa(r,i*o,1e-14),a=Aa(r,1,1e-14);if(!(t&&e&&a))break;r/=o,o=this.xl[++s%this.xl.length]}if(r<=n+1e-14&&(r=n),r=Math.max(1,r),this.Cl.length>0&&(a=r,1,1e-14,Math.abs(a-1)<1e-14))for(s=0,o=this.Cl[0];Aa(r,i*o,1e-14)&&r>n+1e-14;)r/=o,o=this.Cl[++s%this.Cl.length];var a;return r}}class Hl{constructor(t,e,i,n){this.Pl=[],this.mi=t,this.kl=e,this.Dl=i,this.El=n}Tl(t,e){if(t<e)throw new Error("high < low");const i=this.mi.Xt(),n=(t-e)*this.Ol()/i,r=new Yl(this.kl,[2,2.5,2]),s=new Yl(this.kl,[2,2,2.5]),o=new Yl(this.kl,[2.5,2,2]),a=[];return a.push(r.Tl(t,e,n),s.Tl(t,e,n),o.Tl(t,e,n)),function(t){if(t.length<1)throw Error("array is empty");let e=t[0];for(let i=1;i<t.length;++i)t[i]<e&&(e=t[i]);return e}(a)}Il(){const t=this.mi,e=t.xt();if(null===e)return void(this.Pl=[]);const i=t.Xt(),n=this.Dl(i-1,e),r=this.Dl(0,e),s=this.mi.F().entireTextOnly?this.Nl()/2:0,o=s,a=i-1-s,l=Math.max(n,r),u=Math.min(n,r);if(l===u)return void(this.Pl=[]);let c=this.Tl(l,u),h=l%c;h+=h<0?c:0;const d=l>=u?1:-1;let f=null,p=0;for(let y=l-h;y>u;y-=c){const i=this.El(y,e,!0);null!==f&&Math.abs(i-f)<this.Ol()||i<o||i>a||(p<this.Pl.length?(this.Pl[p].vl=i,this.Pl[p].Rl=t.Al(y)):this.Pl.push({vl:i,Rl:t.Al(y)}),p++,f=i,t.Ll()&&(c=this.Tl(y*d,u)))}this.Pl.length=p}Ml(){return this.Pl}Nl(){return this.mi.P()}Ol(){return Math.ceil(2.5*this.Nl())}}function Zl(t){return t.slice().sort(((t,e)=>mo(t.Pi())-mo(e.Pi())))}var Kl;!function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"}(Kl||(Kl={}));const Jl=new ca,Gl=new ua(100,1);class ql{constructor(t,e,i,n){this.Vl=0,this.Bl=null,this.Ar=null,this.Fl=null,this.zl={Wl:!1,jl:null},this.$l=0,this.Hl=0,this.Ul=new Eo,this.ql=new Eo,this.Yl=[],this.Xl=null,this.Kl=null,this.Zl=null,this.Gl=null,this.el=Gl,this.Jl=Wl(null),this.Ql=t,this.$i=e,this.ta=i,this.ia=n,this.sa=new Hl(this,100,this.na.bind(this),this.ea.bind(this))}al(){return this.Ql}F(){return this.$i}Hr(t){if(No(this.$i,t),this.ol(),void 0!==t.mode&&this.ra({Ce:t.mode}),void 0!==t.scaleMargins){const e=yo(t.scaleMargins.top),i=yo(t.scaleMargins.bottom);if(e<0||e>1)throw new Error("Invalid top margin - expect value between 0 and 1, given=".concat(e));if(i<0||i>1||e+i>1)throw new Error("Invalid bottom margin - expect value between 0 and 1, given=".concat(i));if(e+i>1)throw new Error("Invalid margins - sum of margins must be less than 1, given=".concat(e+i));this.ha(),this.Kl=null}}la(){return this.$i.autoScale}Ll(){return 1===this.$i.mode}gr(){return 2===this.$i.mode}aa(){return 3===this.$i.mode}Ce(){return{Ms:this.$i.autoScale,oa:this.$i.invertScale,Ce:this.$i.mode}}ra(t){const e=this.Ce();let i=null;void 0!==t.Ms&&(this.$i.autoScale=t.Ms),void 0!==t.Ce&&(this.$i.mode=t.Ce,2!==t.Ce&&3!==t.Ce||(this.$i.autoScale=!0),this.zl.Wl=!1),1===e.Ce&&t.Ce!==e.Ce&&(function(t,e){if(null===t)return!1;const i=zl(t.Pr(),e),n=zl(t.Dr(),e);return isFinite(i)&&isFinite(n)}(this.Ar,this.Jl)?(i=$l(this.Ar,this.Jl),null!==i&&this._a(i)):this.$i.autoScale=!0),1===t.Ce&&t.Ce!==e.Ce&&(i=jl(this.Ar,this.Jl),null!==i&&this._a(i));const n=e.Ce!==this.$i.mode;n&&(2===e.Ce||this.gr())&&this.ol(),n&&(3===e.Ce||this.aa())&&this.ol(),void 0!==t.oa&&e.oa!==t.oa&&(this.$i.invertScale=t.oa,this.ua()),this.ql.m(e,this.Ce())}ca(){return this.ql}P(){return this.ta.fontSize}Xt(){return this.Vl}da(t){this.Vl!==t&&(this.Vl=t,this.ha(),this.Kl=null)}fa(){if(this.Bl)return this.Bl;const t=this.Xt()-this.pa()-this.va();return this.Bl=t,t}Vr(){return this.ma(),this.Ar}_a(t,e){const i=this.Ar;(e||null===i&&null!==t||null!==i&&!i.Cr(t))&&(this.Kl=null,this.Ar=t)}bi(){return this.ma(),0===this.Vl||!this.Ar||this.Ar.bi()}wa(t){return this.oa()?t:this.Xt()-1-t}Tt(t,e){return this.gr()?t=Ll(t,e):this.aa()&&(t=Ul(t,e)),this.ea(t,e)}fn(t,e,i){this.ma();const n=this.va(),r=mo(this.Vr()),s=r.Pr(),o=r.Dr(),a=this.fa()-1,l=this.oa(),u=a/(o-s),c=void 0===i?0:i.from,h=void 0===i?t.length:i.to,d=this.ba();for(let f=c;f<h;f++){const i=t[f],r=i.lt;if(isNaN(r))continue;let o=r;null!==d&&(o=d(i.lt,e));const a=n+u*(o-s),c=l?a:this.Vl-1-a;i.st=c}}In(t,e,i){this.ma();const n=this.va(),r=mo(this.Vr()),s=r.Pr(),o=r.Dr(),a=this.fa()-1,l=this.oa(),u=a/(o-s),c=void 0===i?0:i.from,h=void 0===i?t.length:i.to,d=this.ba();for(let f=c;f<h;f++){const i=t[f];let r=i.Rn,o=i.An,a=i.Ln,c=i.Vn;null!==d&&(r=d(i.Rn,e),o=d(i.An,e),a=d(i.Ln,e),c=d(i.Vn,e));let h=n+u*(r-s),p=l?h:this.Vl-1-h;i.En=p,h=n+u*(o-s),p=l?h:this.Vl-1-h,i.Tn=p,h=n+u*(a-s),p=l?h:this.Vl-1-h,i.Pn=p,h=n+u*(c-s),p=l?h:this.Vl-1-h,i.On=p}}Yi(t,e){const i=this.na(t,e);return this.ga(i,e)}ga(t,e){let i=t;return this.gr()?i=function(t,e){return e<0&&(t=-t),t/100*e+e}(i,e):this.aa()&&(i=function(t,e){return t-=100,e<0&&(t=-t),t/100*e+e}(i,e)),i}gt(){return this.Yl}Ma(){if(this.Xl)return this.Xl;let t=[];for(let e=0;e<this.Yl.length;e++){const i=this.Yl[e];null===i.Pi()&&i.Di(e+1),t.push(i)}return t=Zl(t),this.Xl=t,this.Xl}Sa(t){-1===this.Yl.indexOf(t)&&(this.Yl.push(t),this.ol(),this.ya())}ka(t){const e=this.Yl.indexOf(t);if(-1===e)throw new Error("source is not attached to scale");this.Yl.splice(e,1),0===this.Yl.length&&(this.ra({Ms:!0}),this._a(null)),this.ol(),this.ya()}xt(){let t=null;for(const e of this.Yl){const i=e.xt();null!==i&&(null===t||i.Zh<t.Zh)&&(t=i)}return null===t?null:t.Dt}oa(){return this.$i.invertScale}Ml(){const t=null===this.xt();if(null!==this.Kl&&(t||this.Kl.xa===t))return this.Kl.Ml;this.sa.Il();const e=this.sa.Ml();return this.Kl={Ml:e,xa:t},this.Ul.m(),e}Ca(){return this.Ul}Ta(t){this.gr()||this.aa()||null===this.Zl&&null===this.Fl&&(this.bi()||(this.Zl=this.Vl-t,this.Fl=mo(this.Vr()).Tr()))}Pa(t){if(this.gr()||this.aa())return;if(null===this.Zl)return;this.ra({Ms:!1}),(t=this.Vl-t)<0&&(t=0);let e=(this.Zl+.2*(this.Vl-1))/(t+.2*(this.Vl-1));const i=mo(this.Fl).Tr();e=Math.max(e,.1),i.Or(e),this._a(i)}Da(){this.gr()||this.aa()||(this.Zl=null,this.Fl=null)}Ea(t){this.la()||null===this.Gl&&null===this.Fl&&(this.bi()||(this.Gl=t,this.Fl=mo(this.Vr()).Tr()))}Oa(t){if(this.la())return;if(null===this.Gl)return;const e=mo(this.Vr()).Er()/(this.fa()-1);let i=t-this.Gl;this.oa()&&(i*=-1);const n=i*e,r=mo(this.Fl).Tr();r.Ir(n),this._a(r,!0),this.Kl=null}Ia(){this.la()||null!==this.Gl&&(this.Gl=null,this.Fl=null)}nl(){return this.el||this.ol(),this.el}gi(t,e){switch(this.$i.mode){case 2:return this.nl().format(Ll(t,e));case 3:return this.nl().format(Ul(t,e));default:return this.Wr(t)}}Al(t){switch(this.$i.mode){case 2:case 3:return this.nl().format(t);default:return this.Wr(t)}}Ah(t){return this.Wr(t,mo(this.Na()).nl())}Lh(t,e){return t=Ll(t,e),Jl.format(t)}Ra(){return this.Yl}Aa(t){this.zl={jl:t,Wl:!1}}_s(){this.Yl.forEach((t=>t._s()))}ol(){this.Kl=null;const t=this.Na();let e=100;null!==t&&(e=Math.round(1/t.sl())),this.el=Gl,this.gr()?(this.el=Jl,e=100):this.aa()?(this.el=new ua(100,1),e=100):null!==t&&(this.el=t.nl()),this.sa=new Hl(this,e,this.na.bind(this),this.ea.bind(this)),this.sa.Il()}ya(){this.Xl=null}Na(){return this.Yl[0]||null}pa(){return this.oa()?this.$i.scaleMargins.bottom*this.Xt()+this.Hl:this.$i.scaleMargins.top*this.Xt()+this.$l}va(){return this.oa()?this.$i.scaleMargins.top*this.Xt()+this.$l:this.$i.scaleMargins.bottom*this.Xt()+this.Hl}ma(){this.zl.Wl||(this.zl.Wl=!0,this.La())}ha(){this.Bl=null}ea(t,e){if(this.ma(),this.bi())return 0;t=this.Ll()&&t?Vl(t,this.Jl):t;const i=mo(this.Vr()),n=this.va()+(this.fa()-1)*(t-i.Pr())/i.Er();return this.wa(n)}na(t,e){if(this.ma(),this.bi())return 0;const i=this.wa(t),n=mo(this.Vr()),r=n.Pr()+n.Er()*((i-this.va())/(this.fa()-1));return this.Ll()?zl(r,this.Jl):r}ua(){this.Kl=null,this.sa.Il()}La(){const t=this.zl.jl;if(null===t)return;let e=null;const i=this.Ra();let n=0,r=0;for(const a of i){if(!a.kt())continue;const i=a.xt();if(null===i)continue;const s=a.tl(t.Xs(),t.Ks());let o=s&&s.Vr();if(null!==o){switch(this.$i.mode){case 1:o=jl(o,this.Jl);break;case 2:o=Pl(o,i.Dt);break;case 3:o=Rl(o,i.Dt)}if(e=null===e?o:e.Os(mo(o)),null!==s){const t=s.Br();null!==t&&(n=Math.max(n,t.above),r=Math.max(n,t.below))}}}if(n===this.$l&&r===this.Hl||(this.$l=n,this.Hl=r,this.Kl=null,this.ha()),null!==e){if(e.Pr()===e.Dr()){const t=this.Na(),i=5*(null===t||this.gr()||this.aa()?1:t.sl());this.Ll()&&(e=$l(e,this.Jl)),e=new bl(e.Pr()-i,e.Dr()+i),this.Ll()&&(e=jl(e,this.Jl))}if(this.Ll()){const t=$l(e,this.Jl),i=Wl(t);if(s=i,o=this.Jl,s.Sl!==o.Sl||s.yl!==o.yl){const n=null!==this.Fl?$l(this.Fl,this.Jl):null;this.Jl=i,e=jl(t,i),null!==n&&(this.Fl=jl(n,i))}}this._a(e)}else null===this.Ar&&(this._a(new bl(-.5,.5)),this.Jl=Wl(null));var s,o;this.zl.Wl=!0}ba(){return this.gr()?Ll:this.aa()?Ul:this.Ll()?t=>Vl(t,this.Jl):null}Wr(t,e){return void 0===this.ia.priceFormatter?(void 0===e&&(e=this.nl()),e.format(t)):this.ia.priceFormatter(t)}}class Xl{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.Yl=[],this.Va=new Map,this.Vl=0,this.de=0,this.Ba=1e3,this.Xl=null,this.Fa=new Eo,this.za=t,this.yi=e,this.Wa=new Bl(this);const n=e.F();this.ja=this.$a("left",n.leftPriceScale),this.Ha=0===i?this.$a("right",n.rightPriceScale):this.$a("non-primary",n.nonPrimaryPriceScale),this.ja.ca().l(this.Ua.bind(this,this.ja),this),this.Ha.ca().l(this.Ua.bind(this,this.Ha),this),this.qa(n)}qa(t){if(t.leftPriceScale&&this.ja.Hr(t.leftPriceScale),"right"===this.Ha.al()&&t.rightPriceScale&&this.Ha.Hr(t.rightPriceScale),"non-primary"===this.Ha.al()&&t.nonPrimaryPriceScale&&this.Ha.Hr(t.nonPrimaryPriceScale),t.localization&&(this.ja.ol(),this.Ha.ol()),t.overlayPriceScales){const e=Array.from(this.Va.values());for(const i of e){const e=mo(i[0].Pt());e.Hr(t.overlayPriceScales),t.localization&&e.ol()}}}Ya(t){switch(t){case"left":return this.ja;case"right":return this.Ha}return this.Va.has(t)?yo(this.Va.get(t))[0].Pt():null}S(){this.$t().Xa().v(this),this.ja.ca().v(this),this.Ha.ca().v(this),this.Yl.forEach((t=>{t.S&&t.S()})),this.Fa.m()}Ka(){return this.Ba}Za(t){this.Ba=t}$t(){return this.yi}Yt(){return this.de}Xt(){return this.Vl}Ga(t){this.de=t,this.Ja()}da(t){this.Vl=t,this.ja.da(t),this.Ha.da(t),this.Yl.forEach((e=>{if(this.be(e)){const i=e.Pt();null!==i&&i.da(t)}})),this.Ja()}gt(){return this.Yl}be(t){const e=t.Pt();return null===e||this.ja!==e&&this.Ha!==e}Sa(t,e,i){const n=void 0!==i?i:this.io().Qa+1;this.so(t,e,n)}ka(t){const e=this.Yl.indexOf(t);po(-1!==e,"removeDataSource: invalid data source"),this.Yl.splice(e,1);const i=mo(t.Pt()).al();if(this.Va.has(i)){const e=yo(this.Va.get(i)),n=e.indexOf(t);-1!==n&&(e.splice(n,1),0===e.length&&this.Va.delete(i))}const n=t.Pt();n&&n.gt().indexOf(t)>=0&&n.ka(t),null!==n&&(n.ya(),this.no(n)),this.Xl=null}Me(t){return t===this.ja?"left":t===this.Ha?"right":"overlay"}eo(){return this.ja}ro(){return this.Ha}ho(t,e){t.Ta(e)}lo(t,e){t.Pa(e),this.Ja()}ao(t){t.Da()}oo(t,e){t.Ea(e)}_o(t,e){t.Oa(e),this.Ja()}uo(t){t.Ia()}Ja(){this.Yl.forEach((t=>{t._s()}))}qi(){let t=null;return this.yi.F().rightPriceScale.visible&&0!==this.Ha.gt().length?t=this.Ha:this.yi.F().leftPriceScale.visible&&0!==this.ja.gt().length?t=this.ja:0!==this.Yl.length&&(t=this.Yl[0].Pt()),null===t&&(t=this.Ha),t}ge(){let t=null;return this.yi.F().rightPriceScale.visible?t=this.Ha:this.yi.F().leftPriceScale.visible&&(t=this.ja),t}no(t){null!==t&&t.la()&&this.co(t)}do(t){const e=this.za._n();t.ra({Ms:!0}),null!==e&&t.Aa(e),this.Ja()}fo(){this.co(this.ja),this.co(this.Ha)}po(){this.no(this.ja),this.no(this.Ha),this.Yl.forEach((t=>{this.be(t)&&this.no(t.Pt())})),this.Ja(),this.yi.Ur()}Ma(){return null===this.Xl&&(this.Xl=Zl(this.Yl)),this.Xl}vo(){return this.Fa}mo(){return this.Wa}co(t){const e=t.Ra();if(e&&e.length>0&&!this.za.bi()){const e=this.za._n();null!==e&&t.Aa(e)}t._s()}io(){const t=this.Ma();if(0===t.length)return{wo:0,Qa:0};let e=0,i=0;for(let n=0;n<t.length;n++){const r=t[n].Pi();null!==r&&(r<e&&(e=r),r>i&&(i=r))}return{wo:e,Qa:i}}so(t,e,i){let n=this.Ya(e);if(null===n&&(n=this.$a(e,this.yi.F().overlayPriceScales)),this.Yl.push(t),!oa(e)){const i=this.Va.get(e)||[];i.push(t),this.Va.set(e,i)}n.Sa(t),t.Ei(n),t.Di(i),this.no(n),this.Xl=null}Ua(t,e,i){e.Ce!==i.Ce&&this.co(t)}$a(t,e){const i=Object.assign({visible:!0,autoScale:!0},Ao(e)),n=new ql(t,i,this.yi.F().layout,this.yi.F().localization);return n.da(this.Xt()),n}}const Ql=t=>t.getUTCFullYear();class tu{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"yyyy-MM-dd",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";this.bo=t,this.Mo=e}So(t){return function(t,e,i){return e.replace(/yyyy/g,(t=>la(Ql(t),4))(t)).replace(/yy/g,(t=>la(Ql(t)%100,2))(t)).replace(/MMMM/g,((t,e)=>new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(e,{month:"long"}))(t,i)).replace(/MMM/g,((t,e)=>new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(e,{month:"short"}))(t,i)).replace(/MM/g,(t=>la((t=>t.getUTCMonth()+1)(t),2))(t)).replace(/dd/g,(t=>la((t=>t.getUTCDate())(t),2))(t))}(t,this.bo,this.Mo)}}class eu{constructor(t){this.yo=t||"%h:%m:%s"}So(t){return this.yo.replace("%h",la(t.getUTCHours(),2)).replace("%m",la(t.getUTCMinutes(),2)).replace("%s",la(t.getUTCSeconds(),2))}}const iu={ko:"yyyy-MM-dd",xo:"%h:%m:%s",Co:" ",To:"default"};class nu{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=Object.assign(Object.assign({},iu),t);this.Po=new tu(e.ko,e.To),this.Do=new eu(e.xo),this.Eo=e.Co}So(t){return"".concat(this.Po.So(t)).concat(this.Eo).concat(this.Do.So(t))}}class ru{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;this.Oo=0,this.Io=1,this.No=1,this.le=new Map,this.Ro=new Map,this.Ao=t,this.Lo=e}So(t){const e=t.ht,i=void 0===e.Vo?new Date(1e3*e.Bo).getTime():new Date(Date.UTC(e.Vo.year,e.Vo.month-1,e.Vo.day)).getTime(),n=this.le.get(i);if(void 0!==n)return n.Fo;if(this.Oo===this.Lo){const t=this.Ro.get(this.No);this.Ro.delete(this.No),this.le.delete(yo(t)),this.No++,this.Oo--}const r=this.Ao(t);return this.le.set(i,{Fo:r,zo:this.Io}),this.Ro.set(this.Io,i),this.Oo++,this.Io++,r}}class su{constructor(t,e){po(t<=e,"right should be >= left"),this.Wo=t,this.jo=e}Xs(){return this.Wo}Ks(){return this.jo}$o(){return this.jo-this.Wo+1}Ge(t){return this.Wo<=t&&t<=this.jo}Cr(t){return this.Wo===t.Xs()&&this.jo===t.Ks()}}function ou(t,e){return null===t||null===e?t===e:t.Cr(e)}class au{constructor(){this.Ho=new Map,this.le=null}Uo(t,e){this.qo(e),this.le=null;for(let i=e;i<t.length;++i){const e=t[i];let n=this.Ho.get(e.Yo);void 0===n&&(n=[],this.Ho.set(e.Yo,n)),n.push({bn:i,ht:e.ht,Xo:e.Yo,Ko:e.Ko})}}Zo(t,e){const i=Math.ceil(e/t);return null!==this.le&&this.le.Go===i||(this.le={Ml:this.Jo(i),Go:i}),this.le.Ml}qo(t){if(0===t)return void this.Ho.clear();const e=[];this.Ho.forEach(((i,n)=>{t<=i[0].bn?e.push(n):i.splice(_a(i,t,(e=>e.bn<t)),1/0)}));for(const i of e)this.Ho.delete(i)}Jo(t){let e=[];for(const i of Array.from(this.Ho.keys()).sort(((t,e)=>e-t))){if(!this.Ho.get(i))continue;const n=e;e=[];const r=n.length;let s=0;const o=yo(this.Ho.get(i)),a=o.length;let l=1/0,u=-1/0;for(let i=0;i<a;i++){const a=o[i],c=a.bn;for(;s<r;){const t=n[s],i=t.bn;if(!(i<c)){l=i;break}s++,e.push(t),u=i,l=1/0}l-c>=t&&c-u>=t&&(e.push(a),u=c)}for(;s<r;s++)e.push(n[s])}return e}}class lu{constructor(t){this.Qo=t}t_(){return null===this.Qo?null:new su(Math.floor(this.Qo.Xs()),Math.ceil(this.Qo.Ks()))}i_(){return this.Qo}static s_(){return new lu(null)}}var uu,cu,hu,du,fu;!function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(uu||(uu={}));class pu{constructor(t,e,i){this.de=0,this.n_=null,this.e_=[],this.Gl=null,this.Zl=null,this.r_=new au,this.h_=new Map,this.l_=lu.s_(),this.a_=!0,this.o_=new Eo,this.__=new Eo,this.u_=new Eo,this.c_=null,this.d_=null,this.f_=[],this.$i=e,this.ia=i,this.p_=e.rightOffset,this.v_=e.barSpacing,this.yi=t,this.m_()}F(){return this.$i}w_(t){No(this.ia,t),this.b_(),this.m_()}Hr(t,e){var i;No(this.$i,t),this.$i.fixLeftEdge&&this.g_(),this.$i.fixRightEdge&&this.M_(),void 0!==t.barSpacing&&this.yi.Ps(t.barSpacing),void 0!==t.rightOffset&&this.yi.Ds(t.rightOffset),void 0!==t.minBarSpacing&&this.yi.Ps(null!==(i=t.barSpacing)&&void 0!==i?i:this.v_),this.b_(),this.m_(),this.u_.m()}Xi(t){var e,i;return null!==(i=null===(e=this.e_[t])||void 0===e?void 0:e.ht)&&void 0!==i?i:null}ki(t){var e;return null!==(e=this.e_[t])&&void 0!==e?e:null}_l(t,e){if(this.e_.length<1)return null;if(t.Bo>this.e_[this.e_.length-1].ht.Bo)return e?this.e_.length-1:null;const i=_a(this.e_,t.Bo,((t,e)=>t.ht.Bo<e));return t.Bo<this.e_[i].ht.Bo?e?i:null:i}bi(){return 0===this.de||0===this.e_.length||null===this.n_}_n(){return this.S_(),this.l_.t_()}y_(){return this.S_(),this.l_.i_()}k_(){const t=this._n();if(null===t)return null;const e={from:t.Xs(),to:t.Ks()};return this.x_(e)}x_(t){const e=Math.round(t.from),i=Math.round(t.to),n=mo(this.C_()),r=mo(this.T_());return{from:mo(this.Xi(Math.max(n,e))),to:mo(this.Xi(Math.min(r,i)))}}P_(t){return{from:mo(this._l(t.from,!0)),to:mo(this._l(t.to,!0))}}Yt(){return this.de}Ga(t){if(!isFinite(t)||t<=0)return;if(this.de===t)return;const e=this.y_(),i=this.de;if(this.de=t,this.a_=!0,this.$i.lockVisibleTimeRangeOnResize&&0!==i){const e=this.v_*t/i;this.v_=e}if(this.$i.fixLeftEdge&&null!==e&&e.Xs()<=0){const e=i-t;this.p_-=Math.round(e/this.v_)+1,this.a_=!0}this.D_(),this.E_()}It(t){if(this.bi()||!Do(t))return 0;const e=this.O_()+this.p_-t;return this.de-(e+.5)*this.v_-1}dn(t,e){const i=this.O_(),n=void 0===e?0:e.from,r=void 0===e?t.length:e.to;for(let s=n;s<r;s++){const e=t[s].ht,n=i+this.p_-e,r=this.de-(n+.5)*this.v_-1;t[s].it=r}}I_(t){return Math.ceil(this.N_(t))}Ds(t){this.a_=!0,this.p_=t,this.E_(),this.yi.R_(),this.yi.Ur()}Sn(){return this.v_}Ps(t){this.A_(t),this.E_(),this.yi.R_(),this.yi.Ur()}L_(){return this.p_}Ml(){if(this.bi())return null;if(null!==this.d_)return this.d_;const t=this.v_,e=5*(this.yi.F().layout.fontSize+4),i=Math.round(e/t),n=mo(this._n()),r=Math.max(n.Xs(),n.Xs()-i),s=Math.max(n.Ks(),n.Ks()-i),o=this.r_.Zo(t,e),a=this.C_()+i,l=this.T_()-i,u=this.V_(),c=this.$i.fixLeftEdge||u,h=this.$i.fixRightEdge||u;let d=0;for(const f of o){if(!(r<=f.bn&&f.bn<=s))continue;let t;d<this.f_.length?(t=this.f_[d],t.vl=this.It(f.bn),t.Rl=this.B_(f),t.Xo=f.Xo):(t={F_:!1,vl:this.It(f.bn),Rl:this.B_(f),Xo:f.Xo},this.f_.push(t)),this.v_>e/2&&!u?t.F_=!1:t.F_=c&&f.bn<=a||h&&f.bn>=l,d++}return this.f_.length=d,this.d_=this.f_,this.f_}z_(){this.a_=!0,this.Ps(this.$i.barSpacing),this.Ds(this.$i.rightOffset)}W_(t){this.a_=!0,this.n_=t,this.E_(),this.g_()}j_(t,e){const i=this.N_(t),n=this.Sn(),r=n+e*(n/10);this.Ps(r),this.$i.rightBarStaysOnScroll||this.Ds(this.L_()+(i-this.N_(t)))}Ta(t){this.Gl&&this.Ia(),null===this.Zl&&null===this.c_&&(this.bi()||(this.Zl=t,this.H_()))}Pa(t){if(null===this.c_)return;const e=Oa(this.de-t,0,this.de),i=Oa(this.de-mo(this.Zl),0,this.de);0!==e&&0!==i&&this.Ps(this.c_.Sn*e/i)}Da(){null!==this.Zl&&(this.Zl=null,this.U_())}Ea(t){null===this.Gl&&null===this.c_&&(this.bi()||(this.Gl=t,this.H_()))}Oa(t){if(null===this.Gl)return;const e=(this.Gl-t)/this.Sn();this.p_=mo(this.c_).L_+e,this.a_=!0,this.E_()}Ia(){null!==this.Gl&&(this.Gl=null,this.U_())}q_(){this.Y_(this.$i.rightOffset)}Y_(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const i=this.p_,n=performance.now(),r=()=>{const s=(performance.now()-n)/e,o=s>=1,a=o?t:i+(t-i)*s;this.Ds(a),o||setTimeout(r,20)};r()}ft(t,e){this.a_=!0,this.e_=t,this.r_.Uo(t,e),this.E_()}X_(){return this.o_}K_(){return this.__}Z_(){return this.u_}O_(){return this.n_||0}G_(t){const e=t.$o();this.A_(this.de/e),this.p_=t.Ks()-this.O_(),this.E_(),this.a_=!0,this.yi.R_(),this.yi.Ur()}J_(){const t=this.C_(),e=this.T_();null!==t&&null!==e&&this.G_(new su(t,e+this.$i.rightOffset))}Q_(t){const e=new su(t.from,t.to);this.G_(e)}xi(t){return void 0!==this.ia.timeFormatter?this.ia.timeFormatter(t.Ko):this.tu.So(new Date(1e3*t.ht.Bo))}V_(){const{handleScroll:t,handleScale:e}=this.yi.F();return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||e.axisDoubleClickReset||e.axisPressedMouseMove.time||e.mouseWheel||e.pinch)}C_(){return 0===this.e_.length?null:0}T_(){return 0===this.e_.length?null:this.e_.length-1}iu(t){return(this.de-1-t)/this.v_}N_(t){const e=this.iu(t),i=this.O_()+this.p_-e;return Math.round(1e6*i)/1e6}A_(t){const e=this.v_;this.v_=t,this.D_(),e!==this.v_&&(this.a_=!0,this.su())}S_(){if(!this.a_)return;if(this.a_=!1,this.bi())return void this.nu(lu.s_());const t=this.O_(),e=this.de/this.v_,i=this.p_+t,n=new su(i-e+1,i);this.nu(new lu(n))}D_(){const t=this.eu();if(this.v_<t&&(this.v_=t,this.a_=!0),0!==this.de){const t=.5*this.de;this.v_>t&&(this.v_=t,this.a_=!0)}}eu(){return this.$i.fixLeftEdge&&this.$i.fixRightEdge&&0!==this.e_.length?this.de/this.e_.length:this.$i.minBarSpacing}E_(){const t=this.ru();this.p_>t&&(this.p_=t,this.a_=!0);const e=this.hu();null!==e&&this.p_<e&&(this.p_=e,this.a_=!0)}hu(){const t=this.C_(),e=this.n_;return null===t||null===e?null:t-e-1+(this.$i.fixLeftEdge?this.de/this.v_:Math.min(2,this.e_.length))}ru(){return this.$i.fixRightEdge?0:this.de/this.v_-Math.min(2,this.e_.length)}H_(){this.c_={Sn:this.Sn(),L_:this.L_()}}U_(){this.c_=null}B_(t){let e=this.h_.get(t.Xo);return void 0===e&&(e=new ru((t=>this.lu(t))),this.h_.set(t.Xo,e)),e.So(t)}lu(t){const e=function(t,e,i){switch(t){case 0:case 10:return e?i?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return e?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.Xo,this.$i.timeVisible,this.$i.secondsVisible);return void 0!==this.$i.tickMarkFormatter?this.$i.tickMarkFormatter(t.Ko,e,this.ia.locale):function(t,e,i){const n={};switch(e){case 0:n.year="numeric";break;case 1:n.month="short";break;case 2:n.day="numeric";break;case 3:n.hour12=!1,n.hour="2-digit",n.minute="2-digit";break;case 4:n.hour12=!1,n.hour="2-digit",n.minute="2-digit",n.second="2-digit"}const r=void 0===t.Vo?new Date(1e3*t.Bo):new Date(Date.UTC(t.Vo.year,t.Vo.month-1,t.Vo.day));return new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()).toLocaleString(i,n)}(t.ht,e,this.ia.locale)}nu(t){const e=this.l_;this.l_=t,ou(e.t_(),this.l_.t_())||this.o_.m(),ou(e.i_(),this.l_.i_())||this.__.m(),this.su()}su(){this.d_=null}b_(){this.su(),this.h_.clear()}m_(){const t=this.ia.dateFormat;this.$i.timeVisible?this.tu=new nu({ko:t,xo:this.$i.secondsVisible?"%h:%m:%s":"%h:%m",Co:"   ",To:this.ia.locale}):this.tu=new tu(t,this.ia.locale)}g_(){if(!this.$i.fixLeftEdge)return;const t=this.C_();if(null===t)return;const e=this._n();if(null===e)return;const i=e.Xs()-t;if(i<0){const t=this.p_-i-1;this.Ds(t)}this.D_()}M_(){this.E_(),this.D_()}}class yu extends Vo{constructor(t){super(),this.au=new Map,this.Nt=t}Y(t){}K(t){if(!this.Nt.kt)return;t.save();let e=0;for(const n of this.Nt.ou){if(0===n.ti.length)continue;t.font=n.D;const i=this._u(t,n.ti);i>this.Nt.Yt?n.j_=this.Nt.Yt/i:n.j_=1,e+=n.uu*n.j_}let i=0;switch(this.Nt.cu){case"top":i=0;break;case"center":i=Math.max((this.Nt.Xt-e)/2,0);break;case"bottom":i=Math.max(this.Nt.Xt-e,0)}t.fillStyle=this.Nt.I;for(const n of this.Nt.ou){t.save();let e=0;switch(this.Nt.du){case"left":t.textAlign="left",e=n.uu/2;break;case"center":t.textAlign="center",e=this.Nt.Yt/2;break;case"right":t.textAlign="right",e=this.Nt.Yt-1-n.uu/2}t.translate(e,i),t.textBaseline="top",t.font=n.D,t.scale(n.j_,n.j_),t.fillText(n.ti,0,n.fu),t.restore(),i+=n.uu*n.j_}t.restore()}_u(t,e){const i=this.pu(t.font);let n=i.get(e);return void 0===n&&(n=t.measureText(e).width,i.set(e,n)),n}pu(t){let e=this.au.get(t);return void 0===e&&(e=new Map,this.au.set(t,e)),e}}class mu{constructor(t){this.li=!0,this.zt={kt:!1,I:"",Xt:0,Yt:0,ou:[],cu:"center",du:"center"},this.Wt=new yu(this.zt),this.jt=t}ft(){this.li=!0}wt(t,e){return this.li&&(this.bt(t,e),this.li=!1),this.Wt}bt(t,e){const i=this.jt.F(),n=this.zt;n.kt=i.visible,n.kt&&(n.I=i.color,n.Yt=e,n.Xt=t,n.du=i.horzAlign,n.cu=i.vertAlign,n.ou=[{ti:i.text,D:Po(i.fontSize,i.fontFamily,i.fontStyle),uu:1.2*i.fontSize,fu:0,j_:0}])}}class vu extends na{constructor(t,e){super(),this.$i=e,this.Zi=new mu(this)}ls(){return[]}hs(){return[this.Zi]}F(){return this.$i}_s(){this.Zi.ft()}}!function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"}(cu||(cu={}));class bu{constructor(t,e){this.vu=[],this.mu=new Map,this.wu=[],this.de=0,this.bu=null,this.gu=null,this.Mu=new Eo,this.Su=new Eo,this.yu=!1,this.ku=null,this.xu=t,this.$i=e,this.Cu=new Uo(this),this.za=new pu(this,e.timeScale,this.$i.localization),this.dt=new sa(this,e.crosshair),this.Tu=new kl(e.crosshair),this.Pu=new vu(this,e.watermark),this.Du(),this.vu[0].Za(2e3),this.Eu=this.Ou(0),this.Iu=this.Ou(1)}Bh(){this.Nu(new aa(3))}Ur(){this.Nu(new aa(2))}Jh(){this.Nu(new aa(1))}zh(t){const e=this.Ru(t);this.Nu(e)}Au(){return this.gu}Lu(t){const e=this.gu;this.gu=t,null!==e&&this.zh(e.Vu),null!==t&&this.zh(t.Vu)}F(){return this.$i}Hr(t){No(this.$i,t),this.vu.forEach((e=>e.qa(t))),void 0!==t.timeScale&&this.za.Hr(t.timeScale),void 0!==t.localization&&this.za.w_(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.Mu.m(),this.Eu=this.Ou(0),this.Iu=this.Ou(1),this.Bh()}Bu(t,e){if("left"===t)return void this.Hr({leftPriceScale:e});if("right"===t)return void this.Hr({rightPriceScale:e});const i=this.Fu(t);null!==i&&(i.Pt.Hr(e),this.Mu.m())}Fu(t){for(const e of this.vu){const i=e.Ya(t);if(null!==i)return{Ht:e,Pt:i}}return null}St(){return this.za}zu(){return this.vu}Wu(){return this.Pu}ju(){return this.dt}$u(){return this.Su}Hu(t,e){t.da(e),this.R_()}Ga(t){this.de=t,this.za.Ga(this.de),this.vu.forEach((e=>e.Ga(t))),this.R_()}Du(t){if(void 0!==t)if(t>this.vu.length)for(let r=this.vu.length;r<t;r++)this.Du(r);else if(t<this.vu.length)return this.vu[t];const e=void 0===t?this.vu.length-1+1:t,i=new Xl(this.za,this,e);void 0!==t?this.vu.splice(t,0,i):this.vu.push(i),this.Uu();const n=new aa(3);return n.bs(e,{gs:0,Ms:!0}),this.Nu(n),i}qu(t){if(0===t)return;if(this.vu[t].Ma().forEach((t=>{t instanceof Dl&&this.Yu(t)})),this.yu=!0,t!==this.vu.length-1)for(let i=t+1;i<this.vu.length;i++)this.vu[i].Ma().forEach((t=>{t instanceof Dl&&t.Hr({pane:i-1})}));this.vu.splice(t,1),this.yu=!1,this.Uu();const e=new aa(3);this.Nu(e)}Xu(t,e){const i=this.vu[t],n=this.vu[e];this.yu=!0,i.Ma().forEach((t=>{t instanceof Dl&&t.Hr({pane:e})})),n.Ma().forEach((e=>{e instanceof Dl&&e.Hr({pane:t})})),this.vu[t]=n,this.vu[e]=i,this.yu=!1,this.Uu(),this.Nu(new aa(3))}ho(t,e,i){t.ho(e,i)}lo(t,e,i){t.lo(e,i),this.Wh(),this.Nu(this.Ku(t,2))}ao(t,e){t.ao(e),this.Nu(this.Ku(t,2))}oo(t,e,i){e.la()||t.oo(e,i)}_o(t,e,i){e.la()||(t._o(e,i),this.Wh(),this.Nu(this.Ku(t,2)))}uo(t,e){e.la()||(t.uo(e),this.Nu(this.Ku(t,2)))}do(t,e){t.do(e),this.Nu(this.Ku(t,2))}Zu(t){this.za.Ta(t)}Gu(t,e){const i=this.St();if(i.bi()||0===e)return;const n=i.Yt();t=Math.max(1,Math.min(t,n)),i.j_(t,e),this.R_()}Ju(t){this.Qu(0),this.tc(t),this.ic()}sc(t){this.za.Pa(t),this.R_()}nc(){this.za.Da(),this.Ur()}Qu(t){this.bu=t,this.za.Ea(t)}tc(t){let e=!1;return null!==this.bu&&Math.abs(t-this.bu)>20&&(this.bu=null,e=!0),this.za.Oa(t),this.R_(),e}ic(){this.za.Ia(),this.Ur(),this.bu=null}vt(){return this.wu}ec(t,e,i){this.dt.Gi(t,e);let n=NaN,r=this.za.I_(t);const s=this.za._n();null!==s&&(r=Math.min(Math.max(s.Xs(),r),s.Ks()));const o=i.qi(),a=o.xt();null!==a&&(n=o.Yi(e,a)),n=this.Tu.ul(n,r,i),this.dt.ss(r,n,i),this.Jh();const l=this.rc(i);this.Su.m(this.dt.Mt(),{x:t,y:e,hc:l})}lc(){this.ju().es(),this.Jh(),this.Su.m(null,null)}Wh(){const t=this.dt.Ht();if(null!==t){const e=this.dt.Qi(),i=this.dt.ts();this.ec(e,i,t)}this.dt._s()}ac(t,e,i){const n=this.za.Xi(0);void 0!==e&&void 0!==i&&this.za.ft(e,i);const r=this.za.Xi(0),s=this.za.O_(),o=this.za._n();if(null!==o&&null!==n&&null!==r){const e=o.Ge(s),i=n.Bo>r.Bo,a=null!==t&&t>s&&!i,l=e&&this.za.F().shiftVisibleRangeOnNewBar;if(a&&!l){const e=t-s;this.za.Ds(this.za.L_()-e)}}this.za.W_(t)}Hh(t){null!==t&&t.po()}we(t){const e=this.vu.find((e=>e.Ma().includes(t)));return void 0===e?null:e}R_(){this.Pu._s(),this.vu.forEach((t=>t.po())),this.Wh()}S(){this.vu.forEach((t=>t.S())),this.vu.length=0,this.$i.localization.priceFormatter=void 0,this.$i.localization.timeFormatter=void 0}oc(){return this.Cu}Se(){return this.Cu.F()}Xa(){return this.Mu}_c(t,e){const i=e.pane||0;this.vu.length-1<=i&&this.Du(i);const n=this.vu[i],r=this.uc(e,t,n);return this.wu.push(r),1===this.wu.length?this.Bh():this.Ur(),r}Yu(t){const e=this.we(t),i=this.wu.indexOf(t);po(-1!==i,"Series not found"),this.wu.splice(i,1),mo(e).ka(t),t.S&&t.S()}Vh(t,e){const i=mo(this.we(t));i.ka(t);const n=this.Fu(e);if(null===n){const n=t.Pi();i.Sa(t,e,n)}else{const r=n.Ht===i?t.Pi():void 0;n.Ht.Sa(t,e,r)}}J_(){const t=new aa(2);t.ks(),this.Nu(t)}cc(t){const e=new aa(2);e.Cs(t),this.Nu(e)}Ts(){const t=new aa(2);t.Ts(),this.Nu(t)}Ps(t){const e=new aa(2);e.Ps(t),this.Nu(e)}Ds(t){const e=new aa(2);e.Ds(t),this.Nu(e)}dc(){return this.$i.rightPriceScale.visible?"right":"left"}Fh(t,e,i){if(i===e||this.yu)return;t.F().pane!==i&&t.Hr({pane:i});const n=this.we(t);null==n||n.ka(t);const r=this.Du(i);this.fc(t,r)}vc(){return this.Iu}mc(){return this.Eu}Ot(t){const e=this.Iu,i=this.Eu;if(e===i)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),null===this.ku||this.ku.Hs!==i||this.ku.Us!==e)this.ku={Hs:i,Us:e,wc:new Map};else{const e=this.ku.wc.get(t);if(void 0!==e)return e}const n=function(t,e,i){const[n,r,s,o]=xo(t),[a,l,u,c]=xo(e),h=[go(n+i*(a-n)),go(r+i*(l-r)),go(s+i*(u-s)),wo(o+i*(c-o))];return"rgba(".concat(h[0],", ").concat(h[1],", ").concat(h[2],", ").concat(h[3],")")}(i,e,t/100);return this.ku.wc.set(t,n),n}rc(t){var e;return null!==(e=this.mu.get(t))&&void 0!==e?e:0}Ku(t,e){const i=new aa(e);if(null!==t){const n=this.vu.indexOf(t);i.bs(n,{gs:e})}return i}Ru(t,e){return void 0===e&&(e=2),this.Ku(this.we(t),e)}Nu(t){this.xu&&this.xu(t),this.vu.forEach((t=>t.mo().qr().ft()))}uc(t,e,i){const n=new Dl(this,t,e);return this.fc(n,i),n}fc(t,e){const i=t.F().priceScaleId,n=void 0!==i?i:this.dc();e.Sa(t,n),oa(n)||t.Hr(t.F())}Ou(t){const e=this.$i.layout;return"gradient"===e.background.type?0===t?e.background.topColor:e.background.bottomColor:e.background.color}Uu(){this.mu.clear();for(let t=0;t<this.vu.length;t++)this.mu.set(this.vu[t],t)}}function gu(t){void 0!==t.borderColor&&(t.borderUpColor=t.borderColor,t.borderDownColor=t.borderColor),void 0!==t.wickColor&&(t.wickUpColor=t.wickColor,t.wickDownColor=t.wickColor)}function wu(t){return!Co(t)&&!ko(t)}function _u(t){return Co(t)}!function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"}(hu||(hu={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}(du||(du={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}(fu||(fu={}));class Su{constructor(t,e){this.Lt=t,this.Vt=e}Cr(t){return this.Lt===t.Lt&&this.Vt===t.Vt}}function Tu(t){return t.ownerDocument&&t.ownerDocument.defaultView&&t.ownerDocument.defaultView.devicePixelRatio||1}function Iu(t){const e=mo(t.getContext("2d"));return e.setTransform(1,0,0,1,0,0),e}function xu(t,e){const i=t.createElement("canvas"),n=Tu(i);return i.style.width="".concat(e.Lt,"px"),i.style.height="".concat(e.Vt,"px"),i.width=e.Lt*n,i.height=e.Vt*n,i}function Mu(t,e){const i=mo(t.ownerDocument).createElement("canvas");t.appendChild(i);const n=(void 0===(r={allowDownsampling:!1})&&(r=oo),new co(i,r));var r;return n.resizeCanvas({width:e.Lt,height:e.Vt}),n}const Eu="undefined"!=typeof window;function Nu(){return!!Eu&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function Cu(){return!!Eu&&/iPhone|iPad|iPod/.test(window.navigator.platform)}class Du{constructor(t,e,i){this.bc=0,this.gc=null,this.Mc={it:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.Sc=0,this.yc=null,this.kc={it:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.xc=null,this.Cc=!1,this.Tc=null,this.Pc=null,this.Dc=!1,this.Ec=!1,this.Oc=!1,this.Ic=null,this.Nc=null,this.Rc=null,this.Ac=null,this.Lc=null,this.Vc=null,this.Bc=null,this.Fc=0,this.zc=!1,this.Wc=!1,this.jc=!1,this.$c=0,this.Hc=null,this.Uc=!Cu(),this.qc=t=>{this.Yc(t)},this.Xc=t=>{if(this.Kc(t)){const e=this.Zc(t);if(++this.Sc,this.yc&&this.Sc>1){const{Gc:i}=this.Jc(Au(t),this.kc);i<30&&!this.Oc&&this.Qc(e,this.sd.td),this.nd()}}else{const e=this.Zc(t);if(++this.bc,this.gc&&this.bc>1){const{Gc:i}=this.Jc(Au(t),this.Mc);i<5&&!this.Ec&&this.ed(e,this.sd.rd),this.hd()}}},this.ld=t,this.sd=e,this.$i=i,this.ad()}S(){null!==this.Ic&&(this.Ic(),this.Ic=null),null!==this.Nc&&(this.Nc(),this.Nc=null),null!==this.Ac&&(this.Ac(),this.Ac=null),null!==this.Lc&&(this.Lc(),this.Lc=null),null!==this.Vc&&(this.Vc(),this.Vc=null),null!==this.Rc&&(this.Rc(),this.Rc=null),this.od(),this.hd()}_d(t){this.Ac&&this.Ac();const e=this.ud.bind(this);if(this.Ac=()=>{this.ld.removeEventListener("mousemove",e)},this.ld.addEventListener("mousemove",e),this.Kc(t))return;const i=this.Zc(t);this.ed(i,this.sd.dd),this.Uc=!0}hd(){null!==this.gc&&clearTimeout(this.gc),this.bc=0,this.gc=null,this.Mc={it:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}nd(){null!==this.yc&&clearTimeout(this.yc),this.Sc=0,this.yc=null,this.kc={it:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}ud(t){if(this.jc||null!==this.Pc)return;if(this.Kc(t))return;const e=this.Zc(t);this.ed(e,this.sd.fd),this.Uc=!0}pd(t){const e=Fu(t.changedTouches,mo(this.Hc));if(null===e)return;if(this.$c=Bu(t),null!==this.Bc)return;if(this.Wc)return;this.zc=!0;const i=this.Jc(Au(e),mo(this.Pc)),{vd:n,md:r,Gc:s}=i;if(this.Dc||!(s<5)){if(!this.Dc){const t=.5*n,e=r>=t&&!this.$i.wd(),i=t>r&&!this.$i.bd();e||i||(this.Wc=!0),this.Dc=!0,this.Oc=!0,this.od(),this.nd()}if(!this.Wc){const i=this.Zc(t,e);this.Qc(i,this.sd.gd),Ou(t)}}}Md(t){if(0!==t.button)return;const e=this.Jc(Au(t),mo(this.Tc)),{Gc:i}=e;if(i>=5&&(this.Ec=!0,this.hd()),this.Ec){const e=this.Zc(t);this.ed(e,this.sd.Sd)}}Jc(t,e){const i=Math.abs(e.it-t.it),n=Math.abs(e.st-t.st);return{vd:i,md:n,Gc:i+n}}yd(t){let e=Fu(t.changedTouches,mo(this.Hc));if(null===e&&0===t.touches.length&&(e=t.changedTouches[0]),null===e)return;this.Hc=null,this.$c=Bu(t),this.od(),this.Pc=null,this.Vc&&(this.Vc(),this.Vc=null);const i=this.Zc(t,e);if(this.Qc(i,this.sd.kd),++this.Sc,this.yc&&this.Sc>1){const{Gc:t}=this.Jc(Au(e),this.kc);t<30&&!this.Oc&&this.Qc(i,this.sd.td),this.nd()}else this.Oc||(this.Qc(i,this.sd.xd),this.sd.xd&&Ou(t));0===this.Sc&&Ou(t),0===t.touches.length&&this.Cc&&(this.Cc=!1,Ou(t))}Yc(t){if(0!==t.button)return;const e=this.Zc(t);if(this.Tc=null,this.jc=!1,this.Lc&&(this.Lc(),this.Lc=null),Nu()&&this.ld.ownerDocument.documentElement.removeEventListener("mouseleave",this.qc),!this.Kc(t))if(this.ed(e,this.sd.Cd),++this.bc,this.gc&&this.bc>1){const{Gc:i}=this.Jc(Au(t),this.Mc);i<5&&!this.Ec&&this.ed(e,this.sd.rd),this.hd()}else this.Ec||this.ed(e,this.sd.Td)}od(){null!==this.xc&&(clearTimeout(this.xc),this.xc=null)}Pd(t){if(null!==this.Hc)return;const e=t.changedTouches[0];this.Hc=e.identifier,this.$c=Bu(t);const i=this.ld.ownerDocument.documentElement;this.Oc=!1,this.Dc=!1,this.Wc=!1,this.Pc=Au(e),this.Vc&&(this.Vc(),this.Vc=null);{const e=this.pd.bind(this),n=this.yd.bind(this);this.Vc=()=>{i.removeEventListener("touchmove",e),i.removeEventListener("touchend",n)},i.addEventListener("touchmove",e,{passive:!1}),i.addEventListener("touchend",n,{passive:!1}),this.od(),this.xc=setTimeout(this.Dd.bind(this,t),240)}const n=this.Zc(t,e);this.Qc(n,this.sd.Ed),this.yc||(this.Sc=0,this.yc=setTimeout(this.nd.bind(this),500),this.kc=Au(e))}Od(t){if(0!==t.button)return;const e=this.ld.ownerDocument.documentElement;Nu()&&e.addEventListener("mouseleave",this.qc),this.Ec=!1,this.Tc=Au(t),this.Lc&&(this.Lc(),this.Lc=null);{const t=this.Md.bind(this),i=this.Yc.bind(this);this.Lc=()=>{e.removeEventListener("mousemove",t),e.removeEventListener("mouseup",i)},e.addEventListener("mousemove",t),e.addEventListener("mouseup",i)}if(this.jc=!0,this.Kc(t))return;const i=this.Zc(t);this.ed(i,this.sd.Id),this.gc||(this.bc=0,this.gc=setTimeout(this.hd.bind(this),500),this.Mc=Au(t))}ad(){this.ld.addEventListener("mouseenter",this._d.bind(this)),this.ld.addEventListener("touchcancel",this.od.bind(this));{const t=this.ld.ownerDocument,e=t=>{this.sd.Nd&&(t.target&&this.ld.contains(t.target)||this.sd.Nd())};this.Nc=()=>{t.removeEventListener("touchstart",e)},this.Ic=()=>{t.removeEventListener("mousedown",e)},t.addEventListener("mousedown",e),t.addEventListener("touchstart",e,{passive:!0})}Cu()&&(this.Rc=()=>{this.ld.removeEventListener("dblclick",this.Xc)},this.ld.addEventListener("dblclick",this.Xc)),this.ld.addEventListener("mouseleave",this.Rd.bind(this)),this.ld.addEventListener("touchstart",this.Pd.bind(this),{passive:!0}),function(t){Eu&&void 0!==window.chrome&&t.addEventListener("mousedown",(t=>{if(1===t.button)return t.preventDefault(),!1}))}(this.ld),this.ld.addEventListener("mousedown",this.Od.bind(this)),this.Ad(),this.ld.addEventListener("touchmove",(()=>{}),{passive:!1})}Ad(){void 0===this.sd.Ld&&void 0===this.sd.Vd&&void 0===this.sd.Bd||(this.ld.addEventListener("touchstart",(t=>this.Fd(t.touches)),{passive:!0}),this.ld.addEventListener("touchmove",(t=>{if(2===t.touches.length&&null!==this.Bc&&void 0!==this.sd.Vd){const e=ku(t.touches[0],t.touches[1])/this.Fc;this.sd.Vd(this.Bc,e),Ou(t)}}),{passive:!1}),this.ld.addEventListener("touchend",(t=>{this.Fd(t.touches)})))}Fd(t){1===t.length&&(this.zc=!1),2!==t.length||this.zc||this.Cc?this.zd():this.Wd(t)}Wd(t){const e=this.ld.getBoundingClientRect()||{left:0,top:0};this.Bc={it:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,st:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.Fc=ku(t[0],t[1]),void 0!==this.sd.Ld&&this.sd.Ld(),this.od()}zd(){null!==this.Bc&&(this.Bc=null,void 0!==this.sd.Bd&&this.sd.Bd())}Rd(t){if(this.Ac&&this.Ac(),this.Kc(t))return;if(!this.Uc)return;const e=this.Zc(t);this.ed(e,this.sd.jd),this.Uc=!Cu()}Dd(t){const e=Fu(t.touches,mo(this.Hc));if(null===e)return;const i=this.Zc(t,e);this.Qc(i,this.sd.$d),this.Oc=!0,this.Cc=!0}Kc(t){return t.sourceCapabilities&&void 0!==t.sourceCapabilities.firesTouchEvents?t.sourceCapabilities.firesTouchEvents:Bu(t)<this.$c+500}Qc(t,e){e&&e.call(this.sd,t)}ed(t,e){e&&e.call(this.sd,t)}Zc(t,e){const i=e||t,n=this.ld.getBoundingClientRect()||{left:0,top:0};return{Hd:i.clientX,Ud:i.clientY,qd:i.pageX,Yd:i.pageY,Xd:i.screenX,Kd:i.screenY,Zd:i.clientX-n.left,Gd:i.clientY-n.top,Jd:t.ctrlKey,Qd:t.altKey,tf:t.shiftKey,if:t.metaKey,sf:!t.type.startsWith("mouse")&&"contextmenu"!==t.type&&"click"!==t.type,nf:t.type,ef:i.target,rf:t.view,hf:()=>{"touchstart"!==t.type&&Ou(t)}}}}function ku(t,e){const i=t.clientX-e.clientX,n=t.clientY-e.clientY;return Math.sqrt(i*i+n*n)}function Ou(t){t.cancelable&&t.preventDefault()}function Au(t){return{it:t.pageX,st:t.pageY}}function Bu(t){return t.timeStamp||performance.now()}function Fu(t,e){for(let i=0;i<t.length;++i)if(t[i].identifier===e)return t[i];return null}class Lu{constructor(t,e,i,n){if(this.lf=0,this.af=0,this._f=0,this.uf=0,this.cf=0,this.df=0,this.ff=0,this.pf=!1,this.vf=t,this.mf=t.wf()[e],this.bf=t.wf()[i],this.gf=document.createElement("tr"),this.gf.style.height="1px",this.Mf=document.createElement("td"),this.Mf.style.position="relative",this.Mf.style.padding="0",this.Mf.style.margin="0",this.Mf.setAttribute("colspan","3"),this.Sf(),this.gf.appendChild(this.Mf),n)this.yf=null,this.kf=null;else{this.yf=document.createElement("div"),this.yf.style.position="absolute",this.yf.style.zIndex="50",this.yf.style.top="-4px",this.yf.style.height="9px",this.yf.style.width="100%",this.yf.style.backgroundColor="",this.yf.style.cursor="row-resize",this.Mf.appendChild(this.yf);const t={dd:this.xf.bind(this),jd:this.Cf.bind(this),Id:this.Tf.bind(this),Ed:this.Tf.bind(this),Sd:this.Pf.bind(this),gd:this.Pf.bind(this),Cd:this.Df.bind(this),kd:this.Df.bind(this)};this.kf=new Du(this.yf,t,{wd:()=>!1,bd:()=>!0})}}S(){null!==this.kf&&this.kf.S()}Ef(){return this.gf}Of(){return new Su(this.mf.Of().Lt,1)}If(){const t=this.Of(),e=xu(document,t),i=Iu(e);return i.fillStyle=this.vf.F().timeScale.borderColor,i.fillRect(0,0,t.Lt,t.Vt),e}ft(){this.Sf()}Sf(){this.Mf.style.background=this.vf.F().timeScale.borderColor}xf(t){null!==this.yf&&(this.yf.style.backgroundColor="hsla(225,8%,72%,.2)")}Cf(t){null===this.yf||this.pf||(this.yf.style.backgroundColor="")}Tf(t){this.lf=t.Yd,this.af=0,this._f=this.mf.Of().Vt+this.bf.Of().Vt,this.uf=this.mf.Ka()+this.bf.Ka(),this.cf=30,this.df=this._f-this.cf,this.ff=this.uf/this._f,this.pf=!0}Pf(t){this.af=t.Yd-this.lf;const e=this.mf.Of().Vt,i=Oa(e+this.af,this.cf,this.df)*this.ff,n=this.uf-i;this.mf.Za(i),this.bf.Za(n),this.vf.Nf(),this.mf.Of().Vt!==e&&(this.lf=t.Yd),this.vf.$t().Bh()}Df(t){this.lf=0,this.af=0,this._f=0,this.uf=0,this.cf=0,this.df=0,this.ff=0,this.pf=!1,this.Cf(t)}}function Pu(t,e){return t.Rf-e.Rf}function Uu(t,e,i){const n=(t.Rf-e.Rf)/(t.ht-e.ht);return Math.sign(n)*Math.min(Math.abs(n),i)}class Ru{constructor(t,e,i,n){this.Af=null,this.Lf=null,this.Vf=null,this.Bf=null,this.Ff=null,this.zf=0,this.Wf=0,this.jf=!1,this.$f=t,this.Hf=e,this.Uf=i,this.Ns=n}qf(t,e){if(null!==this.Af){if(this.Af.ht===e)return void(this.Af.Rf=t);if(Math.abs(this.Af.Rf-t)<this.Ns)return}this.Bf=this.Vf,this.Vf=this.Lf,this.Lf=this.Af,this.Af={ht:e,Rf:t}}Ie(t,e){if(null===this.Af||null===this.Lf)return;if(e-this.Af.ht>50)return;let i=0;const n=Uu(this.Af,this.Lf,this.Hf),r=Pu(this.Af,this.Lf),s=[n],o=[r];if(i+=r,null!==this.Vf){const t=Uu(this.Lf,this.Vf,this.Hf);if(Math.sign(t)===Math.sign(n)){const e=Pu(this.Lf,this.Vf);if(s.push(t),o.push(e),i+=e,null!==this.Bf){const t=Uu(this.Vf,this.Bf,this.Hf);if(Math.sign(t)===Math.sign(n)){const e=Pu(this.Vf,this.Bf);s.push(t),o.push(e),i+=e}}}}let a=0;for(let l=0;l<s.length;++l)a+=o[l]/i*s[l];Math.abs(a)<this.$f||(this.Ff={Rf:t,ht:e},this.Wf=a,this.zf=function(t,e){const i=Math.log(e);return Math.log(1*i/-t)/i}(Math.abs(a),this.Uf))}Yf(t){const e=mo(this.Ff),i=t-e.ht;return e.Rf+this.Wf*(Math.pow(this.Uf,i)-1)/Math.log(this.Uf)}Xf(t){return null===this.Ff||this.Kf(t)===this.zf}Zf(){return this.jf}Gf(){this.jf=!0}Kf(t){const e=t-mo(this.Ff).ht;return Math.min(e,this.zf)}}class Vu{constructor(t,e,i,n){this.fe=new Ka(200),this.W=0,this.Jf="",this.Qe="",this.oe=[],this.Qf=new Map,this.W=t,this.Jf=e,this.Qe=Po(t,i,n)}S(){this.fe._e(),this.oe=[],this.Qf.clear()}tp(t,e,i,n,r){const s=this.ip(t,e);if("left"!==r){const e=Tu(t.canvas);i-=Math.floor(s.sp*e)}n-=Math.floor(s.Xt/2),t.drawImage(s.np,i,n,s.Yt,s.Xt)}ip(t,e){let i;if(this.Qf.has(e))i=yo(this.Qf.get(e));else{if(this.oe.length>=200){const t=yo(this.oe.shift());this.Qf.delete(t)}const n=Tu(t.canvas),r=Math.ceil(this.W/4.5),s=Math.round(this.W/10),o=Math.ceil(this.fe.ii(t,e)),a=Fa(Math.round(o+2*r)),l=Fa(this.W+2*r),u=xu(document,new Su(a,l));i={ti:e,sp:Math.round(Math.max(1,o)),Yt:Math.ceil(a*n),Xt:Math.ceil(l*n),np:u},0!==o&&(this.oe.push(i.ti),this.Qf.set(i.ti,i)),Ko(t=Iu(i.np),n,(()=>{t.font=this.Qe,t.fillStyle=this.Jf,t.fillText(e,0,l-r-s)}))}return i}}class zu{constructor(t,e,i,n){this.mi=null,this.ep=null,this.rp=!1,this.hp=new Ka(50),this.lp=new Vu(11,"#000"),this.Jf=null,this.Qe=null,this.ap=0,this.op=!1,this._p=()=>{this.up(this.Cu.F()),this.op||this.Ni.cp().$t().Ur()},this.dp=()=>{this.op||this.Ni.cp().$t().Ur()},this.Ni=t,this.$i=e,this.Cu=i,this.fp="left"===n,this.Mf=document.createElement("div"),this.Mf.style.height="100%",this.Mf.style.overflow="hidden",this.Mf.style.width="25px",this.Mf.style.left="0",this.Mf.style.position="relative",this.pp=Mu(this.Mf,new Su(16,16)),this.pp.subscribeCanvasConfigured(this._p);const r=this.pp.canvas;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.vp=Mu(this.Mf,new Su(16,16)),this.vp.subscribeCanvasConfigured(this.dp);const s=this.vp.canvas;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0";const o={Id:this.Tf.bind(this),Ed:this.Tf.bind(this),Sd:this.Pf.bind(this),gd:this.Pf.bind(this),Nd:this.mp.bind(this),Cd:this.Df.bind(this),kd:this.Df.bind(this),rd:this.wp.bind(this),td:this.wp.bind(this),dd:this.bp.bind(this),jd:this.Cf.bind(this)};this.kf=new Du(this.vp.canvas,o,{wd:()=>!1,bd:()=>!0})}S(){this.kf.S(),this.vp.unsubscribeCanvasConfigured(this.dp),this.vp.destroy(),this.pp.unsubscribeCanvasConfigured(this._p),this.pp.destroy(),null!==this.mi&&this.mi.Ca().v(this),this.mi=null,this.lp.S()}Ef(){return this.Mf}rt(){return mo(this.mi).F().borderColor}gp(){return this.$i.textColor}P(){return this.$i.fontSize}Mp(){return Po(this.P(),this.$i.fontFamily)}Sp(){const t=this.Cu.F(),e=this.Jf!==t.I,i=this.Qe!==t.D;return(e||i)&&(this.up(t),this.Jf=t.I),i&&(this.hp._e(),this.Qe=t.D),t}yp(){if(null===this.mi)return 0;let t=0;const e=this.Sp(),i=Iu(this.pp.canvas),n=this.mi.Ml();i.font=this.Mp(),n.length>0&&(t=Math.max(this.hp.ii(i,n[0].Rl),this.hp.ii(i,n[n.length-1].Rl)));const r=this.kp();for(let l=r.length;l--;){const e=this.hp.ii(i,r[l].ti());e>t&&(t=e)}const s=this.mi.xt();if(null!==s&&null!==this.ep){const e=this.mi.Yi(1,s),n=this.mi.Yi(this.ep.Vt-2,s);t=Math.max(t,this.hp.ii(i,this.mi.gi(Math.floor(Math.min(e,n))+.11111111111111,s)),this.hp.ii(i,this.mi.gi(Math.ceil(Math.max(e,n))-.11111111111111,s)))}const o=t||34;let a=Math.ceil(e.C+e.T+e.R+e.A+o);return a+=a%2,a}xp(t){if(t.Lt<0||t.Vt<0)throw new Error("Try to set invalid size to PriceAxisWidget "+JSON.stringify(t));null!==this.ep&&this.ep.Cr(t)||(this.ep=t,this.op=!0,this.pp.resizeCanvas({width:t.Lt,height:t.Vt}),this.vp.resizeCanvas({width:t.Lt,height:t.Vt}),this.op=!1,this.Mf.style.width=t.Lt+"px",this.Mf.style.height=t.Vt+"px",this.Mf.style.minWidth=t.Lt+"px")}Cp(){return mo(this.ep).Lt}Ei(t){this.mi!==t&&(null!==this.mi&&this.mi.Ca().v(this),this.mi=t,t.Ca().l(this.Ul.bind(this),this))}Pt(){return this.mi}_e(){const t=this.Ni.Tp();this.Ni.cp().$t().do(t,mo(this.Pt()))}Pp(t){if(null===this.ep)return;if(1!==t){const t=Iu(this.pp.canvas);this.Dp(),this.Ep(t,this.pp.pixelRatio),this.Kn(t,this.pp.pixelRatio),this.Op(t,this.pp.pixelRatio),this.Ip(t,this.pp.pixelRatio)}const e=Iu(this.vp.canvas),i=this.ep.Lt,n=this.ep.Vt;Ko(e,this.vp.pixelRatio,(()=>{e.clearRect(0,0,i,n)})),this.Np(e,this.vp.pixelRatio)}If(){return this.pp.canvas}ft(){var t;null===(t=this.mi)||void 0===t||t.Ml()}Tf(t){if(null===this.mi||this.mi.bi()||!this.Ni.cp().F().handleScale.axisPressedMouseMove.price)return;const e=this.Ni.cp().$t(),i=this.Ni.Tp();this.rp=!0,e.ho(i,this.mi,t.Gd)}Pf(t){if(null===this.mi||!this.Ni.cp().F().handleScale.axisPressedMouseMove.price)return;const e=this.Ni.cp().$t(),i=this.Ni.Tp(),n=this.mi;e.lo(i,n,t.Gd)}mp(){if(null===this.mi||!this.Ni.cp().F().handleScale.axisPressedMouseMove.price)return;const t=this.Ni.cp().$t(),e=this.Ni.Tp(),i=this.mi;this.rp&&(this.rp=!1,t.ao(e,i))}Df(t){if(null===this.mi||!this.Ni.cp().F().handleScale.axisPressedMouseMove.price)return;const e=this.Ni.cp().$t(),i=this.Ni.Tp();this.rp=!1,e.ao(i,this.mi)}wp(t){this.Ni.cp().F().handleScale.axisDoubleClickReset&&this._e()}bp(t){null!==this.mi&&(!this.Ni.cp().$t().F().handleScale.axisPressedMouseMove.price||this.mi.gr()||this.mi.aa()||this.Rp(1))}Cf(t){this.Rp(0)}kp(){const t=[],e=null===this.mi?void 0:this.mi;return(i=>{for(let n=0;n<i.length;++n){const r=i[n].ls(this.Ni.Tp(),e);for(let e=0;e<r.length;e++)t.push(r[e])}})(this.Ni.Tp().Ma()),t}Ep(t,e){if(null===this.ep)return;const i=this.ep.Lt,n=this.ep.Vt;Ko(t,e,(()=>{const e=this.Ni.Tp().$t(),r=e.mc(),s=e.vc();r===s?Jo(t,0,0,i,n,r):Go(t,0,0,i,n,r,s)}))}Kn(t,e){if(null===this.ep||null===this.mi||!this.mi.F().borderVisible)return;t.save(),t.fillStyle=this.rt();const i=Math.max(1,Math.floor(this.Sp().C*e));let n;n=this.fp?Math.floor(this.ep.Lt*e)-i:0,t.fillRect(n,0,i,Math.ceil(this.ep.Vt*e)),t.restore()}Op(t,e){if(null===this.ep||null===this.mi)return;const i=this.mi.Ml();t.save(),t.strokeStyle=this.rt(),t.font=this.Mp(),t.fillStyle=this.rt();const n=this.Sp(),r=this.fp?Math.floor((this.ep.Lt-n.T)*e-n.C*e):Math.floor(n.C*e),s=this.fp?Math.round(r-n.R*e):Math.round(r+n.T*e+n.R*e),o=this.fp?"right":"left",a=Math.max(1,Math.floor(e)),l=Math.floor(.5*e),u=this.mi.F();if(u.borderVisible&&u.ticksVisible){const s=Math.round(n.T*e);t.beginPath();for(const n of i)t.rect(r,Math.round(n.vl*e)-l,s,a);t.fill()}t.fillStyle=this.gp();for(const c of i)this.lp.tp(t,c.Rl,s,Math.round(c.vl*e),o);t.restore()}Dp(){if(null===this.ep||null===this.mi)return;let t=this.ep.Vt/2;const e=[],i=this.mi.Ma().slice(),n=this.Ni.Tp(),r=this.Sp();this.mi===n.ge()&&this.Ni.Tp().Ma().forEach((t=>{n.be(t)&&i.push(t)}));const s=this.mi.gt()[0],o=this.mi;i.forEach((i=>{const r=i.ls(n,o);r.forEach((t=>{t.ci(null),t.di()&&e.push(t)})),s===i&&r.length>0&&(t=r[0].si())}));const a=e.filter((e=>e.si()<=t)),l=e.filter((e=>e.si()>t));if(a.sort(((t,e)=>e.si()-t.si())),a.length&&l.length&&l.push(a[0]),l.sort(((t,e)=>t.si()-e.si())),e.forEach((t=>t.ci(t.si()))),this.mi.F().alignLabels){for(let t=1;t<a.length;t++){const e=a[t],i=a[t-1],n=i.Xt(r,!1),s=e.si(),o=i.ui();s>o-n&&e.ci(o-n)}for(let t=1;t<l.length;t++){const e=l[t],i=l[t-1],n=i.Xt(r,!0),s=e.si(),o=i.ui();s<o+n&&e.ci(o+n)}}}Ip(t,e){if(null===this.ep)return;t.save();const i=this.ep,n=this.kp(),r=this.Sp(),s=this.fp?"right":"left";n.forEach((n=>{if(n.fi()){const o=n.wt(mo(this.mi));t.save(),o.q(t,r,this.hp,i.Lt,s,e),t.restore()}})),t.restore()}Np(t,e){if(null===this.ep||null===this.mi)return;t.save();const i=this.ep,n=this.Ni.cp().$t(),r=[],s=this.Ni.Tp(),o=n.ju().ls(s,this.mi);o.length&&r.push(o);const a=this.Sp(),l=this.fp?"right":"left";r.forEach((n=>{n.forEach((n=>{t.save(),n.wt(mo(this.mi)).q(t,a,this.hp,i.Lt,l,e),t.restore()}))})),t.restore()}Rp(t){this.Mf.style.cursor=1===t?"ns-resize":"default"}Ul(){const t=this.yp();this.ap<t&&this.Ni.cp().$t().Bh(),this.ap=t}up(t){this.lp.S(),this.lp=new Vu(t.P,t.I,t.O)}}function ju(t,e,i,n,r){t.X&&t.X(e,i,n,r)}function $u(t,e,i,n,r){t.q(e,i,n,r)}function Wu(t,e){return t.hs(e)}function Yu(t,e){return t.Oi(e)}function Hu(t,e){return void 0!==t.Gh?t.Gh(e):[]}class Zu{constructor(t,e){this.ep=new Su(0,0),this.Ap=null,this.Lp=null,this.Vp=null,this.Bp=!1,this.Fp=new Eo,this.zp=0,this.Wp=!1,this.jp=null,this.$p=!1,this.Hp=null,this.Up=null,this.op=!1,this._p=()=>{this.op||null===this.qp||this.yi().Ur()},this.dp=()=>{this.op||null===this.qp||this.yi().Ur()},this.Yp=t,this.qp=e,this.qp.vo().l(this.Xp.bind(this),this,!0),this.Kp=document.createElement("td"),this.Kp.style.padding="0",this.Kp.style.position="relative";const i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.overflow="hidden",this.Zp=document.createElement("td"),this.Zp.style.padding="0",this.Gp=document.createElement("td"),this.Gp.style.padding="0",this.Kp.appendChild(i),this.pp=Mu(i,new Su(16,16)),this.pp.subscribeCanvasConfigured(this._p);const n=this.pp.canvas;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.vp=Mu(i,new Su(16,16)),this.vp.subscribeCanvasConfigured(this.dp);const r=this.vp.canvas;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.gf=document.createElement("tr"),this.gf.appendChild(this.Zp),this.gf.appendChild(this.Kp),this.gf.appendChild(this.Gp),this.Jp(),this.kf=new Du(this.vp.canvas,this,{wd:()=>null===this.jp&&!this.Yp.F().handleScroll.vertTouchDrag,bd:()=>null===this.jp&&!this.Yp.F().handleScroll.horzTouchDrag})}S(){null!==this.Ap&&this.Ap.S(),null!==this.Lp&&this.Lp.S(),this.vp.unsubscribeCanvasConfigured(this.dp),this.vp.destroy(),this.pp.unsubscribeCanvasConfigured(this._p),this.pp.destroy(),null!==this.qp&&this.qp.vo().v(this),this.kf.S()}Tp(){return mo(this.qp)}Qp(t){null!==this.qp&&this.qp.vo().v(this),this.qp=t,null!==this.qp&&this.qp.vo().l(Zu.prototype.Xp.bind(this),this,!0),this.Jp()}cp(){return this.Yp}Ef(){return this.gf}Jp(){if(null!==this.qp&&(this.tv(),0!==this.yi().vt().length)){if(null!==this.Ap){const t=this.qp.eo();this.Ap.Ei(mo(t))}if(null!==this.Lp){const t=this.qp.ro();this.Lp.Ei(mo(t))}}}iv(){null!==this.Ap&&this.Ap.ft(),null!==this.Lp&&this.Lp.ft()}Ka(){return null!==this.qp?this.qp.Ka():0}Za(t){this.qp&&this.qp.Za(t)}dd(t){if(!this.qp)return;this.sv();const e=t.Zd,i=t.Gd;this.nv(e,i)}Id(t){this.sv(),this.ev(),this.nv(t.Zd,t.Gd)}fd(t){if(!this.qp)return;this.sv();const e=t.Zd,i=t.Gd;this.nv(e,i);const n=this.tr(e,i);this.yi().Lu(n&&{Vu:n.Vu,rv:n.rv})}Td(t){if(null===this.qp)return;this.sv();const e=t.Zd,i=t.Gd;if(this.Fp.M()){const t=this.yi().ju().Mt(),n=this.yi().rc(mo(this.qp));this.Fp.m(t,{x:e,y:i,hc:n})}}Sd(t){this.sv(),this.hv(t),this.nv(t.Zd,t.Gd)}Cd(t){null!==this.qp&&(this.sv(),this.Wp=!1,this.lv(t))}$d(t){if(this.Wp=!0,null===this.jp){const e={x:t.Zd,y:t.Gd};this.av(e,e)}}jd(t){null!==this.qp&&(this.sv(),this.qp.$t().Lu(null),this.ov())}_v(){return this.Fp}Ld(){this.zp=1,this.uv()}Vd(t,e){if(!this.Yp.F().handleScale.pinch)return;const i=5*(e-this.zp);this.zp=e,this.yi().Gu(t.it,i)}Ed(t){if(this.Wp=!1,this.$p=null!==this.jp,this.ev(),null!==this.jp){const e=this.yi().ju();this.Hp={x:e.Kt(),y:e.Zt()},this.jp={x:t.Zd,y:t.Gd}}}gd(t){if(null===this.qp)return;const e=t.Zd,i=t.Gd;if(null===this.jp)this.hv(t);else{this.$p=!1;const t=mo(this.Hp),n=t.x+(e-this.jp.x),r=t.y+(i-this.jp.y);this.nv(n,r)}}kd(t){0===this.cp().F().trackingMode.exitMode&&(this.$p=!0),this.cv(),this.lv(t)}tr(t,e){const i=this.qp;if(null===i)return null;const n=i.Ma();for(const r of n){const n=this.dv(r.hs(i),t,e);if(null!==n)return{Vu:r,rf:n.rf,rv:n.rv}}return null}fv(t,e){mo("left"===e?this.Ap:this.Lp).xp(new Su(t,this.ep.Vt))}Of(){return this.ep}xp(t){if(t.Lt<0||t.Vt<0)throw new Error("Try to set invalid size to PaneWidget "+JSON.stringify(t));this.ep.Cr(t)||(this.ep=t,this.op=!0,this.pp.resizeCanvas({width:t.Lt,height:t.Vt}),this.vp.resizeCanvas({width:t.Lt,height:t.Vt}),this.op=!1,this.Kp.style.width=t.Lt+"px",this.Kp.style.height=t.Vt+"px")}pv(){const t=mo(this.qp);t.no(t.eo()),t.no(t.ro());for(const e of t.gt())if(t.be(e)){const i=e.Pt();null!==i&&t.no(i),e._s()}}If(){return this.pp.canvas}Pp(t){if(0===t)return;if(null===this.qp)return;if(t>1&&this.pv(),null!==this.Ap&&this.Ap.Pp(t),null!==this.Lp&&this.Lp.Pp(t),1!==t){const t=Iu(this.pp.canvas);t.save(),this.Ep(t,this.pp.pixelRatio),this.qp&&(this.vv(t,this.pp.pixelRatio),this.mv(t,this.pp.pixelRatio),this.wv(t,this.pp.pixelRatio,Wu),this.wv(t,this.pp.pixelRatio,Yu)),t.restore()}const e=Iu(this.vp.canvas);e.clearRect(0,0,Math.ceil(this.ep.Lt*this.vp.pixelRatio),Math.ceil(this.ep.Vt*this.vp.pixelRatio)),this.wv(e,this.pp.pixelRatio,Hu),this.bv(e,this.vp.pixelRatio)}gv(){return this.Ap}Mv(){return this.Kp}Sv(){return this.Lp}Xp(){null!==this.qp&&this.qp.vo().v(this),this.qp=null}Ep(t,e){Ko(t,e,(()=>{const e=this.yi(),i=e.mc(),n=e.vc();i===n?Jo(t,0,0,this.ep.Lt,this.ep.Vt,n):Go(t,0,0,this.ep.Lt,this.ep.Vt,i,n)}))}vv(t,e){const i=mo(this.qp),n=i.mo().qr().wt(i.Xt(),i.Yt(),i);null!==n&&(t.save(),n.q(t,e,!1),t.restore())}mv(t,e){const i=this.yi().Wu();this.yv(t,e,Wu,ju,i),this.yv(t,e,Wu,$u,i)}bv(t,e){this.yv(t,e,Wu,$u,this.yi().ju())}wv(t,e,i){const n=mo(this.qp).Ma();for(const r of n)this.yv(t,e,i,ju,r);for(const r of n)this.yv(t,e,i,$u,r)}yv(t,e,i,n,r){const s=mo(this.qp),o=i(r,s),a=s.Xt(),l=s.Yt(),u=s.$t().Au(),c=null!==u&&u.Vu===r,h=null!==u&&c&&void 0!==u.rv?u.rv.ir:void 0;for(const d of o){const i=d.wt(a,l,s);null!==i&&(t.save(),n(i,t,e,c,h),t.restore())}}dv(t,e,i){const n=mo(this.qp);for(const r of t){const t=r.wt(this.ep.Vt,this.ep.Lt,n);if(null!==t&&t.tr){const n=t.tr(e,i);if(null!==n)return{rf:r,rv:n}}}return null}tv(){if(null===this.qp)return;const t=this.Yp,e=this.qp.eo().F().visible,i=this.qp.ro().F().visible;e||null===this.Ap||(this.Zp.removeChild(this.Ap.Ef()),this.Ap.S(),this.Ap=null),i||null===this.Lp||(this.Gp.removeChild(this.Lp.Ef()),this.Lp.S(),this.Lp=null);const n=t.$t().oc();e&&null===this.Ap&&(this.Ap=new zu(this,t.F().layout,n,"left"),this.Zp.appendChild(this.Ap.Ef())),i&&null===this.Lp&&(this.Lp=new zu(this,t.F().layout,n,"right"),this.Gp.appendChild(this.Lp.Ef()))}kv(t){return t.sf&&this.Wp||null!==this.jp}xv(t){return Math.max(0,Math.min(t,this.ep.Lt-1))}Cv(t){return Math.max(0,Math.min(t,this.ep.Vt-1))}nv(t,e){this.yi().ec(this.xv(t),this.Cv(e),mo(this.qp))}ov(){this.yi().lc()}cv(){this.$p&&(this.jp=null,this.ov())}av(t,e){this.jp=t,this.$p=!1,this.nv(e.x,e.y);const i=this.yi().ju();this.Hp={x:i.Kt(),y:i.Zt()}}yi(){return this.Yp.$t()}Tv(){const t=this.yi(),e=this.Tp(),i=e.qi();t.uo(e,i),t.ic(),this.Vp=null,this.Bp=!1}lv(t){if(!this.Bp)return;const e=performance.now();if(null!==this.Up&&this.Up.Ie(t.Zd,e),null===this.Up||this.Up.Xf(e))return void this.Tv();const i=this.yi(),n=i.St(),r=this.Up,s=()=>{if(r.Zf())return;const t=performance.now();let e=r.Xf(t);if(!r.Zf()){const s=n.L_();i.tc(r.Yf(t)),s===n.L_()&&(e=!0,this.Up=null)}e?this.Tv():requestAnimationFrame(s)};requestAnimationFrame(s)}sv(){this.jp=null}ev(){if(this.qp){if(this.uv(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)mo(document.activeElement).blur();else{const t=document.getSelection();null!==t&&t.removeAllRanges()}!this.qp.qi().bi()&&this.yi().St().bi()}}hv(t){if(null===this.qp)return;const e=this.yi();if(e.St().bi())return;const i=this.Yp.F(),n=i.handleScroll,r=i.kineticScroll;if((!n.pressedMouseMove||t.sf)&&(!n.horzTouchDrag&&!n.vertTouchDrag||!t.sf))return;const s=this.qp.qi(),o=performance.now();null!==this.Vp||this.kv(t)||(this.Vp={x:t.Hd,y:t.Ud,Bo:o,Zd:t.Zd,Gd:t.Gd}),null!==this.Up&&this.Up.qf(t.Zd,o),null===this.Vp||this.Bp||this.Vp.x===t.Hd&&this.Vp.y===t.Ud||(null===this.Up&&(t.sf&&r.touch||!t.sf&&r.mouse)&&(this.Up=new Ru(.2,7,.997,15),this.Up.qf(this.Vp.Zd,this.Vp.Bo),this.Up.qf(t.Zd,o)),s.bi()||e.oo(this.qp,s,t.Gd),e.Qu(t.Zd),this.Bp=!0),this.Bp&&(s.bi()||e._o(this.qp,s,t.Gd),e.tc(t.Zd))}uv(){const t=performance.now(),e=null===this.Up||this.Up.Xf(t);null!==this.Up&&(e||this.Tv()),null!==this.Up&&(this.Up.Gf(),this.Up=null)}}class Ku{constructor(t,e,i,n,r){this.li=!0,this.ep=new Su(0,0),this._p=()=>this.Pp(3),this.fp="left"===t,this.Cu=i.oc,this.$i=e,this.Pv=n,this.Dv=r,this.Mf=document.createElement("div"),this.Mf.style.width="25px",this.Mf.style.height="100%",this.Mf.style.overflow="hidden",this.pp=Mu(this.Mf,new Su(16,16)),this.pp.subscribeCanvasConfigured(this._p)}S(){this.pp.unsubscribeCanvasConfigured(this._p),this.pp.destroy()}Ef(){return this.Mf}Of(){return this.ep}xp(t){if(t.Lt<0||t.Vt<0)throw new Error("Try to set invalid size to PriceAxisStub "+JSON.stringify(t));this.ep.Cr(t)||(this.ep=t,this.pp.resizeCanvas({width:t.Lt,height:t.Vt}),this.Mf.style.width="".concat(t.Lt,"px"),this.Mf.style.minWidth="".concat(t.Lt,"px"),this.Mf.style.height="".concat(t.Vt,"px"),this.li=!0)}Pp(t){if(t<3&&!this.li)return;if(0===this.ep.Lt||0===this.ep.Vt)return;this.li=!1;const e=Iu(this.pp.canvas);this.Ep(e,this.pp.pixelRatio),this.Kn(e,this.pp.pixelRatio)}If(){return this.pp.canvas}Kn(t,e){if(!this.Pv())return;const i=this.ep.Lt;t.save(),t.fillStyle=this.$i.timeScale.borderColor;const n=Math.floor(this.Cu.F().C*e),r=this.fp?Math.round(i*e)-n:0;t.fillRect(r,0,n,n),t.restore()}Ep(t,e){Ko(t,e,(()=>{Jo(t,0,0,this.ep.Lt,this.ep.Vt,this.Dv())}))}}function Ju(t,e){return t.Xo>e.Xo?t:e}class Gu{constructor(t){this.Ev=null,this.Ov=null,this.k=null,this.Iv=!1,this.ep=new Su(0,0),this.Nv=new Eo,this.hp=new Ka(5),this.op=!1,this._p=()=>{this.op||this.Yp.$t().Ur()},this.dp=()=>{this.op||this.Yp.$t().Ur()},this.Yp=t,this.$i=t.F().layout,this.Rv=document.createElement("tr"),this.Av=document.createElement("td"),this.Av.style.padding="0",this.Lv=document.createElement("td"),this.Lv.style.padding="0",this.Mf=document.createElement("td"),this.Mf.style.height="25px",this.Mf.style.padding="0",this.Vv=document.createElement("div"),this.Vv.style.width="100%",this.Vv.style.height="100%",this.Vv.style.position="relative",this.Vv.style.overflow="hidden",this.Mf.appendChild(this.Vv),this.pp=Mu(this.Vv,new Su(16,16)),this.pp.subscribeCanvasConfigured(this._p);const e=this.pp.canvas;e.style.position="absolute",e.style.zIndex="1",e.style.left="0",e.style.top="0",this.vp=Mu(this.Vv,new Su(16,16)),this.vp.subscribeCanvasConfigured(this.dp);const i=this.vp.canvas;i.style.position="absolute",i.style.zIndex="2",i.style.left="0",i.style.top="0",this.Rv.appendChild(this.Av),this.Rv.appendChild(this.Mf),this.Rv.appendChild(this.Lv),this.Bv(),this.Yp.$t().Xa().l(this.Bv.bind(this),this),this.kf=new Du(this.vp.canvas,this,{wd:()=>!0,bd:()=>!1})}S(){this.kf.S(),null!==this.Ev&&this.Ev.S(),null!==this.Ov&&this.Ov.S(),this.vp.unsubscribeCanvasConfigured(this.dp),this.vp.destroy(),this.pp.unsubscribeCanvasConfigured(this._p),this.pp.destroy()}Ef(){return this.Rv}Fv(){return this.Ev}zv(){return this.Ov}Id(t){if(this.Iv)return;this.Iv=!0;const e=this.Yp.$t();!e.St().bi()&&this.Yp.F().handleScale.axisPressedMouseMove.time&&e.Zu(t.Zd)}Ed(t){this.Id(t)}Nd(){const t=this.Yp.$t();!t.St().bi()&&this.Iv&&(this.Iv=!1,this.Yp.F().handleScale.axisPressedMouseMove.time&&t.nc())}Sd(t){const e=this.Yp.$t();!e.St().bi()&&this.Yp.F().handleScale.axisPressedMouseMove.time&&e.sc(t.Zd)}gd(t){this.Sd(t)}Cd(){this.Iv=!1;const t=this.Yp.$t();t.St().bi()&&!this.Yp.F().handleScale.axisPressedMouseMove.time||t.nc()}kd(){this.Cd()}rd(){this.Yp.F().handleScale.axisDoubleClickReset&&this.Yp.$t().Ts()}td(){this.rd()}dd(){this.Yp.$t().F().handleScale.axisPressedMouseMove.time&&this.Rp(1)}jd(){this.Rp(0)}Of(){return this.ep}Wv(){return this.Nv}jv(t,e,i){this.ep&&this.ep.Cr(t)||(this.ep=t,this.op=!0,this.pp.resizeCanvas({width:t.Lt,height:t.Vt}),this.vp.resizeCanvas({width:t.Lt,height:t.Vt}),this.op=!1,this.Mf.style.width=t.Lt+"px",this.Mf.style.height=t.Vt+"px",this.Nv.m(t)),null!==this.Ev&&this.Ev.xp(new Su(e,t.Vt)),null!==this.Ov&&this.Ov.xp(new Su(i,t.Vt))}$v(){const t=this.Hv();return Math.ceil(t.C+t.T+t.P+t.L+t.N)}ft(){this.Yp.$t().St().Ml()}If(){return this.pp.canvas}Pp(t){if(0===t)return;if(1!==t){const e=Iu(this.pp.canvas);this.Ep(e,this.pp.pixelRatio),this.Kn(e,this.pp.pixelRatio),this.Op(e,this.pp.pixelRatio),null!==this.Ev&&this.Ev.Pp(t),null!==this.Ov&&this.Ov.Pp(t)}const e=Iu(this.vp.canvas),i=this.vp.pixelRatio;e.clearRect(0,0,Math.ceil(this.ep.Lt*i),Math.ceil(this.ep.Vt*i)),this.Uv([this.Yp.$t().ju()],e,i)}Ep(t,e){Ko(t,e,(()=>{Jo(t,0,0,this.ep.Lt,this.ep.Vt,this.Yp.$t().vc())}))}Kn(t,e){if(this.Yp.F().timeScale.borderVisible){t.save(),t.fillStyle=this.qv();const i=Math.max(1,Math.floor(this.Hv().C*e));t.fillRect(0,0,Math.ceil(this.ep.Lt*e),i),t.restore()}}Op(t,e){const i=this.Yp.$t().St(),n=i.Ml();if(!n||0===n.length)return;let r=n.reduce(Ju,n[0]).Xo;r>30&&r<50&&(r=30),t.save(),t.strokeStyle=this.qv();const s=this.Hv(),o=s.C+s.T+s.L+s.P-s.V;t.textAlign="center",t.fillStyle=this.qv();const a=Math.floor(this.Hv().C*e),l=Math.max(1,Math.floor(e)),u=Math.floor(.5*e),c=i.F();if(c.borderVisible&&c.ticksVisible){t.beginPath();const i=Math.round(s.T*e);for(let r=n.length;r--;){const s=Math.round(n[r].vl*e);t.rect(s-u,a,l,i)}t.fill()}t.fillStyle=this.$(),Ko(t,e,(()=>{t.font=this.Yv();for(const e of n)if(e.Xo<r){const i=e.F_?this.Xv(t,e.vl,e.Rl):e.vl;t.fillText(e.Rl,i,o)}t.font=this.Kv();for(const e of n)if(e.Xo>=r){const i=e.F_?this.Xv(t,e.vl,e.Rl):e.vl;t.fillText(e.Rl,i,o)}})),t.restore()}Xv(t,e,i){const n=this.hp.ii(t,i),r=n/2,s=Math.floor(e-r)+.5;return s<0?e+=Math.abs(0-s):s+n>this.ep.Lt&&(e-=Math.abs(this.ep.Lt-(s+n))),e}Uv(t,e,i){const n=this.Hv();for(const r of t)for(const t of r.Ii())e.save(),t.wt().q(e,n,i),e.restore()}qv(){return this.Yp.F().timeScale.borderColor}$(){return this.$i.textColor}W(){return this.$i.fontSize}Yv(){return Po(this.W(),this.$i.fontFamily)}Kv(){return Po(this.W(),this.$i.fontFamily,"bold")}Hv(){null===this.k&&(this.k={C:1,V:NaN,L:NaN,N:NaN,Si:NaN,T:3,P:NaN,D:"",Mi:new Ka});const t=this.k,e=this.Yv();if(t.D!==e){const i=this.W();t.P=i,t.D=e,t.L=Math.ceil(i/2.5),t.N=t.L,t.Si=Math.ceil(i/2),t.V=Math.round(this.W()/5),t.Mi._e()}return this.k}Rp(t){this.Mf.style.cursor=1===t?"ew-resize":"default"}Bv(){const t=this.Yp.$t(),e=t.F();e.leftPriceScale.visible||null===this.Ev||(this.Av.removeChild(this.Ev.Ef()),this.Ev.S(),this.Ev=null),e.rightPriceScale.visible||null===this.Ov||(this.Lv.removeChild(this.Ov.Ef()),this.Ov.S(),this.Ov=null);const i={oc:this.Yp.$t().oc()},n=()=>e.leftPriceScale.borderVisible&&t.St().F().borderVisible,r=()=>t.vc();e.leftPriceScale.visible&&null===this.Ev&&(this.Ev=new Ku("left",e,i,n,r),this.Av.appendChild(this.Ev.Ef())),e.rightPriceScale.visible&&null===this.Ov&&(this.Ov=new Ku("right",e,i,n,r),this.Lv.appendChild(this.Ov.Ef()))}}class qu{constructor(t,e){var i;this.Zv=[],this.Gv=[],this.Jv=0,this.Vl=0,this.de=0,this.Qv=0,this.tm=0,this.im=null,this.sm=!1,this.Fp=new Eo,this.Su=new Eo,this.$i=e,this.Rv=document.createElement("div"),this.Rv.classList.add("tv-lightweight-charts"),this.Rv.style.overflow="hidden",this.Rv.style.width="100%",this.Rv.style.height="100%",(i=this.Rv).style.userSelect="none",i.style.webkitUserSelect="none",i.style.msUserSelect="none",i.style.MozUserSelect="none",i.style.webkitTapHighlightColor="transparent",this.nm=document.createElement("table"),this.nm.setAttribute("cellspacing","0"),this.Rv.appendChild(this.nm),this.rm=this.hm.bind(this),this.Rv.addEventListener("wheel",this.rm,{passive:!1}),this.yi=new bu(this.xu.bind(this),this.$i),this.$t().$u().l(this.lm.bind(this),this),this.am=new Gu(this),this.nm.appendChild(this.am.Ef());let n=this.$i.width,r=this.$i.height;if(0===n||0===r){const e=t.getBoundingClientRect();0===n&&(n=Math.floor(e.width),n-=n%2),0===r&&(r=Math.floor(e.height),r-=r%2)}this.om(n,r),this._m(),t.appendChild(this.Rv),this.um(),this.yi.St().Z_().l(this.yi.Bh.bind(this.yi),this),this.yi.Xa().l(this.yi.Bh.bind(this.yi),this)}$t(){return this.yi}F(){return this.$i}wf(){return this.Zv}dm(){return this.am}S(){this.Rv.removeEventListener("wheel",this.rm),0!==this.Jv&&window.cancelAnimationFrame(this.Jv),this.yi.$u().v(this),this.yi.St().Z_().v(this),this.yi.Xa().v(this),this.yi.S();for(const t of this.Zv)this.nm.removeChild(t.Ef()),t._v().v(this),t.S();this.Zv=[];for(const t of this.Gv)this.fm(t);this.Gv=[],mo(this.am).S(),null!==this.Rv.parentElement&&this.Rv.parentElement.removeChild(this.Rv),this.Su.S(),this.Fp.S()}om(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.Vl===e&&this.de===t)return;this.Vl=e,this.de=t;const n=e+"px",r=t+"px";mo(this.Rv).style.height=n,mo(this.Rv).style.width=r,this.nm.style.height=n,this.nm.style.width=r,i?this.pm(new aa(3)):this.yi.Bh()}Pp(t){void 0===t&&(t=new aa(3));for(let e=0;e<this.Zv.length;e++)this.Zv[e].Pp(t.ys(e).gs);this.$i.timeScale.visible&&this.am.Pp(t.Ss())}Hr(t){this.yi.Hr(t),this.um();const e=t.width||this.de,i=t.height||this.Vl;this.om(e,i)}_v(){return this.Fp}$u(){return this.Su}vm(){null!==this.im&&(this.pm(this.im),this.im=null);const t=this.Zv[0],e=xu(document,new Su(this.de,this.Vl)),i=Iu(e),n=Tu(e);return Ko(i,n,(()=>{let e=0,n=0;const r=t=>{for(let r=0;r<this.Zv.length;r++){const s=this.Zv[r],o=s.Of().Vt,a=mo("left"===t?s.gv():s.Sv()),l=a.If();if(i.drawImage(l,e,n,a.Cp(),o),n+=o,r<this.Zv.length-1){const t=this.Gv[r],s=t.Of(),o=t.If();i.drawImage(o,e,n,s.Lt,s.Vt),n+=s.Vt}}};this.wm()&&(r("left"),e=mo(t.gv()).Cp()),n=0;for(let t=0;t<this.Zv.length;t++){const r=this.Zv[t],s=r.Of(),o=r.If();if(i.drawImage(o,e,n,s.Lt,s.Vt),n+=s.Vt,t<this.Zv.length-1){const r=this.Gv[t],s=r.Of(),o=r.If();i.drawImage(o,e,n,s.Lt,s.Vt),n+=s.Vt}}e+=t.Of().Lt,this.bm()&&(n=0,r("right"));const s=t=>{const r=mo("left"===t?this.am.Fv():this.am.zv()),s=r.Of(),o=r.If();i.drawImage(o,e,n,s.Lt,s.Vt)};if(this.$i.timeScale.visible){e=0,this.wm()&&(s("left"),e=mo(t.gv()).Cp());const r=this.am.Of(),o=this.am.If();i.drawImage(o,e,n,r.Lt,r.Vt),this.bm()&&(e+=t.Of().Lt,s("right"),i.restore())}})),e}gm(t){return("left"!==t||this.wm())&&("right"!==t||this.bm())?0===this.Zv.length?0:mo("left"===t?this.Zv[0].gv():this.Zv[0].Sv()).Cp():0}Nf(){this.Mm()}Mm(){var t;let e=0,i=0,n=0;for(const y of this.Zv)this.wm()&&(i=Math.max(i,mo(y.gv()).yp())),this.bm()&&(n=Math.max(n,mo(y.Sv()).yp())),e+=y.Ka();const r=this.de,s=this.Vl,o=Math.max(r-i-n,0),a=1*this.Gv.length,l=this.$i.timeScale.visible;let u=l?this.am.$v():0;u%2&&(u+=1);const c=a+u,h=s<c?0:s-c,d=h/e;let f=0;const p=(null===(t=document.body.ownerDocument.defaultView)||void 0===t?void 0:t.devicePixelRatio)||1;for(let y=0;y<this.Zv.length;++y){const t=this.Zv[y];t.Qp(this.yi.zu()[y]);let e=0,r=0;r=y===this.Zv.length-1?Math.ceil((h-f)*p)/p:Math.round(t.Ka()*d*p)/p,e=Math.max(r,2),f+=e,t.xp(new Su(o,e)),this.wm()&&t.fv(i,"left"),this.bm()&&t.fv(n,"right"),t.Tp()&&this.yi.Hu(t.Tp(),e)}this.am.jv(new Su(l?o:0,u),l?i:0,l?n:0),this.yi.Ga(o),this.Qv!==i&&(this.Qv=i),this.tm!==n&&(this.tm=n)}hm(t){let e=t.deltaX/100,i=-t.deltaY/100;if(0!==e&&this.$i.handleScroll.mouseWheel||0!==i&&this.$i.handleScale.mouseWheel){switch(t.cancelable&&t.preventDefault(),t.deltaMode){case t.DOM_DELTA_PAGE:e*=120,i*=120;break;case t.DOM_DELTA_LINE:e*=32,i*=32}if(0!==i&&this.$i.handleScale.mouseWheel){const e=Math.sign(i)*Math.min(1,Math.abs(i)),n=t.clientX-this.Rv.getBoundingClientRect().left;this.$t().Gu(n,e)}0!==e&&this.$i.handleScroll.mouseWheel&&this.$t().Ju(-80*e)}}pm(t){var e;const i=t.Ss();3===i&&this.Sm(),3!==i&&2!==i||(this.ym(t),this.km(t),this.am.ft(),this.Zv.forEach((t=>{t.iv()})),3===(null===(e=this.im)||void 0===e?void 0:e.Ss())&&(this.im.Os(t),this.Sm(),this.ym(this.im),this.km(this.im),t=this.im,this.im=null)),this.Pp(t)}km(t){const e=t.Es();for(const i of e)this.Is(i)}ym(t){const e=this.yi.zu();for(let i=0;i<e.length;i++)t.ys(i).Ms&&e[i].fo()}Is(t){const e=this.yi.St();switch(t.xs){case 0:e.J_();break;case 1:e.Q_(t.Dt);break;case 2:e.Ps(t.Dt);break;case 3:e.Ds(t.Dt);break;case 4:e.z_()}}xu(t){null!==this.im?this.im.Os(t):this.im=t,this.sm||(this.sm=!0,this.Jv=window.requestAnimationFrame((()=>{if(this.sm=!1,this.Jv=0,null!==this.im){const t=this.im;this.im=null,this.pm(t)}})))}Sm(){this._m()}fm(t){this.nm.removeChild(t.Ef()),t.S()}_m(){const t=this.yi.zu(),e=t.length,i=this.Zv.length;for(let n=e;n<i;n++){const t=yo(this.Zv.pop());this.nm.removeChild(t.Ef()),t._v().v(this),t.S();const e=this.Gv.pop();void 0!==e&&this.fm(e)}for(let n=i;n<e;n++){const e=new Zu(this,t[n]);if(e._v().l(this.xm.bind(this),this),this.Zv.push(e),n>0){const t=new Lu(this,n-1,n,!1);this.Gv.push(t),this.nm.insertBefore(t.Ef(),this.am.Ef())}this.nm.insertBefore(e.Ef(),this.am.Ef())}for(let n=0;n<e;n++){const e=t[n],i=this.Zv[n];i.Tp()!==e?i.Qp(e):i.Jp()}this.um(),this.Mm()}Cm(t,e){var i,n;const r=new Map;let s;if(null!==t&&this.yi.vt().forEach((e=>{const i=e.fs().uh(t);null!==i&&r.set(e,i)})),null!==t){const e=null===(i=this.yi.St().ki(t))||void 0===i?void 0:i.Ko;void 0!==e&&(s=e)}const o=this.$t().Au(),a=null!==o&&o.Vu instanceof Dl?o.Vu:void 0,l=null!==o&&void 0!==o.rv?o.rv.nr:void 0;return{ht:s,bn:null!=t?t:void 0,Tm:null!=e?e:void 0,hc:null!==(n=null==e?void 0:e.hc)&&void 0!==n?n:void 0,Pm:a,Dm:r,Em:l}}xm(t,e){this.Fp.m((()=>this.Cm(t,e)))}lm(t,e){this.Su.m((()=>this.Cm(t,e)))}um(){const t=this.$i.timeScale.visible?"":"none";this.am.Ef().style.display=t}wm(){return this.Zv[0].Tp().eo().F().visible}bm(){return this.Zv[0].Tp().ro().F().visible}}function Xu(t,e,i,n){const r=i.value;return{bn:e,ht:t,Dt:[r,r,r,r],Ko:n}}function Qu(t,e,i,n){const r=i.value,s={bn:e,ht:t,Dt:[r,r,r,r],Ko:n};return"color"in i&&void 0!==i.color&&(s.I=i.color),s}function tc(t){return void 0!==t.Dt}function ec(t){return(e,i,n,r)=>{return void 0===(s=n).open&&void 0===s.value?{ht:e,bn:i,Ko:r}:t(e,i,n,r);var s}}const ic={Candlestick:ec((function(t,e,i,n){const r={bn:e,ht:t,Dt:[i.open,i.high,i.low,i.close],Ko:n};return"color"in i&&void 0!==i.color&&(r.I=i.color),"borderColor"in i&&void 0!==i.borderColor&&(r.Et=i.borderColor),"wickColor"in i&&void 0!==i.wickColor&&(r.Jn=i.wickColor),r})),Bar:ec((function(t,e,i,n){const r={bn:e,ht:t,Dt:[i.open,i.high,i.low,i.close],Ko:n};return"color"in i&&void 0!==i.color&&(r.I=i.color),r})),Area:ec(Xu),Baseline:ec(Xu),Histogram:ec(Qu),Line:ec(Qu)};function nc(t){return ic[t]}function rc(t){return 60*t*60*1e3}function sc(t){return 60*t*1e3}const oc=[{Om:(1,1e3),Xo:10},{Om:sc(1),Xo:20},{Om:sc(5),Xo:21},{Om:sc(30),Xo:22},{Om:rc(1),Xo:30},{Om:rc(3),Xo:31},{Om:rc(6),Xo:32},{Om:rc(12),Xo:33}];function ac(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(let i=oc.length-1;i>=0;--i)if(Math.floor(e.getTime()/oc[i].Om)!==Math.floor(t.getTime()/oc[i].Om))return oc[i].Xo;return 0}function lc(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0===t.length)return;let i=0===e?null:t[e-1].ht.Bo,n=null!==i?new Date(1e3*i):null,r=0;for(let s=e;s<t.length;++s){const e=t[s],o=new Date(1e3*e.ht.Bo);null!==n&&(e.Yo=ac(o,n)),r+=e.ht.Bo-(i||e.ht.Bo),i=e.ht.Bo,n=o}if(0===e&&t.length>1){const e=Math.ceil(r/(t.length-1)),i=new Date(1e3*(t[0].ht.Bo-e));t[0].Yo=ac(new Date(1e3*t[0].ht.Bo),i)}}function uc(t){if(!wu(t))throw new Error("time must be of type BusinessDay");const e=new Date(Date.UTC(t.year,t.month-1,t.day,0,0,0,0));return{Bo:Math.round(e.getTime()/1e3),Vo:t}}function cc(t){if(!_u(t))throw new Error("time must be of type isUTCTimestamp");return{Bo:t}}function hc(t){return 0===t.length?null:wu(t[0].time)?uc:cc}function dc(t){return _u(t)?cc(t):wu(t)?uc(t):uc(fc(t))}function fc(t){const e=new Date(t);if(isNaN(e.getTime()))throw new Error("Invalid date string=".concat(t,", expected format=yyyy-mm-dd"));return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function pc(t){ko(t.time)&&(t.time=fc(t.time))}function yc(t){return{bn:0,Im:new Map,Zh:t}}function mc(t){if(void 0!==t&&0!==t.length)return{Nm:t[0].ht.Bo,Rm:t[t.length-1].ht.Bo}}function vc(t){let e;return t.forEach((t=>{void 0===e&&(e=t.Ko)})),yo(e)}function bc(t){void 0===t.Ko&&(t.Ko=t.time)}class gc{constructor(){this.Am=new Map,this.Lm=new Map,this.Vm=new Map,this.Bm=[]}S(){this.Am.clear(),this.Lm.clear(),this.Vm.clear(),this.Bm=[]}Fm(t,e){let i=0!==this.Am.size,n=!1;const r=this.Lm.get(t);if(void 0!==r)if(1===this.Lm.size)i=!1,n=!0,this.Am.clear();else for(const a of this.Bm)a.pointData.Im.delete(t)&&(n=!0);let s=[];if(0!==e.length){const i=e;i.forEach((t=>bc(t))),function(t){t.forEach(pc)}(e);const r=mo(hc(e)),o=nc(t.Kr());s=i.map((e=>{const i=r(e.time);let s=this.Am.get(i.Bo);void 0===s&&(s=yc(i),this.Am.set(i.Bo,s),n=!0);const a=o(i,s.bn,e,e.Ko);return s.Im.set(t,a),a}))}i&&this.zm(),this.Wm(t,s);let o=-1;if(n){const t=[];this.Am.forEach((e=>{t.push({Yo:0,ht:e.Zh,pointData:e,Ko:vc(e.Im)})})),t.sort(((t,e)=>t.ht.Bo-e.ht.Bo)),o=this.jm(t)}return this.$m(t,o,function(t,e){const i=mc(t),n=mc(e);if(void 0!==i&&void 0!==n)return{$h:i.Rm>=n.Rm&&i.Nm>=n.Nm}}(this.Lm.get(t),r))}Yu(t){return this.Fm(t,[])}Hm(t,e){const i=e;bc(i),pc(e);const n=mo(hc([e]))(e.time),r=this.Vm.get(t);if(void 0!==r&&n.Bo<r.Bo)throw new Error("Cannot update oldest data, last time=".concat(r.Bo,", new time=").concat(n.Bo));let s=this.Am.get(n.Bo);const o=void 0===s;void 0===s&&(s=yc(n),this.Am.set(n.Bo,s));const a=nc(t.Kr())(n,s.bn,e,i.Ko);s.Im.set(t,a),this.Um(t,a);const l={$h:tc(a)};if(!o)return this.$m(t,-1,l);const u={Yo:0,ht:s.Zh,pointData:s,Ko:vc(s.Im)},c=_a(this.Bm,u.ht.Bo,((t,e)=>t.ht.Bo<e));this.Bm.splice(c,0,u);for(let h=c;h<this.Bm.length;++h)wc(this.Bm[h].pointData,h);return lc(this.Bm,c),this.$m(t,c,l)}Um(t,e){let i=this.Lm.get(t);void 0===i&&(i=[],this.Lm.set(t,i));const n=0!==i.length?i[i.length-1]:null;null===n||e.ht.Bo>n.ht.Bo?tc(e)&&i.push(e):tc(e)?i[i.length-1]=e:i.splice(-1,1),this.Vm.set(t,e.ht)}Wm(t,e){0!==e.length?(this.Lm.set(t,e.filter(tc)),this.Vm.set(t,e[e.length-1].ht)):(this.Lm.delete(t),this.Vm.delete(t))}zm(){for(const t of this.Bm)0===t.pointData.Im.size&&this.Am.delete(t.ht.Bo)}jm(t){let e=-1;for(let i=0;i<this.Bm.length&&i<t.length;++i){const n=this.Bm[i],r=t[i];if(n.ht.Bo!==r.ht.Bo){e=i;break}r.Yo=n.Yo,wc(r.pointData,i)}if(-1===e&&this.Bm.length!==t.length&&(e=Math.min(this.Bm.length,t.length)),-1===e)return-1;for(let i=e;i<t.length;++i)wc(t[i].pointData,i);return lc(t,e),this.Bm=t,e}qm(){if(0===this.Lm.size)return null;let t=0;return this.Lm.forEach((e=>{0!==e.length&&(t=Math.max(t,e[e.length-1].bn))})),t}$m(t,e,i){const n={Ym:new Map,St:{O_:this.qm()}};if(-1!==e)this.Lm.forEach(((e,r)=>{n.Ym.set(r,{Te:e,Xm:r===t?i:void 0})})),this.Lm.has(t)||n.Ym.set(t,{Te:[],Xm:i}),n.St.Km=this.Bm,n.St.Zm=e;else{const e=this.Lm.get(t);n.Ym.set(t,{Te:e||[],Xm:i})}return n}}function wc(t,e){t.bn=e,t.Im.forEach((t=>{t.bn=e}))}function _c(t){return{value:t.Dt[3],time:t.Ko}}function Sc(t){const e=_c(t);return void 0!==t.I&&(e.color=t.I),e}function Tc(t){return{open:t.Dt[0],high:t.Dt[1],low:t.Dt[2],close:t.Dt[3],time:t.Ko}}const Ic={Area:_c,Line:Sc,Baseline:_c,Histogram:Sc,Bar:function(t){const e=Tc(t);return void 0!==t.I&&(e.color=t.I),e},Candlestick:function(t){const e=Tc(t),{I:i,Et:n,Jn:r}=t;return void 0!==i&&(e.color=i),void 0!==n&&(e.borderColor=n),void 0!==r&&(e.wickColor=r),e}};function xc(t){return Ic[t]}const Mc={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:""};class Ec{constructor(t){this.Fr=t}applyOptions(t){this.Fr.Hr(t)}options(){return this.Fr.F()}Gm(){return this.Fr}}class Nc{constructor(t,e,i){this.sn=t,this.Jm=e,this.Qm=i}priceFormatter(){return this.sn.nl()}priceToCoordinate(t){const e=this.sn.xt();return null===e?null:this.sn.Pt().Tt(t,e.Dt)}coordinateToPrice(t){const e=this.sn.xt();return null===e?null:this.sn.Pt().Yi(t,e.Dt)}barsInLogicalRange(t){if(null===t)return null;const e=new lu(new su(t.from,t.to)).t_(),i=this.sn.fs();if(i.bi())return null;const n=i.uh(e.Xs(),1),r=i.uh(e.Ks(),-1),s=mo(i.ah()),o=mo(i.ds());if(null!==n&&null!==r&&n.bn>r.bn)return{barsBefore:t.from-s,barsAfter:o-t.to};const a={barsBefore:null===n||n.bn===s?t.from-s:n.bn-s,barsAfter:null===r||r.bn===o?o-t.to:o-r.bn};return null!==n&&null!==r&&(a.from=n.ht.Vo||n.ht.Bo,a.to=r.ht.Vo||r.ht.Bo),a}setData(t){this.sn.Kr(),this.Jm.tw(this.sn,t)}update(t){this.sn.Kr(),this.Jm.iw(this.sn,t)}dataByIndex(t,e){const i=this.sn.fs().uh(t,e);return null===i?null:xc(this.seriesType())(i)}setMarkers(t){const e=t.map((t=>Object.assign(Object.assign({},t),{originalTime:t.time,time:dc(t.time)})));this.sn.Uh(e)}markers(){return this.sn.qh().map((t=>{const{originalTime:e,time:i}=t,n=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]])}return i}(t,["originalTime","time"]);return Object.assign({time:e},n)}))}applyOptions(t){this.sn.Hr(t)}options(){return Ao(this.sn.F())}priceScale(){return this.Qm.priceScale(this.sn.Pt().al())}createPriceLine(t){const e=No(Ao(Mc),t),i=this.sn.Yh(e);return new Ec(i)}removePriceLine(t){this.sn.Xh(t.Gm())}seriesType(){return this.sn.Kr()}}class Cc extends Nc{applyOptions(t){gu(t),super.applyOptions(t)}}const Dc={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!0,scaleMargins:{bottom:.1,top:.2}},kc={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:Lo,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"},Oc={width:0,height:0,layout:{background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:11,fontFamily:Lo},crosshair:{vertLine:{color:"#758696",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#4c525e"},horzLine:{color:"#758696",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#4c525e"},mode:1},grid:{vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},overlayPriceScales:Object.assign({},Dc),leftPriceScale:Object.assign(Object.assign({},Dc),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},Dc),{visible:!0}),nonPrimaryPriceScale:Object.assign(Object.assign({},Dc),{visible:!0}),timeScale:{rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,ticksVisible:!0},watermark:kc,localization:{locale:Eu?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:!0,mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}},Ac={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},Bc={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},Fc={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},Lc={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},Pc={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},Uc={color:"#26a69a",base:0},Rc={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};class Vc{constructor(t,e){this.vf=t,this.sw=e}applyOptions(t){this.vf.$t().Bu(this.sw,t)}options(){return this.mi().F()}width(){return oa(this.sw)?this.vf.gm(this.sw):0}mi(){return mo(this.vf.$t().Fu(this.sw)).Pt}}class zc{constructor(t,e){this.nw=new Eo,this.__=new Eo,this.Nv=new Eo,this.yi=t,this.za=t.St(),this.am=e,this.za.X_().l(this.ew.bind(this)),this.za.K_().l(this.rw.bind(this)),this.am.Wv().l(this.hw.bind(this))}S(){this.za.X_().v(this),this.za.K_().v(this),this.am.Wv().v(this),this.nw.S(),this.__.S(),this.Nv.S()}scrollPosition(){return this.za.L_()}scrollToPosition(t,e){e?this.za.Y_(t,1e3):this.yi.Ds(t)}scrollToRealTime(){this.za.q_()}getVisibleRange(){var t,e;const i=this.za.k_();return null===i?null:{from:null!==(t=i.from.Vo)&&void 0!==t?t:i.from.Bo,to:null!==(e=i.to.Vo)&&void 0!==e?e:i.to.Bo}}setVisibleRange(t){const e={from:dc(t.from),to:dc(t.to)},i=this.za.P_(e);this.yi.cc(i)}getVisibleLogicalRange(){const t=this.za.y_();return null===t?null:{from:t.Xs(),to:t.Ks()}}setVisibleLogicalRange(t){po(t.from<=t.to,"The from index cannot be after the to index."),this.yi.cc(t)}resetTimeScale(){this.yi.Ts()}fitContent(){this.yi.J_()}logicalToCoordinate(t){const e=this.yi.St();return e.bi()?null:e.It(t)}coordinateToLogical(t){return this.za.bi()?null:this.za.I_(t)}timeToCoordinate(t){const e=dc(t),i=this.za._l(e,!1);return null===i?null:this.za.It(i)}coordinateToTime(t){var e;const i=this.yi.St(),n=i.I_(t),r=i.Xi(n);return null===r?null:null!==(e=r.Vo)&&void 0!==e?e:r.Bo}width(){return this.am.Of().Lt}height(){return this.am.Of().Vt}subscribeVisibleTimeRangeChange(t){this.nw.l(t)}unsubscribeVisibleTimeRangeChange(t){this.nw.p(t)}subscribeVisibleLogicalRangeChange(t){this.__.l(t)}unsubscribeVisibleLogicalRangeChange(t){this.__.p(t)}subscribeSizeChange(t){this.Nv.l(t)}unsubscribeSizeChange(t){this.Nv.p(t)}applyOptions(t){this.za.Hr(t)}options(){return Ao(this.za.F())}ew(){this.nw.M()&&this.nw.m(this.getVisibleRange())}rw(){this.__.M()&&this.__.m(this.getVisibleLogicalRange())}hw(t){this.Nv.m(t.Lt,t.Vt)}}function jc(t){if(void 0===t||"custom"===t.type)return;const e=t;void 0!==e.minMove&&void 0===e.precision&&(e.precision=function(t){if(t>=1)return 0;let e=0;for(;e<8;e++){const i=Math.round(t);if(Math.abs(i-t)<1e-8)return e;t*=10}return e}(e.minMove))}function $c(t){return function(t){if(Oo(t.handleScale)){const e=t.handleScale;t.handleScale={axisDoubleClickReset:e,axisPressedMouseMove:{time:e,price:e},mouseWheel:e,pinch:e}}else if(void 0!==t.handleScale&&Oo(t.handleScale.axisPressedMouseMove)){const e=t.handleScale.axisPressedMouseMove;t.handleScale.axisPressedMouseMove={time:e,price:e}}const e=t.handleScroll;Oo(e)&&(t.handleScroll={horzTouchDrag:e,vertTouchDrag:e,mouseWheel:e,pressedMouseMove:e})}(t),t}class Wc{constructor(t,e){this.lw=new gc,this.aw=new Map,this.ow=new Map,this._w=new Eo,this.uw=new Eo;const i=void 0===e?Ao(Oc):No(Ao(Oc),$c(e));this.vf=new qu(t,i),this.vf._v().l((t=>{this._w.M()&&this._w.m(this.cw(t()))}),this),this.vf.$u().l((t=>{this.uw.M()&&this.uw.m(this.cw(t()))}),this);const n=this.vf.$t();this.dw=new zc(n,this.vf.dm())}remove(){this.vf._v().v(this),this.vf.$u().v(this),this.dw.S(),this.vf.S(),this.aw.clear(),this.ow.clear(),this._w.S(),this.uw.S(),this.lw.S()}resize(t,e,i){this.vf.om(t,e,i)}addAreaSeries(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};jc(t.priceFormat);const e=No(Ao(Rc),Lc,t),i=this.vf.$t()._c("Area",e),n=new Nc(i,this,this);return this.aw.set(n,i),this.ow.set(i,n),n}addBaselineSeries(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};jc(t.priceFormat);const e=No(Ao(Rc),Ao(Pc),t),i=this.vf.$t()._c("Baseline",e),n=new Nc(i,this,this);return this.aw.set(n,i),this.ow.set(i,n),n}addBarSeries(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};jc(t.priceFormat);const e=No(Ao(Rc),Bc,t),i=this.vf.$t()._c("Bar",e),n=new Nc(i,this,this);return this.aw.set(n,i),this.ow.set(i,n),n}addCandlestickSeries(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};gu(t),jc(t.priceFormat);const e=No(Ao(Rc),Ac,t),i=this.vf.$t()._c("Candlestick",e),n=new Cc(i,this,this);return this.aw.set(n,i),this.ow.set(i,n),n}addHistogramSeries(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};jc(t.priceFormat);const e=No(Ao(Rc),Uc,t),i=this.vf.$t()._c("Histogram",e),n=new Nc(i,this,this);return this.aw.set(n,i),this.ow.set(i,n),n}addLineSeries(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};jc(t.priceFormat);const e=No(Ao(Rc),Fc,t),i=this.vf.$t()._c("Line",e),n=new Nc(i,this,this);return this.aw.set(n,i),this.ow.set(i,n),n}removeSeries(t){const e=yo(this.aw.get(t)),i=this.lw.Yu(e);this.vf.$t().Yu(e),this.fw(i),this.aw.delete(t),this.ow.delete(e)}tw(t,e){this.fw(this.lw.Fm(t,e))}iw(t,e){this.fw(this.lw.Hm(t,e))}subscribeClick(t){this._w.l(t)}unsubscribeClick(t){this._w.p(t)}subscribeCrosshairMove(t){this.uw.l(t)}unsubscribeCrosshairMove(t){this.uw.p(t)}priceScale(t){return new Vc(this.vf,t)}timeScale(){return this.dw}applyOptions(t){this.vf.Hr($c(t))}options(){return this.vf.F()}takeScreenshot(){return this.vf.vm()}removePane(t){this.vf.$t().qu(t)}swapPane(t,e){this.vf.$t().Xu(t,e)}getPaneElements(){return this.vf.wf().map((t=>t.Mv()))}fw(t){const e=this.vf.$t();e.ac(t.St.O_,t.St.Km,t.St.Zm),t.Ym.forEach(((t,e)=>e.G(t.Te,t.Xm))),e.R_()}pw(t){return yo(this.ow.get(t))}cw(t){const e=new Map;t.Dm.forEach(((t,i)=>{const n=xc(i.Kr())(t);po(function(t){return void 0!==t.open||void 0!==t.value}(n)),e.set(this.pw(i),n)}));const i=void 0===t.Pm?void 0:this.pw(t.Pm);return{time:t.ht,logical:t.bn,point:t.Tm,paneIndex:t.hc,hoveredSeries:i,hoveredMarkerId:t.Em,seriesData:e}}}var Yc=i(184),Hc=function(t){return t.Area="addAreaSeries",t.Baseline="addBaselineSeries",t.Histogram="addHistogramSeries",t.Line="addLineSeries",t.Bar="addBarSeries",t.Candlestick="addCandlestickSeries",t}(Hc||{});const Zc=()=>{const t=(0,d.useRenderData)().args.charts,e=(0,c.useRef)(null),i=Array(t.length).fill((0,c.useRef)(null)),n=(0,c.useRef)([]),r=document.createElement("div");return r.style.background="white",r.style.color="black",r.style.borderColor="#2962FF",r.className="floating-tooltip-2",r.style.display="none",(0,c.useEffect)((()=>{if(i.find((t=>!t.current)))return;i.forEach(((e,s)=>{const o=n.current[s]=function(t,e){let i;if(ko(t)){const e=document.getElementById(t);po(null!==e,"Cannot find element in DOM with id=".concat(t)),i=e}else i=t;return new Wc(i,e)}(e.current,{height:300,width:i[s].current.clientWidth,...t[s].chart});for(const i of t[s].series){const t=o[Hc[i.type]](i.options);i.priceScale&&o.priceScale(i.options.priceScaleId||"").applyOptions(i.priceScale),t.setData(i.data),i.markers&&t.setMarkers(i.markers)}e.current.appendChild(r),o.subscribeCrosshairMove((i=>{if(!i.point||!i.time)return void(r.style.display="none");const n=[];t.forEach((t=>{t.series.forEach(((t,e)=>{const r=[...i.seriesData.values()][e];n.push({title:t.title,type:t.type,values:r})}))}));const s=function(t){let e;if("number"===typeof t)e=new Date(1e3*t);else{if("string"!==typeof t)return console.error("Unrecognized time type:",typeof t),"Invalid time";if(!t.match(/^\d{4}-\d{2}-\d{2}/))return console.error("Unrecognized time format:",t),"Invalid time";e=new Date(t)}return e.toISOString().slice(0,19).replace("T"," ")}(i.time);let o='<div class="tooltip-content"><strong>Time:</strong> '.concat(s,"</div>");n.forEach((t=>{o+='<div class="tooltip-content"><strong class="tooltip-title">'.concat(t.title,"</strong>: "),"Candlestick"===t.type?o+="O: ".concat(t.values.open,", H: ").concat(t.values.high,", L: ").concat(t.values.low,", C: ").concat(t.values.close,"</div>"):o+=" ".concat(Math.round(100*(t.values.value+Number.EPSILON))/100,"</div>")}));const a=i.point.y;let l=i.point.x+15+100;l>e.current.clientWidth-80&&(l=i.point.x-15-80);let u=a+15;u>e.current.clientHeight-80&&(u=a-80-15),r.style.left=l+"px",r.style.top=u+"px",r.innerHTML=o,r.style.display="block"})),o.subscribeClick((e=>{if(!e.point||!e.time)return;const i=[];t.forEach((t=>{t.series.forEach(((t,n)=>{const r=[...e.seriesData.values()][n];i.push({title:t.title,type:t.type,values:r})}))})),no.setComponentValue({time:e.time,prices:i})})),o.timeScale().fitContent()}));const e=n.current.map((t=>t));return t.length>1&&e.forEach((t=>{t&&(t.timeScale().subscribeVisibleTimeRangeChange((i=>{e.filter((e=>e!==t)).forEach((e=>{e.timeScale().applyOptions({rightOffset:t.timeScale().scrollPosition()})}))})),t.timeScale().subscribeVisibleLogicalRangeChange((i=>{i&&e.filter((e=>e!==t)).forEach((t=>{t.timeScale().setVisibleLogicalRange({from:null===i||void 0===i?void 0:i.from,to:null===i||void 0===i?void 0:i.to})}))})))})),()=>{e.forEach((t=>{t.remove(),r.remove()}))}}),[t,i,n]),(0,Yc.jsx)("div",{ref:e,children:i.map(((t,e)=>(0,Yc.jsx)("div",{ref:t,id:"lightweight-charts-".concat(e)},"lightweight-charts-".concat(e))))})};h.render((0,Yc.jsx)(c.StrictMode,{children:(0,Yc.jsx)(d.StreamlitProvider,{children:(0,Yc.jsx)(Zc,{})})}),document.getElementById("root"))})()})();
//# sourceMappingURL=main.4a74a611.js.map